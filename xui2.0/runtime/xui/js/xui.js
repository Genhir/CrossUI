/*
* CrossUI(xui) JavaScript Library v2.0
* http://crossui.com
* 
* Copyright ( 2004 ~ present) CrossUI.com
* Released under the MIT license
*
*/
undefined;var xui=function(d,c){return xui.Dom.pack(d,c)},Class=xui.Class=function(E,r,m){var e,z=[],p=Class,l=window,y=p._fun,g=p._reg,h,u,x,o,B,d=p._all,C=function(f){return(f+"").replace(/(\s*\/\*[^*]*\*+([^\/][^*]*\*+)*\/)|(\s*\/\/[^\n]*)|(\)[\s\S]*)/g,function(j){return j.charAt(0)!=")"?"":j})};m=m||{};if(!p._ignoreNSCache&&(o=xui.get(l,E.split(".")))&&typeof(o)=="function"&&o.$xuiclass$){return p._last=o}if(o=xui.get(l,["xui","$cache","SC"])){delete o[E]}r=(!r?[]:typeof r=="string"?[r]:r);for(x=0;o=r[x];x++){if(!(z[x]=(xui.get(l,o.split("."))||(xui&&xui.SC&&xui.SC(o))))){throw"errNoParent--"+o}}if(m.Dependencies){if(typeof m.Dependencies=="string"){m.Dependencies=[m.Dependencies]}for(x=0;o=m.Dependencies[x];x++){if(!(xui.get(l,o.split("."))||(xui&&xui.SC&&xui.SC(o)))){throw"errNoDependency--"+o}}}h=z[0];var c=m.$Start||(h&&h.$Start);xui.tryF(c,[],m);e=m.Static||{};o={};for(x in e){if(g[x]){o[x]=1}}for(x in o){delete e[x]}e.Before=m.Before||(h&&h.Before);e.After=m.After||(h&&h.After);e.$Start=c;e.$End=m.$End||(h&&h.$End);e.__gc=m.__gc||e.__gc||(h&&h.__gc)||function(){Class.__gc(this.$key)};var n=function(){if(typeof this.initialize=="function"){this.initialize()}};if(typeof m.Constructor=="function"){u=y(m.Constructor,"Constructor",E,h||n,"constructor");u.Constructor=C(m.Constructor)}else{if(h){var A=n,q=h.Constructor;if(q){A=new Function(q.slice(q.indexOf("(")+1,q.indexOf(")")).split(","),q.slice(q.indexOf("{")+1,q.lastIndexOf("}")))}u=y(A,"Constructor",E,h.upper,"constructor");u.Constructor=C(q)}else{u=n}}B=xui.fun();for(x=z.length-1;o=z[x--];){xui.merge(B,o);xui.merge(B.prototype,o.prototype)}u.KEY=u.$key=u.prototype.KEY=u.prototype.$key=E;p._wrap(u,e,0,B,"static");if(o=m.Instance){p._wrap(u.prototype,o,1,B.prototype,"instance")}p._inherit(u,B);p._inherit(u.prototype,B.prototype);B=null;if(xui.tryF(u.Before,arguments,u)===false){return false}for(x=0;o=z[x];x++){o=(o.$children||(o.$children=[]));for(var v=0,s=o.length,D;v<s;v++){if(o[s]==E){D=true;break}}if(!D){o[o.length]=E}}u.$xui$=u.$xuiclass$=1;u.$children=[];u.$parent=z;u.prototype.constructor=u;u.prototype.$xui$=1;u[E]=u.prototype[E]=true;B=o=xui.get(l,E.split("."));xui.set(l,E.split("."),u);if(Object.prototype.toString.call(B)=="[object Object]"){for(x in B){u[x]=B[x]}}xui.tryF(u.After,[],u);xui.tryF(m.Initialize,[],u);xui.tryF(u.$End,[],u);xui.breakO([m.Static,m.Instance,m],2);if(!(E in d)){d[E]=d.length;d.push(E)}return p._last=u};xui.Namespace=function(e){var d=e.split("."),c=window;return xui.get(c,d)||xui.set(c,d,{})};xui.merge=function(j,h,d,g){var c,e;if(typeof d=="function"){e=d;d="fun"}switch(d){case"fun":for(c in h){if((g||h.hasOwnProperty(c))&&true===e(h[c],c)){j[c]=h[c]}}break;case"all":for(c in h){if((g||h.hasOwnProperty(c))){j[c]=h[c]}}break;case"with":for(c in h){if((g||h.hasOwnProperty(c))&&j.hasOwnProperty(c)){j[c]=h[c]}}break;default:for(c in h){if((g||h.hasOwnProperty(c))&&!j.hasOwnProperty(c)){j[c]=h[c]}}}return j};new function(){var g=0,h=["ms","moz","webkit","o"],e=window,f=0,d=h.length,c;for(;f<d&&!e.requestAnimationFrame&&(c=h[f++]);){e.requestAnimationFrame=e[c+"RequestAnimationFrame"];e.cancelAnimationFrame=e[c+"CancelAnimationFrame"]||e[c+"CancelRequestAnimationFrame"]}if(!e.requestAnimationFrame){e.requestAnimationFrame=function(n,k){var j=(new Date()).getTime(),l=Math.max(0,1000/60-(j-g)),m=setTimeout(function(){n(j+l)},l);g=j+l;return m}}if(!e.cancelAnimationFrame){e.cancelAnimationFrame=function(j){clearTimeout(j)}}};new function(){var c=Object.prototype.toString;xui.merge(xui,{stamp:function(){return +new Date()},rand:function(){return parseInt(xui.stamp()*Math.random(),10).toString(36)},setTimeout:function(e,d){return(d||0)>1000/60?(setTimeout(e,d)*-1):requestAnimationFrame(e)},clearTimeout:function(d){if(d>=0){cancelAnimationFrame(d)}else{clearTimeout(Math.abs(d))}},fun:function(){return function(){}},exec:function(e,m){var j=this,k=document,g=k.getElementsByTagName("head")[0]||k.documentElement,f=k.createElement("script"),l;f.type="text/javascript";if(m){if((l=k.getElementById(m))&&l.parentNode==g){g.removeChild(l)}f.id=m}if(xui.browser.ie){f.text=e}else{f.appendChild(k.createTextNode(e))}g.appendChild(f);f.disalbed=true;f.disabled=false;if(!m){g.removeChild(f)}return f},get:function(h,g){if(!g){return h}if(!xui.isSet(h)){return undefined}else{if(typeof g=="string"){return h[g]}else{for(var f=0,d=g.length,e;f<d;){if(!(e=g[f++]+"")){continue}if(!h||(h=e!=(e=e.replace("()",""))?(typeof(h[e])=="function"&&0!==e.indexOf("set"))?h[e]():undefined:h[e])===undefined){return}}return h}}},set:function(k,j,h){if(!k){return}if(typeof j!="string"){var e,f=0,d,g=j.length-1;for(;f<g;){e=j[f++];if(k[e]&&((d=typeof k[e])=="object"||d=="function")){k=k[e]}else{k=k[e]={}}}j=j[g]}if(j!=(j=(j+"").replace("()",""))){if(typeof(k[j])=="function"){k[j](h);return h}}else{if(h===undefined){if(k.hasOwnProperty&&k.hasOwnProperty(j)){delete k[j]}else{k[j]=undefined}}else{return k[j]=h}}},tryF:function(d,e,f,g){return(d&&typeof d=="function")?d.apply(f||{},e||[]):g},asyRun:function(d,g,e,f){return xui.setTimeout(typeof d=="string"?function(){xui.exec(d)}:function(){d.apply(f,e||[]);d=e=null},g||0)},asyHTML:function(f,j,g,e){var h=document.createElement("div"),d=document.createDocumentFragment();h.innerHTML=f;(function(){var k=e||10;while(--k&&h.firstChild){d.appendChild(h.firstChild)}if(h.firstChild){xui.setTimeout(arguments.callee,g||0)}else{j(d)}})()},isEmpty:function(e){if(e==null){return true}if(xui.isNumb(e)){return false}if(xui.isArr(e)||xui.isStr(e)||xui.isArguments(e)){return e.length===0}for(var d in e){if(Object.prototype.hasOwnProperty.call(e,d)){return false}}return true},resetRun:function(h,d,m,g,j){var l=arguments.callee,f=h,e=l.$cache||((l.exists=function(n){return this.$cache[n]})&&(l.$cache={}));if(e[f]){xui.clearTimeout(e[f])}if(typeof d=="function"){e[f]=xui.setTimeout(function(){delete e[f];d.apply(j||null,g||[])},m||0)}else{delete e[f]}},observableRun:function(g,e,f,d){xui.Thread.observableRun(g,e,f,d)},breakO:function(k,m){var o=m||1,d=1+(arguments[2]||0),f=arguments.callee,h="___gc_",g;if(k&&(typeof k=="object"||typeof k=="function")&&k!==window&&k!==document&&k.nodeType!==1){try{if(k.hasOwnProperty(h)){return}else{k[h]=null}}catch(j){return}try{for(g in k){if(k.hasOwnProperty(g)&&k[g]){if(typeof k[g]=="object"||typeof k[g]=="function"){if(d<o){f(k[g],o,d)}}try{k[g]=null}catch(j){}}}}catch(j){return}if(k.length){k.length=0}delete k[h]}},each:function(g,d,f){f=f||g;for(var e in g){if(false===d.call(f,g[e],e,g)){break}}return g},compareNumber:function(e,d,f){return xui.toFixedNumber(e,f)===xui.toFixedNumber(d,f)},toFixedNumber:function(j,k){if(!xui.isSet(k)){k=2}var d=Math.abs(j),h=""+Math.round(d*Math.pow(10,k)),f,g,l,e;if(/\D/.test(h)){f=""+d}else{while(h.length<1+k){h="0"+h}l=h.substring(0,g=(h.length-k));e=h.substring(g);if(e){e="."+e}f=l+e}return parseFloat((j<0?"-":"")+f)},toNumeric:function(g,d,f,e){if(!xui.isNumb(g)){g=parseFloat((g+"").replace(/\s*(e\+|[^0-9])/g,function(j,h,k){return h=="e+"||h=="E+"||(k==0&&h=="-")?h:h==e?".":""}))||0}if(xui.isSet(d)&&d>=0){g=xui.toFixedNumber(g,d)}return g},formatNumeric:function(h,d,g,e,f,j){if(xui.isSet(d)){d=parseInt(d,10)}d=(d||d===0)?d:0;g=xui.isSet(g)?g:",";e=e||".";h=""+parseFloat(h);if(h.indexOf("e")==-1){h=xui.toFixedNumber(h,d)+"";h=h.split(".");if(f!==false){if((h[1]?h[1].length:0)<d){h[1]=(h[1]||"")+xui.str.repeat("0",d-(h[1]?h[1].length:0))}}h[0]=h[0].split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+g).split("").reverse().join("");h=h.join(e)}return j&&h.indexOf(e)!=-1?h.replace(new RegExp("["+e+"]?0+$"),""):h},copy:function(e,d){return xui.clone(e,d,1)},clone:function(g,d,p){var m=arguments[3]||0;if(g&&(xui.isHash(g)||xui.isArr(g))){if(xui.isObj(g)){var n=arguments.callee,f=xui.isArr(g),k=f?[]:{},j=0,o,e;if(!p){if(p<=0){return g}else{p=100}}if(f){e=g.length;for(;j<e;j++){if(typeof d=="function"&&false===d.call(g,g[j],j,m+1)){continue}k[k.length]=((o=g[j])&&p&&(xui.isHash(o)||xui.isArr(o)))?n(o,d,p-1,m+1):o}}else{for(j in g){if(d===true?j.charAt(0)=="_":d===false?(j.charAt(0)=="_"||j.charAt(0)=="$"):typeof d=="function"?false===d.call(g,g[j],j,m+1):0){continue}k[j]=((o=g[j])&&p&&(xui.isHash(o)||xui.isArr(o)))?n(o,d,p-1,m+1):o}}return k}else{return g}}else{return g}},filter:function(h,e,d){if(!d&&h&&xui.isArr(h)){var j,g,m,k=[],f;for(j=0,g=h.length;j<g;j++){k[k.length]=h[j]}h.length=0;for(j=0,g=k.length;j<g;j++){if(typeof e=="function"?false!==e.call(k,k[j],j):1){h[h.length]=k[j]}}}else{var j,n={};for(j in h){if(e===true?j.charAt(0)=="_":e===false?(j.charAt(0)=="_"||j.charAt(0)=="$"):typeof e=="function"?false===e.call(h,h[j],j):0){n[j]=1}}for(j in n){delete h[j]}}return h},toArr:function(h,f){if(!h){return[]}var d=[];if(typeof f=="boolean"){for(var g in h){d[d.length]=f?g:h[g]}}else{if(xui.isHash(h)){for(var g in h){d.push({key:g,value:h[g]})}}else{if(typeof h=="string"){d=h.split(f||",")}else{for(var g=0,e=h.length;g<e;++g){d[g]=h[g]}}}}return d},toUTF8:function(d){return d.replace(/[^\x00-\xff]/g,function(f,e){return"\\u"+((e=f.charCodeAt())<16?"000":e<256?"00":e<4096?"0":"")+e.toString(16)})},fromUTF8:function(d){return d.replace(/\\u([0-9a-f]{3})([0-9a-f])/g,function(f,e,g){return String.fromCharCode((parseInt(e,16)*16+parseInt(g,16)))})},urlEncode:function(f){var d=[],e,g;for(e in f){if(xui.isDefined(g=f[e])){d.push(encodeURIComponent(e)+"="+encodeURIComponent(typeof g=="string"?g:xui.serialize(g)))}}return d.join("&")},urlDecode:function(m,p){if(!m){return p?"":{}}var j,g={},n=m.split("&"),d;for(var h=0,f=n.length;h<f;h++){d=n[h];j=d.split("=");try{g[decodeURIComponent(j[0])]=decodeURIComponent(j[1])}catch(k){g[j[0]]=j[1]}}return p?g[p]:g},preLoadImage:function(h,g,j){if(xui.isArr(h)){for(var f=0,d=arr.length;f<d;f++){xui.preLoadImage(h[f],g,j)}return d}var e=document.createElement("img");e.style.cssText="position:absolute;left:-999px;top:-999px";e.width=e.height=2;e.onload=function(){if(typeof g=="function"){g.call(this)}this.onload=this.onerror=null;document.body.removeChild(this)};e.onerror=function(){if(typeof j=="function"){j.call(this)}this.onload=this.onerror=null;document.body.removeChild(this)};document.body.appendChild(e);e.src=h;return 1},isDefined:function(d){return d!==undefined},isNull:function(d){return d===null},isSet:function(d){return d!==undefined&&d!==null&&d!==NaN},isObj:function(d){return !!d&&(typeof d=="object"||typeof d=="function")},isHash:function(d){return !!d&&c.call(d)=="[object Object]"&&d.constructor&&/^\s*function\s+Object\(\s*\)/.test(d.constructor.toString())&&!Object.prototype.hasOwnProperty.call(d,"callee")},isBool:function(d){return typeof d=="boolean"},isNumb:function(d){return typeof d=="number"&&isFinite(d)},isFinite:function(d){return(d||d===0)&&isFinite(d)&&!isNaN(parseFloat(d))},isDate:function(d){return c.call(d)==="[object Date]"&&isFinite(+d)},isFun:function(d){return c.call(d)==="[object Function]"},isArr:function(d){return c.call(d)==="[object Array]"},isReg:function(d){return c.call(d)==="[object RegExp]"},isStr:function(d){return c.call(d)==="[object String]"},isArguments:function(d){return d&&(c.call(d)==="[object Arguments]"||Object.prototype.hasOwnProperty.call(d,"callee"))},isElem:function(d){return !!(d&&d.nodeType===1)},isNaN:function(d){return typeof d=="number"&&d!=+d},str:{startWith:function(e,d){return e.indexOf(d)===0},endWith:function(e,f){var d=e.length-f.length;return d>=0&&e.lastIndexOf(f)===d},repeat:function(e,d){return new Array(d+1).join(e)},initial:function(d){return d.charAt(0).toUpperCase()+d.substring(1)},trim:function(d){return d?d.replace(/^(\s|\uFEFF|\xA0)+|(\s|\uFEFF|\xA0)+$/g,""):d},ltrim:function(d){return d?d.replace(/^(\s|\uFEFF|\xA0)+/,""):d},rtrim:function(d){return d?d.replace(/(\s|\uFEFF|\xA0)+$/,""):d},toDom:function(j){var h=xui.$getGhostDiv(),g=[];h.innerHTML=j;for(var f=0,e=h.childNodes,d=e.length;f<d;f++){g[g.length]=e[f]}h=null;return xui(g)}},arr:{fastSortObject:function(k,h){if(!k||k.length<2){return k}var q=k.length,m=[],l=(q+"").length,d=Object.prototype,e,u,n,r;for(var g=0;g<l;g++){m[g]=new Array(l-g).join("0")}for(var f=0;f<q;f++){u=f+"";n=k[f];if(typeof n=="object"){n._xui_$s$=(xui.isSet(r=h.call(n,f))?r:"")+m[u.length-1]+u}}try{e=d.toString;d.toString=function(){return this.hasOwnProperty("_xui_$s$")?(this._xui_$s$):(e.call(this))};k.sort()}finally{d.toString=e;for(var f=0;f<q;f++){if(typeof k[f]=="object"){delete k[f]._xui_$s$}}}return k},stableSort:function(e,j){if(e&&e.length>1){for(var h=0,g=e.length,f=[],d=[];h<g;h++){d[h]=e[f[h]=h]}if(xui.isFun(j)){f.sort(function(k,l){return j.call(e,e[k],e[l])||(k>l?1:-1)})}else{f.sort(function(k,l){return e[k]>e[l]?1:e[k]<e[l]?-1:k>l?1:-1})}for(h=0;h<g;h++){e[h]=d[f[h]]}f.length=d.length=0}return e},subIndexOf:function(d,g,h){if(h===undefined){return -1}for(var f=0,e=d.length;f<e;f++){if(d[f]&&d[f][g]===h){return f}}return -1},removeFrom:function(d,e,f){d.splice(e,f||1);return d},removeValue:function(d,g){for(var e=d.length,f=e-1;f>=0;f--){if(d[f]===g){d.splice(f,1)}}return d},insertAny:function(d,j,h,g){var f=d.length;g=(!xui.isArr(j))||g;if(h===0){if(g){d.unshift(j)}else{d.unshift.apply(d,j)}}else{var e;if(!h||h<0||h>f){h=f}if(h!=f){e=d.splice(h,f-h)}if(g){d[d.length]=j}else{d.push.apply(d,j)}if(e){d.push.apply(d,e)}}return h},indexOf:function(d,g){for(var f=0,e=d.length;f<e;f++){if(d[f]===g){return f}}return -1},each:function(d,g,j,k){var h,f,e=d;if(!e){return e}if(!xui.isArr(e)){if(!xui.isArr(e._nodes)){return e}e=e._nodes;if(k===undefined){k=1}}f=e.length;j=j||d;if(!k){for(h=0;h<f;h++){if(g.call(j,e[h],h,e)===false){break}}}else{for(h=f-1;h>=0;h--){if(g.call(j,e[h],h,e)===false){break}}}return d},removeDuplicate:function(d,h){var f=d.length,e=d.concat();d.length=0;for(var g=f-1;g>=0;g--){if(h?this.subIndexOf(e,h,e[g][h])===g:this.indexOf(e,e[g])===g){d.push(e[g])}}return d.reverse()}}})};xui.merge(xui.fun,{body:function(c){var d=""+c;d=d.replace(/(\s*\/\*[^*]*\*+([^\/][^*]*\*+)*\/)|(\s*\/\/[^\n]*)|(\)[\s\S]*)/g,function(e){return e.charAt(0)!=")"?"":e});return d.slice(d.indexOf("{")+1,d.lastIndexOf("}"))},args:function(c){var d=""+c;d=d.replace(/(\s*\/\*[^*]*\*+([^\/][^*]*\*+)*\/)|(\s*\/\/[^\n]*)|(\)[\s\S]*)/g,function(e){return e.charAt(0)!=")"?"":e});d=d.slice(d.indexOf("(")+1,d.indexOf(")")).split(/\s*,\s*/);return d[0]&&d},clone:function(c){return new Function(xui.fun.args(c),xui.fun.body(c))}});xui.merge(Class,{_reg:{$key:1,$parent:1,$children:1,KEY:1,Static:1,Instance:1,Constructor:1,Initialize:1},_reg2:{nodeType:1,constructor:1,prototype:1,toString:1,valueOf:1,hasOwnProperty:1,isPrototypeOf:1,propertyIsEnumerable:1,toLocaleString:1},_all:[],_fun:function(c,d,e,g,f){c.$name$=d;c.$original$=e;if(f){c.$type$=f}if(g&&c!==g){c.upper=g}return c},_other:["toString","valueOf"],_o:{},_inherit:function(f,h,c){var d,g,e=this._reg;for(d in h){if(d in f||(!c&&e[d])||d.charAt(0)=="$"){continue}g=h[d];if(g&&g.$xui$){continue}f[d]=g}},_wrap:function(s,d,v,u,h){var w=this,n,m,g,l=s.KEY,c=w._reg,e=w._reg2,q=w._fun,p=w._other;for(n in d){if(e[n]||(!v&&c[n])){continue}g=d[n];s[n]=(typeof g!="function")?g:q(g,n,l,typeof u[n]=="function"&&u[n],h)}for(m=0;n=p[m++];){g=d[n];if(g&&(g==w._o[n])){continue}s[n]=(typeof g!="function")?g:q(g,n,l,typeof u[n]=="function"&&u[n],h)}},__gc:function(g){var c=Class._all;if(!g){for(var f=c.length-1;f>0;f--){Class.__gc(c[f])}return}if(typeof g=="object"){g=g.KEY||""}var e=xui.get(window,g.split(".")),h,f,d;if(e){if(h=xui.get(window,["xui","$cache","SC"])){delete h[g]}if(e.$parent){e.$parent.length=0}if(h=e.$children){for(var f=0,k;k=h[f];f++){if(k=xui.get(window,k.split("."))){k.__gc()}}h.length=0}for(f in e){if(f!="upper"&&typeof e[f]=="function"){for(d in e[f]){if(e[f].hasOwnProperty(d)){delete e[f][d]}}}}xui.breakO(e);e=e.prototype;for(f in e){if(f!="upper"&&typeof e[f]=="function"){for(d in e[f]){if(e[f].hasOwnProperty(d)){delete e[f][d]}}}}xui.breakO(e);xui.set(window,g.split("."))}c.splice(c[g],1);delete c[g]},destroy:function(c){Class.__gc(c)}});xui.merge(xui,{version:2,$DEFAULTHREF:"javascript:;",$IEUNSELECTABLE:function(){return xui.browser.ie?' onselectstart="return false;" ':""},SERIALIZEMAXLAYER:99,SERIALIZEMAXSIZE:9999,$localeKey:"en",$localeDomId:"xlid",$dateFormat:"",$rand:"_r_",SpaceUnit:"rem",$rem:function(c){return xui.browser.ie678?false:((c?c.spaceUnit:"")||xui.SpaceUnit)=="rem"},debugMode:true,Locale:{},$cache:{thread:{},SC:{},clsByURI:{},fetching:{},hookKey:{},hookKeyUp:{},snipScript:{},subscribes:{},ghostDiv:[],data:{},callback:{},domPurgeData:{},profileMap:{},reclaimId:{},template:{},UIKeyMapEvents:{},droppable:{},unique:{}},subscribe:function(d,f,h,g){if(d===null||d===undefined||f===null||f===undefined||typeof h!="function"){return}var j=xui.$cache.subscribes,e;j[d]=j[d]||[];e=xui.arr.subIndexOf(j[d],"id",f);if(e!=-1){xui.arr.removeFrom(j[d],e)}return j[d].push({id:f,receiver:h,asy:!!g})},unsubscribe:function(d,f){var g=xui.$cache.subscribes,e;if(!f){if(d===null||d===undefined){g={}}else{delete g[d]}}else{if(g[d]){e=xui.arr.subIndexOf(g[d],"id",f);if(e!=-1){xui.arr.removeFrom(g[d],e)}}}},publish:function(e,d,g,f){var h=xui.$cache.subscribes;if(e===null||e===undefined){for(var e in h){xui.arr.each(h[e],function(c){if(!g||g===c.id||(xui.isArr(g)&&xui.arr.indexOf(g,c.id)!=-1)){if(c.asy){xui.asyRun(c.receiver,0,d,f)}else{return xui.tryF(c.receiver,d,f,true)}}})}}else{if(h[e]){xui.arr.each(h[e],function(c){if(!g||g===c.id||(xui.isArr(g)&&xui.arr.indexOf(g,c.id)!=-1)){if(c.asy){xui.asyRun(c.receiver,0,d,f)}else{return xui.tryF(c.receiver,d,f,true)}}})}}},getSubscribers:function(c){return(c===null||c===undefined)?xui.$cache.subscribes:xui.$cache.subscribes[c]},setDateFormat:function(c){xui.$dateFormat=c},getDateFormat:function(){return xui.$dateFormat},setAppLangKey:function(c){xui.$appLangKey=c},getAppLangKey:function(c){return xui.$appLangKey},getLang:function(){return xui.$localeKey},setLang:function(q,s){var k=xui.getRes,u,r,h,e,n,c,o,p=[],d;xui.$localeKey=q;r=xui.browser.ie?document.all.tags("span"):document.getElementsByTagName("span");for(h=0;u=r[h];h++){if(u.id==xui.$localeDomId){p[p.length]=u}}d=p.length;n=function(){(function(){e=p.splice(0,100);for(h=0;u=e[h];h++){if(u.className&&typeof(r=k(u.className))=="string"){u.innerHTML=r}}if(p.length){xui.setTimeout(arguments.callee,0)}xui.tryF(s,[p.length,d])}())},o="xui.Locale."+q,c=function(){var f=xui.$appLangKey;if(f){xui.include(o+"."+f,xui.getPath("Locale."+q,".js"),n,n)}else{n()}};xui.include(o+".inline.$_$",xui.getPath(o,".js"),c,c)},getTheme:function(c){try{c=xui.CSS.$getCSSValue(".setting-uikey","fontFamily")}catch(d){}finally{return c||"default"}},setTheme:function(l,j,d,c){l=l||"default";var m=xui.getTheme();if(l!=m){var n=function(o){if(m!="default"){var e;while(e=xui.CSS.$getCSSValue(".setting-uikey","fontFamily",m)){e.disabled=true;e.parentNode.removeChild(e);e=null}}if(j!==false){xui.CSS.adjustFont();if(xui.UI){xui.UI.getAll().reLayout(true)}}xui.tryF(o)};if(l=="default"){n(d)}else{try{var g=xui.CSS.$getCSSValue(".setting-uikey","fontFamily")}catch(h){}finally{if(g==l){xui.tryF(d);return}else{xui.CSS.includeLink(xui.getPath("xui.appearance."+l,"/theme.css"),"theme:"+l)}var f=0,k=function(){if(f++>20){k=f=null;if(false!==xui.tryF(c)){throw"errLoadTheme:"+l}return}try{var p=xui.CSS.$getCSSValue(".setting-uikey","fontFamily")}catch(o){}finally{if(p==l){n(d);k=f=null}else{xui.asyRun(k,100*f)}}};k()}}}else{xui.tryF(d)}},reLayout:function(){if(xui.UI){xui.UI.getAll().reLayout(true)}},_langParamReg:/\x24(\d+)/g,_langscMark:/[$@{][\S]+/,_langReg:/((\$)([^\w\(]))|((\$)([\w][\w\.-]*[\w]+))|((\$)\(([\w][\w\.]*[^)\n\r]+))\)|((\$)([^\s]))|((\@)([\w][\w\.]*[\w]+)(\@?))|((\@)([^\s])(\@?))|((\{)([~!@#$%^&*+-\/?.|:][\w\[\]]*|[\w\[\]]+(\(\))?(\.[\w\[\]]+(\(\))?)*)(\}))/g,_escapeMap:{"$":"\x01",".":"\x02","-":"\x03",")":"\x04","@":"\x05"},_unescapeMap:{"\x01":"$","\x02":".","\x03":"-","\x04":")","\x05":"@"},getRes:function(g){var c,d,e,h=arguments,f;if(xui.isStr(g)){g=g.replace(/\$([$.-])/g,function(k,j){return xui._escapeMap[j]||k});if(g.charAt(0)=="$"){g=g.slice(1)}if(g.indexOf("-")!=-1){e=g.split("-");g=e[0];h=e}else{if(xui.isArr(h[1])){h=h[1];h.unshift(g)}}c=g.split(".");c[c.length-1]=c[c.length-1].replace(/([\x01\x02\x03\x04])/g,function(j){return xui._unescapeMap[j]})}else{if(xui.isArr(g)){c=g}else{return g}}d=xui.get(xui.Locale[xui.$localeKey],c);if((e=typeof d)=="function"){return d.apply(null,h)}else{if(e=="object"){return d}else{d=e=="string"?d.replace(/\$([$.-])/g,function(k,j){return xui._escapeMap[j]||k}):c[c.length-1];f=h.length>1?d.replace(xui._langParamReg,function(l,m,j){j=h[1+ +m];return(j===null||j===undefined)?l:j}):d;return f.replace(/([\x01\x02\x03])/g,function(j){return xui._unescapeMap[j]})}}},wrapRes:function(f){if(!xui.isStr(f)){return f}var c=f,d,e;if(c.charAt(0)=="$"){arguments[0]=c.substr(1,c.length-1)}d=f;e=xui.getRes.apply(null,arguments);if(d==e){e=c}return'<span id="'+xui.$localeDomId+'" class="'+d.replace(/([\x01\x02\x03\x04])/g,function(g){return"$"+xui._unescapeMap[g]})+'" '+xui.$IEUNSELECTABLE()+">"+e+"</span>"},adjustRes:function(h,f,d,c,g,e){if(!xui.isStr(h)){return h}f=f?xui.wrapRes:xui.getRes;h=h.replace(/\$([\$\.\-\)])/g,function(k,j){return xui._escapeMap[j]||k});h=xui._langscMark.test(h)?h.replace(xui._langReg,function(Z,Y,X,W,V,U,T,S,R,Q,P,O,N,M,L,K,J,I,H,G,F,E,D,C,B,A){return X=="$"?c?Z:W:U=="$"?c?Z:f(T,g):R=="$"?c?Z:f(Q,g):O=="$"?c?Z:f(N,g):((d?0:(L=="@"||H=="@"))||D=="{")?((A=xui.SC.get(L=="@"?K:H=="@"?G:C,e))||(xui.isSet(A)?A:"")):Z}):h;return h.replace(/([\x01\x02\x03\x04])/g,function(j){return xui._unescapeMap[j]})},adjustVar:function(e,d){var c;return typeof(e)=="string"?e=="{[]}"?[]:e=="{{}}"?{}:e=="{}"?"":e=="{true}"?true:e=="{false}"?false:e=="{NaN}"?NaN:e=="{null}"?null:e=="{undefined}"?undefined:e=="{now}"?new Date():(c=/^\s*\{((-?\d\d*\.\d*)|(-?\d\d*)|(-?\.\d\d*))\}\s*$/.exec(e))?parseFloat(c[1]):(c=/^\s*\{([\S]+)\}\s*$/.exec(e))?xui.SC.get(c[1],d):xui.adjustRes(e,false,true,true,null,d):e},_getrpc:function(e,f,c){var d=(c&&c.proxyType)?c.proxyType.toLowerCase():"";return(d=="sajax"||d=="jsonp")?xui.JSONP:(d=="iajax"||d=="xdmi")?xui.XDMI:(d=="ajax")?xui.Ajax:(typeof f=="object"&&((function(h){if(!xui.isHash(h)){return 0}for(var g in h){if((h[g]&&h[g].nodeType==1&&h[g].nodeName=="INPUT")||(h[g]&&h[g].$xuiFileCtrl)){return 1}}})(f)))?xui.XDMI:(c&&c.method&&c.method.toLowerCase()=="post")?xui.absIO.isCrossDomain(e)?xui.XDMI:xui.Ajax:xui.absIO.isCrossDomain(e)?xui.JSONP:xui.Ajax},request:function(d,e,g,h,f,c){return xui._getrpc(d,e,c).apply(null,arguments).start()},ajax:function(d,e,g,h,f,c){return xui.Ajax.apply(null,arguments).start()},jsonp:function(d,e,g,h,f,c){return xui.JSONP.apply(null,arguments).start()},xdmi:function(d,e,g,h,f,c){return xui.XDMI.apply(null,arguments).start()},restGet:function(d,e,g,h,f,c){if(!c){c={}}c.method="get";return xui.Ajax(d,e,g,h,f,c).start()},restPost:function(d,e,g,h,f,c){if(!c){c={}}c.method="post";return xui.Ajax(d,e,g,h,f,c).start()},restPut:function(d,e,g,h,f,c){if(!c){c={}}c.method="put";return xui.Ajax(d,e,g,h,f,c).start()},restDelete:function(d,e,g,h,f,c){if(!c){c={}}c.method="delete";return xui.Ajax(d,e,g,h,f,c).start()},getFileSync:function(e,d,f,g,c){return xui.Ajax(e,xui.$rand+"="+xui.rand(),f,g,null,xui.merge({asy:false,rspType:d||"text"},c,"without")).start()||null},getFileAsync:function(e,d,g,h,f,c){xui.Ajax(e,xui.$rand+"="+xui.rand(),g,h,f,xui.merge({asy:true,rspType:d||"text"},c,"without")).start()},include:function(h,e,f,g,d,c){if(h&&xui.SC.get(h)){xui.tryF(f)}else{c=typeof c=="object"?c:{};if(!d){c.rspType="script";c.checkKey=h;xui.JSONP(e,xui.$rand+"="+xui.rand(),f,g,0,c).start()}else{c.asy=!d;xui.Ajax(e,xui.$rand+"="+xui.rand(),function(j){try{xui.exec(j,h)}catch(k){xui.tryF(g,[k.name+": "+k.message])}xui.tryF(f)},g,0,c).start()}}},mailTo:function(f,g,c,h,e){var d="mailto:"+f+"?subject="+encodeURIComponent(xui.adjustRes(g||""))+"&body= "+encodeURIComponent(xui.adjustRes(c||""))+"&cc= "+(h||"")+"&bcc= "+(e||"");xui.XDMI(d).start()},fetchClass:function(g,m,d,j,e,h,q){if(/\//.test(g)&&!/\.js$/i.test(g)){g=g+".js"}q=q||{};var l=/\.js$/i.test(g),n=xui.$cache.clsByURI,k=xui.$cache.fetching,p,o;if(!l){if(!q.hasOwnProperty("appPath")&&window["/"]){q.appPath=window["/"]}p=g;g=xui.getPath(g,".js","js",q)}if(!e&&(l?((o=n[g])&&o.$xui$):(o=xui.SC.get(p)))){xui.tryF(m,[g,p],o)}else{if(!k[g]){k[g]=[m=m?[m]:[],d=d?[d]:[],j=j?[j]:[],[]];if(xui.absIO.isCrossDomain(g)){Class._ignoreNSCache=1;Class._last=null;xui.JSONP(g,xui.$rand+"="+xui.rand(),function(){if(Class._last){o=n[g]=Class._last}Class._ignoreNSCache=Class._last=null;if(o){for(var c in m){xui.tryF(m[c],[g,o.KEY],o)}}else{for(var c in d){xui.tryF(d[c],xui.toArr(arguments))}}var f=xui.getClassName(g);if(o&&o.KEY!=f){var r="The last class name in '"+g+"' should be '"+f+"', but it's '"+o.KEY+"'!";for(var c in j){xui.tryF(j[c],[r,g,f,o.KEY])}xui.asyRun(function(){throw r})}for(var c in k[g][3]){xui.Thread(k[g][3][c]).abort()}if(k[g]){k[g][0].length=0;k[g][1].length=0;k[g][2].length=0;k[g][3].length=0;k[g].length=0;delete k[g]}},function(){Class._ignoreNSCache=1;Class._last=null;for(var c in d){xui.tryF(d[c],xui.toArr(arguments))}for(var c in k[g][3]){xui.Thread(k[g][3][c]).abort()}if(k[g]){k[g][0].length=0;k[g][1].length=0;k[g][2].length=0;k[g][3].length=0;k[g].length=0;delete k[g]}},h,{rspType:"script"}).start()}else{xui.Ajax(g,xui.$rand+"="+xui.rand(),function(c){Class._ignoreNSCache=1;Class._last=null;var f;var u=xui.getClassName(g);try{f=xui.exec(c,u)}catch(v){for(var r in d){xui.tryF(d[r],[v.name+": "+v.message])}Class._last=null}if(Class._last){o=n[g]=Class._last}Class._last=null;if(o){for(var r in m){xui.tryF(m[r],[g,o.KEY],o)}}else{for(var r in d){xui.tryF(d[r],xui.toArr(arguments))}}if(o&&o.KEY!=u){var w="The last class name in '"+g+"' should be '"+u+"', but it's '"+o.KEY+"'!";for(var r in j){xui.tryF(j[r],[w,g,u,o.KEY])}xui.asyRun(function(){throw w})}for(var r in k[g][3]){xui.Thread(k[g][3][r]).abort()}if(k[g]){k[g][0].length=0;k[g][1].length=0;k[g][2].length=0;k[g][3].length=0;k[g].length=0;delete k[g]}},function(){Class._ignoreNSCache=Class._last=null;for(var c in d){xui.tryF(d[c],xui.toArr(arguments))}for(var c in k[g][3]){xui.Thread(k[g][3][c]).abort()}if(k[g]){k[g][0].length=0;k[g][1].length=0;k[g][2].length=0;k[g][3].length=0;k[g].length=0;delete k[g]}},h,{rspType:"text",asy:true}).start()}}else{if(m){k[g][0].push(m)}if(d){k[g][1].push(d)}if(j){k[g][2].push(j)}if(h){k[g][3].push(h);xui.Thread(h).suspend()}}}},fetchClasses:function(p,c,o,d,m,e,h,q){var k={},n=function(l,f,r){r[f]=xui.Thread(null,[function(s){xui.fetchClass(l,o,d,m,e,s,q)}])};for(var j=0,g=p.length;j<g;j++){n(p[j],j,k)}return xui.Thread.group(null,k,null,function(){xui.Thread(h).suspend()},function(){xui.tryF(c,arguments,this);xui.Thread(h).resume()}).start()},require:function(h,c,j,d,g,e,f,l){if(xui.isStr(h)){h=[h]}var k=function(n,m){xui.fetchClasses(n,function(){var q=[],w,x;for(var v=0,s=n.length;v<s;v++){w=xui.SC.get(n[v]);if(w&&(x=w.Required)&&x.length){for(var u=0,p=x.length;u<p;u++){if(!xui.SC.get(x[u])){q.push(x[u])}}}if(w&&w["xui.Module"]&&(w=w.prototype&&w.prototype.iniComponents)){xui.fun.body(w).replace(/\bxui.create\s*\(\s*['"]([\w.]+)['"]\s*[,)]/g,function(y,r){if(!(y=xui.SC.get(r))){q.push(r);y=null}})}}if(q.length){k(q,null)}else{var o=[];for(var v=0,s=h.length;v<s;v++){o.push(xui.SC.get(h[v]))}if(c){c.apply(null,o)}}},j,d,g,e,m,l)};k(h,f)},_m:[],main:function(c){if(xui.arr.indexOf(xui._m,c)==-1){xui._m.push(c)}if(xui.isDomReady){xui._domReadyFuns()}},getPath:function(h,m,c,k){h=h.split(".");if(c){var g=[h[0],c];for(var f=1,e=h.length;f<e;f++){g.push(h[f])}h.length=0;h=g}var d,j=xui.ini;if(h[0]=="xui"){d=(k&&k.xuiPath)||j.path;h.shift();if(h.length==(c?1:0)){h.push("xui")}}else{d=(k&&k.appPath)||j.appPath;if(h.length==((c?1:0)+1)&&m==".js"){h.push("index")}if((k&&k.verPath)||j.verPath){d+=((k&&k.verPath)||j.verPath)+"/"}if(j.ver){d+=j.ver+"/"}}if(d.slice(-1)!="/"){d+="/"}return d+h.join("/")+(m||"/")},getClassName:function(f){if(f&&xui.isStr(f)){var e=f.split(/\/js\//g),d,h,g=e.length;if(g>=2){d=e[g-2].split(/\//g);d=d[d.length-1];e=e[g-1].replace(/\.js$/i,"");return(d+(e?".":"")+e.replace(/\//g,".")).replace(/^([^.]+)\.index$/,"$1")}}},log:xui.fun(),echo:xui.fun(),message:xui.fun(),_pool:[],getObject:function(c){return xui._pool["$"+c]},getObjectByAlias:function(d){var e;for(var c in xui._pool){e=xui._pool[c];if(("alias" in e)&&e.alias===d){return typeof(e.boxing)=="function"?e.boxing():e}}},_ghostDivId:"xui.ghost::",$getGhostDiv:function(){var e=xui.$cache.ghostDiv,d=0,c=e.length,f;do{f=e[d++]}while(d<c&&(f&&f.firstChild));if(!f||f.firstChild){f=document.createElement("div");f.id=xui._ghostDivId;e.push(f)}return f},$xid:0,$registerNode:function(e){var f,d,c=xui.$cache.domPurgeData;if(!(e.$xid&&(d=c[e.$xid])&&d.element==e)){f="!"+xui.$xid++;d=c[f]||(c[f]={});d.element=e;e.$xid=d.$xid=f}e=null;return d},getId:function(c){if(typeof c=="string"){c=document.getElementById(c)}return c?window===c?"!window":document===c?"!document":(c.$xid||""):""},getNode:function(c){return xui.use(c).get(0)},getNodeData:function(c,d){if(!c){return}return xui.get(xui.$cache.domPurgeData[typeof c=="string"?c:xui.getId(c)],d)},setData:function(d,c){return xui.set(xui.$cache.data,d,c)},getData:function(c){return xui.get(xui.$cache.data,c)},setNodeData:function(c,e,d){if(!c){return}return xui.set(xui.$cache.domPurgeData[typeof c=="string"?c:xui.getId(c)],e,d)},$purgeChildren:function(h){var d=xui.$cache,p=d.profileMap,c=d.UIKeyMapEvents,q=d.domPurgeData,y=xui.Event.$eventhandler,g=(xui.browser.ie&&h.all)?h.all:h.getElementsByTagName("*"),k=g.length,u=[],n,m,f,x,s,r,e;for(n=0;n<k;n++){if(!(s=g[n])){continue}if(x=s.$xid){if(f=q[x]){if(r=f.eHandlers){if(xui.browser.isTouch&&r.onxuitouchdown){if(s.removeEventListener){s.removeEventListener("xuitouchdown",y,false)}else{if(s.detachEvent){s.detachEvent("xuitouchdown",y)}}}for(m in r){s[m]=null}}for(m in f){f[m]=null}delete q[x]}if(xui.browser.ie){s.removeAttribute("$xid")}else{delete s.$xid}}if(e=s.id){if(e in p){f=p[e];if(!f){continue}x=f.renderId;if("!window"===x||"!document"===x){continue}f.__gc();u[u.length]=e;if(f.$domId&&f.$domId!=f.domId){u[u.length]=f.$domId}}}}for(n=0;n<u.length;){delete p[u[n++]]}h.innerHTML=""},create:function(m,j){var g,c,k,h=arguments.callee,d=h.r1||(h.r1=/</);if(typeof m=="string"){if(k=xui.absBox.$type[m]){g=[];for(var f=1,e=arguments.length;f<e;f++){g[f-1]=arguments[f]}c=new (xui.SC(k))(false);if(c._ini){c._ini.apply(c,g)}}else{if(((k=xui.SC.get(m))&&k["xui.Module"])||j=="xui.Module"){if(k){c=new k()}else{c=new xui.UI.MoudluePlaceHolder();xui.require(m,function(n){if(n&&n["xui.Module"]){if(c.get(0).renderId){var l=new n();l.create(function(){c.replaceWithModule(l)})}else{c.get(0)._module=new n()}}})}}else{if(d.test(m)){c=xui.str.toDom(m)}else{c=document.createElement(m);c.id=typeof id=="string"?id:xui.id();c=xui(c)}}}}else{if(m["xui.Module"]){if((k=xui.SC.get(m.key))&&k["xui.Module"]){c=new k(m)}else{c=new xui.UI.MoudluePlaceHolder();if(m.host||m.alias){c.setHost(m.host,m.alias)}if(k=m.events){c.setEvents(k)}if(k=m.properties){c.setProperties(k)}if(m.moduleClass&&m.moduleXid){c.get(0).moduleClass=m.moduleClass;c.get(0).moduleXid=m.moduleXid}xui.require(m.key,function(n){if(n&&n["xui.Module"]){var l=new n(m);l.create(function(){c.replaceWithModule(l)})}})}}else{c=new (xui.SC(m.key))(m)}}return c},query:function(){return xui.doc.query.apply(xui.doc,arguments)},querySelector:function(){return xui.doc.querySelector.apply(xui.doc,arguments)},querySelectorAll:function(){return xui.doc.querySelectorAll.apply(xui.doc,arguments)},use:function(d){var f=xui._tempBox||(xui._tempBox=xui()),e=f._nodes;e[0]=d;if(e.length!=1){e.length=1}return f}});new function(){var q=window,x=navigator.userAgent.toLowerCase(),o=document,k=o.documentMode,p=xui.browser={kde:/webkit/.test(x),applewebkit:/applewebkit/.test(x),opr:/opera/.test(x),ie:(/msie/.test(x)&&!/opera/.test(x)),newie:/trident\/.* rv:([0-9]{1,}[.0-9]{0,})/.test(x),gek:/mozilla/.test(x)&&!/(compatible|webkit)/.test(x),isStrict:o.compatMode=="CSS1Compat",isWebKit:/webkit/.test(x),isFF:/firefox/.test(x),isChrome:/chrome/.test(x),isSafari:(!/chrome/.test(x))&&/safari/.test(x),isWin:/(windows|win32)/.test(x),isMac:/(macintosh|mac os x)/.test(x),isAir:/adobeair/.test(x),isLinux:/linux/.test(x),isSecure:location.href.toLowerCase().indexOf("https")==0,isTouch:!!navigator.userAgent.match(/AppleWebkit.*Mobile.*/)||(("ontouchend" in o)&&!(/hp-tablet/).test(x))||(q.DocumentTouch&&o instanceof DocumentTouch)||q.PointerEvent||q.MSPointerEvent,isIOS:/iphone|ipad|ipod/.test(x),isAndroid:/android/.test(x),isBB:/blackberry/.test(x)||/BB[\d]+;.+\sMobile\s/.test(navigator.userAgent)},r=function(d,e){e=x.split(e)[1].split(".");return d+(p.ver=parseFloat((e.length>0&&isFinite(e[1]))?(e[0]+"."+e[1]):e[0]))};if(q.matchMedia&&typeof q.matchMedia=="function"){p.isTouch=q.matchMedia("(any-pointer: coarse)").matches;p.deviceType=p.isTouch?((q.matchMedia("(any-hover: hover)").matches||q.matchMedia("(any-pointer: fine)").matches)?"hybrid":"touchOnly"):"mouseOnly"}else{p.deviceType=p.isTouch?"touchOnly":"mouseOnly"}xui.$secureUrl=p.isSecure&&p.ie?'javascript:""':"about:blank";xui.filter(p,function(d){return !!d});if(p.newie){p["newie"+(p.ver=k)]=true;p.cssTag1="-ms-";p.cssTag2="ms"}else{if(p.ie){if(xui.isNumb(k)){p["ie"+(p.ver=k)]=true}else{p[r("ie","msie ")]=true}if(p.ie6){try{document.execCommand("BackgroundImageCache",false,true)}catch(n){}q.XMLHttpRequest=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}if(p.ie6||p.ie7){p.ie67=1}if(p.ie6||p.ie7||p.ie8){p.ie678=1}p.cssTag1="-ms-";p.cssTag2="ms"}else{if(p.gek){p[r("gek",/.+\//)]=true;p.cssTag1="-moz-";p.cssTag2="Moz"}else{if(p.opr){p[r("opr","opera/")]=true;p.cssTag1="-o-";p.cssTag2="O"}else{if(p.kde){p[r("kde","webkit/")]=true;if(p.isSafari){if(/applewebkit\/4/.test(x)){p["safari"+(p.ver=2)]=true}else{p[r("safari","version/")]=true}}else{if(p.isChrome){p[r("chrome","chrome/")]=true}}if(p.isWebKit){p.cssTag1="-webkit-";p.cssTag2="Webkit"}else{p.cssTag1="-khtml-";p.cssTag2="Khtml"}}}}}}if(p.isBB&&!p.ver){p.ver=parseFloat(ua.split("/")[1].substring(0,3));p["bb"+p.ver]=true}p.contentBox=function(d){return(p.ie||p.opr)?!/BackCompat|QuirksMode/.test(o.compatMode):(d=(d=d||o.documentElement).style["-moz-box-sizing"]||d.style["box-sizing"])?(d=="content-box"):true}();var z=xui.ini={};if(window.xui_ini){xui.merge(z,window.xui_ini)}if(!z.path){var y,j=document.getElementsByTagName("script"),c=/js\/xui(-[\w]+)?\.js$/,g=j.length;while(--g>=0){y=j[g].src;if(y.match(c)){z.path=y.replace(c,"").replace(/\(/g,"%28").replace(/\)/g,"%29");break}}}xui.merge(z,{appPath:location.href.split("?")[0].replace(/[^\\\/]+$/,""),dummy_tag:"$_dummy_$"},"without");if(!z.path){z.path=z.appPath+"/xui/"}if(!z.basePath){z.basePath=z.path.replace(/xui\/$/,"").replace(/runtime\/$/,"")}z.releasePath=z.appPath;if(z.verPath){z.releasePath+=(z.verPath?(z.verPath+"/"):"")+(z.ver?(z.ver+"/"):"")}var h=new Image();h.onload=h.onerror=function(){var d=xui.ini.path+"appearance/_oldbrowser/";if(this.width!=1||this.height!=1){document.documentElement.className+=" xui-nodatauri";xui.merge(xui.ini,{img_dd:d+"ondrag.gif",img_busy:d+"busy.gif",img_pic:d+"picture.png",img_handler:d+"handler.gif",img_bg:d+"bg.gif",img_blank:d+"bg.gif"},"without")}h.onload=h.onerror=null};h.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";xui.merge(xui.ini,{img_dd:"data:image/gif;base64,R0lGODlhEABAAPcAAAAAAAEBAQICAgMDAwUFBAUFBQcHBwgICAkJCQwMDA8PDx4eHiQkJDAwMD8/P0JCQl1dXf///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAQAEAAAAj/AP8JHPigQQMHAxMOTAAAgIABAgAkUPgPQsMABAoQCNAQAISEFw0cMMCxI4CFAAIY+Eey4b+LCgSmXCnzpECVBf49AEBgJEWVBwg8WCCgQMuEQEkuYDBgo8uBIlsyeCCgJMWWAB68fPpP5cCOAhm6TLpV4teQI0tyrTgzrcmPChNoVIuAYsKCB+3qtQsgQt+/fgPb/Ce4MOCvEfb6HbhYb1/Eigc35ptYZmW7kw1rRgy48+S9oEOLHk26tGnRnlMzTl0Yst7Mgyk+tnzWpO3JfSPo3q274eXcfjv21rxbeHDBwE32VphbeHPmvYEvBzmc9+eXxa3Hxm69OHPbtk2zNO68WvNh2q8lb6fuuix434Ola5/Nvbt53tLhH8/unXpw49vlhx90/E2HmH3XyTcgSO91FBAAOw==",img_busy:"data:image/gif;base64,R0lGODlhEAAQAOMAAAQCBHx+fLy+vOTm5ERCRMTGxISGhAQGBISChMTCxOzq7FRSVMzKzP7+/gAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCQANACwAAAAAEAAQAAAESrDJSau9OOvNe1VFonCFIBRcIiQJp7BjNySDxRjMNAQBUk+FAwCAaiR6gURhsUgYhgCEZIDgDRYEwqIALTZmNay2UTB4KwKmwBIBACH5BAkJAA8ALAAAAAAQABAAgwQCBHx+fLy+vERCRKSmpOTi5BQWFNTW1KyurIyKjMTCxERGRPTy9BwaHLSytP7+/gRE8MlJq7046827n47RIJwBAEZ5phsikg9TMNZBHBMj7PR0DEDco7ATFA6JhA04IEh0AgUjEQgomcLY7EG1PmzZClJpiQAAIfkECQkADQAsAAAAABAAEAAABEewyUmrtcywWxn4BTcZH4CIUlGGaFMYbOsuSywuBLHIuC4LNEFrkBjIBoEAwmhRFBKKRDKQuBQEgsIAoWRWEoJEleitRKGWCAAh+QQJCQAPACwAAAAAEAAQAIMEAgR8fny8vrxEQkSkpqTk4uQUFhTU1tSsrqyMiozEwsRERkT08vQcGhy0srT+/v4ERfDJ6UxDM2sDgHkHcWgT5x1DOpKIhRDpQJAaqtK1iJNHkqy7RyIQSAQlw+IR5APiGAXGkiGoSoOFqqBwpAoU1yA0vJxEAAAh+QQJCQANACwAAAAAEAAQAAAES7DJWdYqMzdmWFsEsTRDMkwMoFbhMgQBcjaGCiCCJQhwkEgFG2YyQMRmjYJhmCkhNVBFoqCAQgu7nzWTECS0W4k0UQ2bz+i0en2OAAAh+QQJCQAPACwAAAAAEAAQAIMEAgR8fny8vrxEQkSkpqTk4uQUFhTU1tSsrqyMiozEwsRERkT08vQcGhy0srT+/v4ERfDJeVI6M79DcApB8jAFQy3DUIEJI7zmQ6RDZx3FKxTSQWMTl0AR23Q0o5LEYWggkEgDAGCAaqRUawbRfGq/4LB4TC5DIwAh+QQJCQANACwAAAAAEAAQAAAER7DJqUpSM7eRRkuCUGjSgAQIJyQJ+QXwxWLkAKeuxnm5VCyLVk+yIBAWQ6IRmRQABclJwcCIMg4AwGhoyAIQyYJ3O5ySo9EIACH5BAkJAA8ALAAAAAAQABAAgwQCBHx+fLy+vERCRKSmpOTi5BQWFNTW1KyurIyKjMTCxERGRPTy9BwaHLSytP7+/gRG8MlJ62SFWcuE19tUeEIRXp4Cng+2hkeSHKyUBEFSP3e+x7Od5ECg1Q6LwcB4IigHBETD4NgcngcDAGCAFR9a7g5hMCAsEQA7",img_pic:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAJOgAACToB8GSSSgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAA92SURBVHiczZt7fFTlmce/ZzKT66S5cQsChUC4yKVsFaEUYlAWi4ClfqTq6tYVrfVSy1W01roudPWj4H6ga6ygu3SpZdeu0iKIgLFoIZREBAIGSDDhHkLIhMncJzNz3v3jPScZkklyzkzYT5/5vJ9J5pzznvf3O8/7vM/zvM9RhBAkIoqiWAALYNNaMpCkHY4AIaBV+1aFEGpCN+xlURIhQAOfBKQCGUAmkI4kQUEC9wEewAv4gfDfEgnWeC9UFEVBPvk04BtAXyAXSUKqdloQCf4q4ABaAK+iKKG/FRLiJgAJPgUJuL/W+gHpAyBTBdEon74PqR2p2v0UJAmtZkjQCL9GRKLzlzgJiHr6KUAWkJMPgyfB8BkwdDjkW4DTcGU31B6D+jNgsUJSWF6nAJ6eSFAURcFJAWl8Cz9ZOKliPcd5iSAgFEVRkTzETURcNkCb+8lIlc8fDeN/CjO/D7f2gb5WsGoGIOSCli1QthEOfgE1yKlwCWhCTo+Y00HxKzeQyjsofO+aAxHqqWIR32I30rCGgEjcJAghTDek4csAhoyHO7fCe5ehQYCI1a6C869w8LvwPHA3UAwUAnlILbJc07+fIgTNiG4+VfwKyEfaH1vHPow2S1ysSVFSIHk2DJoKk/tJGxBTsiFrLIx6FeYXwY0a8IFIDbIDNk2rUAJKEal8BOR0e/fRrOBFpml9pANJsexET5IIAaIAlHtgUhbc0NPJmWCfCDe+Bt+fBqOJRYJTmaGBtxsYuY0fsRgYgLRDKYDFLAnxrgIqEJ4MDIZh1nbHp1vJgIwbYczLoD4P7IOTbQcrmEo2mzECXpc+FCI1L4D0MVq1sRmWRDQgMhWUTKmqhg1QJmRMhLFr4AdFuia8zmxu4j3MgJed5ZJEDlID0mlfZg1LXARoFlf9IzS0QoUwyXomZIyD0f8Kdw1/jNn8jNewkGZ6IE04iJBKu/dpSBOjJW5HSAihblCUsApVQi5pA8xcnwEZzmLGX1jLzVjj1MRTnEc+xCTa/YvrrwG6PCaEbyNsjMABs9d+VgT3bSctmBbnGAIEeJrdyIArrH2rmJiOkCABABUQcMEqAYeNXrPnVpi7A7wZcd9WsJZtHMaBNH5eZNxhPr4w6Pjorm90U9A8yR2Qch5GhOFAV86Q3v58KyLD062L09NH5U22ASuAx4F5wASgD9IOWLoab0xs3QH3+xkaibAyHOajcJjyQIC3Gxq4H2l0UpA2xAIo68HWBLcI+Or/AfxzwJPAAmAKMBiw4/PdQzi8nnC4nFBoB17vy3z++RhkIKYbScUQAeEwjwqBK9Zht5udK1cyFumGpugdb4P0Bhgfhr2dwBf3Avg3+Aj4OfAUcC8wDRjOW28VEgp9GBNIJOKhpmY50vHKoIPb3BX4BT3NDL+fc88+yzRkHqBtDV4ASZdgrArHosGnexME/zp/BlYCi4D7gOnACDZtGkckUtvjPC4tXappSpY+VWIS4HKRJwSXjcQSXi8XnniCmcigxK6TsB/SHDAlDOW9An4VB4H1wEvAo8BtwCg2bhxvCLwQgkDAye23/z0wlPYASon19P/BTEDl8XDxkUf4HjIeaCNhPdiKt/Ngqp9IvNAVFfHtxTj7wi7gbeBfgPuBSaxZc5Nh8Hr77W//DbhFG2s6YOlk7UMhXjdDgGYT6hcuZPY1JPi5HUHcz15REXOfQPwSgj+Guhvgv4EXgAd46KE5tLaeNjdKIfjss13AbGAM0oW3dvIDhCCl4289id1O/rp1/MfChUwAsjjGHVj5EEG62b4AFAFznoLv/gb6Q/IUyF8KE8dCDsXFfSkp2YDNNjSOrlOR6m9HWxU6usKKz8eRrCzzPesk1Exl3b5s/pkAaaSirQ/G+4kGn4lc3AdCagZ8c1BGxm0PvP/+4HBGRp75EQJHjtQjV60UtNWgkwYcPkypquKJp3+7nfxt97JsSCM+WpBBagTDzmkX4BkADIW0GV7viIfWrPEY7zFKgsEgGzee6vR7RxsApNTVscysHYhuzS6uDDlIMxcQuBGEEKjG5vwrIN4A8T8g/gKiBoQDRABECMQVcP9oxYpzCKGaGtWvf/1HYAnSiN6i8ZoSiwAbkFNfz5ZESHC00DSkAqcREoyAj2gtAKIWPD945pkLhknYt+8Q8CzwE2AuMBZpBG2dzkXO2vTsbL555gzbEyHhylWah5TT0h0JRsGrWguBaAFRCd55y5df6pGEsrJDWK3PA08jvcepSIcoHUiKRYCuBdmZmYyqrWXHdSRBvW0RLiPgda8yAiIIohnEIfDOWb68vksSysoOa+AXAQ/Qno3OpitHSCNB3/ToY7dz49dfs/M6kKAm/Ts7RsO6lVBrBHw0CQHtvEPgmRNLE/bu/Qqr9UVgMfAgcDsyBdeHqFR8l6PWSEgF+trtjO1lElTeYCvwnAWevgWW7oQ6I+CF9ns0CV+Cb240CXv21GC1rkFGjf8EzESm4/tqmNqCoS53hqK2v2xApt1O/8pKXi8oYFb3603X0uTk6k3VJJ3bSynPsB+ZzHDkgWMp5D4MP8+BiTbaA/quRGgthMyGnAHfi8uXt5TOmhUMzp69i0jEC9QDtfIwl5Cbs/o2fdtTjn0DeYKqXeD2eLg8+k/8/vOzVMVLQJ9scg6PJPSdLRxBbos5gAYHnF29cmX1iOZmb/WoUcf0/FZ3LoSe/LMhY9yhkL5qzZqsV2fN8g2JRNKQGaIQ0hvxaf9HosHrQLtt2n2SqGEml/FYqojsqeN4ItPh6lUai4tZBMwCxrJ69TgikWqEECk+X8P+wsJTzSC8mtXvaip0nA7NII6C9zdQWQjrkEmTecB4pPp33oYzMmLc3EoYN34EjQhLFZHSU9QkQkJLCw3z53M/jz46ndbWU9FHrR5P45ZRo47Vg3CDaDVIQhCEC0QdeLbCl38no8cFQBFQgIwDrERlhXoGLzcq3agIwog2Er5C3X2S2kRIONgw6ARe75lYR60uV9N7I0acO6+BMkpCSCPCAe49cGCKdIDmAZOQnnU6PWWE2g6GmK4tXEJLTXQm4QR18YCvduW3pLQ0NnZ3ltXpbN40cmS1URJ0IvTWAq59sL8IltG+DGYDth4J6AS+Iwm++Ek42ZLvSm6+5DBydpLL1fT7wsJaMyRENze4y2DvZHgYmT3ur9kCpUsC8DAAgaPL0CUBEk625LuSHfXNZvTF5nQ2by4sPK2T0JNhjFGfcOV92PRtmUobiKxriu0IAQoqW3rM2cQg4ZMeSIgHfLQmbBo58sR5zTCaJaERau6UgdAgjYDYGoCbvj2C75qESNkRjvU2eL31+fjj0r9C3SUQPs3oGSUgCIG9sGqcDITalsPOjpCNm7r1Zjp6I3q1kB3U3WwtnsTblZVURJ9W7cp3Twh/GW7Nze++6qM7KS+v8N111x9Ww6uX4ZBeCGA0M5IESf0hq0j+23bpNQQoiqKgkm1qYDoJ/8V2lrI/FCI4ZQolx49TBlDjzndNiBwKJQS+rOww06Z94AuF1K1wvgReCMFxM2khBUKZQKHcSA3rv3fWgEYqTQ/wbT7iCcqQvr0zEODS5Mm8uK1q2M4JHA205gzINd2nPvD9ZUcoLv6AcDgI+CLgKYW6Y/AzAUdMdBWKwL4T0CI0gVgEzKSOCLWGu32HHfyEfYCb9hK4i56HnvLfVVA1OpjZp5+JQV4jeeU7zj6/s2jQ4PxwCjKQcQCO0+BYCxUn4F4VvjDQlVBlUHR+vRC+a490XAHAxiFmIwxsaLzDDmTI+VNktqUIGMnq1eMIhWoSMXh55TvO/OplS2TtWsRbb3F54kQeQ26EDkGmtZNeAqsXJgm5IRvqwgCqETjph0diLvkxlsEkIJOj/JIwgZjAAwRYwwdIN/Mp5F5dEVBISckYPbDpDfC/+x2itBRRUUH9vHnMR25tZaFldE5BihOGqfC+KmsVVc0jjKgQUOFkCJa9BNZYt+uUD4iqAs1mCZN5jEX0YwzZ9OUKTZziPMsppZwmZCjuABqABkpKrDz++J+wWEYaU/LOklfx8dkln84dbE9XLXl5kJ8vW9++ANQvXszCzZupApxoiXchhLisKBm5cE8STFJk4OMX8JkKR6xC7O3qfrEIUDQtSEPW8A0A+pNEjlaQlISMq/3aIK4AjZSUJCcM/uDOs0s+mRMTfGYm2Gzg83HhySdZ+O67HIf23QchhEBRrC2QaYPUdAhfhdYcIVq6u2fMjJBGghUZOWXBNaVoOgFebQBOXnnFyooVH19v8BYLKAq43Vz44Q/5x507OYV8CEHirBfuLiWmV1+lILUhTfvbgiRAfxkiQCj0n1itC+IBDpB3cNe5JZ/cOcierlpyc2HgwK7B61JXx1+GD2cRcBn5IIJ0zPYYkO5SYirSYfBrN2hCLnH1yDnfBLjweot7E3z0k7fbY4MHKCigqKSEecgsbwZxFElCD1ViGpt6XlAvR/Vp3wEgRHLyDLM3bZMDByoXbLzTEQ1+4MB28MnJscHrMmEC30Gmutpqhc0OoccLRLuoQohIVJMlaYoy3uxNASgvr2T69P99Z4O62e3mC7PgAQYMYCjSPn0DLd1tdhiJ1gkqqGqz6avKyyuZNu0PhMPecBjHqlWsDoX43Ax4gJYWAkj1z6C9WMuUJFwoSSh0zNT5UeCBZqC+tZVz993Hc01NfGoUPEB1NQ20v65nshJBSuIE7Nu3GVV1Gjq3vPxoR/DAReCiy8WFqVNZdvYsnxoB7/fjf+01vkSGtaZLZHVJnIA77rhEdfULPZ5XXn6UoqJo8PqKcgW5ljudThpuvpklp0/zaU/drVvH9spKmpHGWN8EuT6lsl012jdnctm162n8/s6JzmAwyJtvfojF8hxyi/pB2vfq+iH9C6vW0oB+ycmM3bWLdaEQ/o63dblw/eIXvAs8A/wYmIPc788lKttrtCX05ii0OUypQC7Tp4/i4YdnM2zYOBQlnaNH69m06WsOHtSLmp1AI+1+hJtr3/LQ45BMoM/8+Yy7+25mFBQwyuuFQ4eo37CB6tOncdO+tXYRqUnNQECYfCGzNwjQ3eY05JLUD+mc6GW0oO0vaoNs0r69aOB17y1qQzYZadlztb70N1JtWn9BwKX11Yh8M1V/LdcUoETeHAWkn6Aoih4cgfQePciYPZoAD5IEN9KZCtPBddX6UmnXighyjrdo/UUT4EGS4Nbu3buxgOmO2qPIZK3p1eQKEmyrNvBWtI3frgas9RXdX4r2bUVa+3BUX60k8OJkrxEAnQau1+mDfJptzehgo6ZEdIvur1sijcj/AcgCrHU5y1W7AAAAAElFTkSuQmCC",img_handler:"data:image/gif;base64,R0lGODlhBAAEAPcAAAAAAGSMtP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAEAAQAAAgPAP8JFCDwX4B/BAUe/BcQADs=",img_bg:h.src,img_blank:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII="},"without");var m=xui._domReadyFuns=function(){if(!xui.isDomReady){if(o.addEventListener){o.removeEventListener("DOMContentLoaded",m,false);q.removeEventListener("load",m,false)}else{if(o.detachEvent){o.detachEvent("onreadystatechange",m);q.detachEvent("onload",m)}}if(xui.browser.deviceType!="touchOnly"&&!xui.Dom.getScrollBarSize()){xui.browser.deviceType="touchOnly";if(xui.UI){var A=function(e){xui.arr.each(e,function(l){if(l=xui.SC.get(l)){if(l.$DataModel.overflow){l.$DataModel.overflow.ini="auto";l.$DataStruct.overflow="auto"}if(l.$children&&l.$children.length){A(l.$children)}}})};A(xui.UI.$children)}}}try{if(xui.ini.customStyle&&!xui.isEmpty(xui.ini.customStyle)){var f=[],v=xui.ini.customStyle,d;xui.each(v,function(l,e){f.push(e+" : "+l+";")});d=".xui-custom{\r\n"+f.join("\r\n")+"\r\n}";xui.CSS.addStyleSheet(d,"xui:css:custom",1)}for(var u=0,s=xui._m.length;u<s;u++){xui.tryF(xui._m[u])}xui._m.length=0;xui.isDomReady=true}catch(w){xui.asyRun(function(){throw w})}};if(o.addEventListener){o.addEventListener("DOMContentLoaded",m,false);q.addEventListener("load",m,false)}else{o.attachEvent("onreadystatechange",m);q.attachEvent("onload",m);(function(){if(xui.isDomReady){return}try{o.activeElement.id;o.documentElement.doScroll("left");m()}catch(d){xui.setTimeout(arguments.callee,9)}})()}(function(){((!xui.isDomReady)&&((!o.readyState)||/in/.test(o.readyState)))?xui.setTimeout(arguments.callee,9):m()})()};new function(){xui._uriReg=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/;xui._localReg=/^(?:about|app|app\-storage|.+\-extension|file|widget):$/;xui._curHref=(function(c){try{return location.href}catch(d){c=document.createElement("a");c.href="";return c.href}})(),xui._localParts=xui._uriReg.exec(xui._curHref.toLowerCase())||[]};new function(){xui.pseudocode={exec:function(q,e,d,E,f){var r,y,x,v,C,h=q.type||"other",u={temp:E,page:d,args:e,global:xui.$cache.data},s=function(k,m,l){switch(xui.str.trim(l)){case"=":return k===m;case"<>":case"!=":return k!==m;case"empty":return xui.isEmpty(k);case"non-empty":return !xui.isEmpty(k);case">":return parseFloat(k)>parseFloat(m);case"<":return parseFloat(k)<parseFloat(m);case">=":return parseFloat(k)>=parseFloat(m);case"<=":return parseFloat(k)<=parseFloat(m);case"include":return(k+"").indexOf(m+"")!=-1;case"exclude":return(k+"").indexOf(m+"")==-1;case"begin":return(k+"").indexOf(m+"")===0;case"end":return(k+"").indexOf(m+"")===(k+"").length-(m+"").length;case"objhaskey":return typeof(k)=="object"?(m in k):false;case"objnokey":return typeof(k)=="object"?!(m in k):false;case"arrhasvalue":return xui.isArr(k)?xui.arr.indexOf(k,m)!==-1:false;case"arrnovalue":return xui.isArr(k)?xui.arr.indexOf(k,m)==-1:false;case"objarrhaskey":return xui.isArr(k)?xui.arr.subIndexOf(k,"id",m)!==-1:false;case"objarrnokey":return xui.isArr(k)?xui.arr.subIndexOf(k,"id",m)==-1:false;default:return false}},A=function(p){if(typeof(p)=="string"){var n;if(xui.str.startWith(p,"[data]")){p=p.replace("[data]","");n=1}p=xui.adjustVar(p,u);if(n&&typeof(p)=="string"){p=xui.unserialize(xui.getFileSync(p))}}else{if(xui.isHash(p)){for(var m in p){p[m]=A(p[m])}}else{if(xui.isArr(p)){for(var m=0,k=p.length;m<k;m++){p[m]=A(p[m])}}}}return p},G=q.target,g=(q.method+"").split("-")[0],w=xui.clone(q.params)||[],j=q.conditions||[],B=q.adjust||null,c=[],o=xui.isSet(q.timeout)?parseInt(q.timeout,10):null;for(var D=0,z=j.length;D<z;D++){if(!s(xui.adjustVar(j[D].left,u),xui.adjustVar(j[D].right,u),j[D].symbol)){if(typeof f=="function"){f()}return}}if(G&&g&&G!="none"&&g!="none"){for(var D=(h=="other"&&G=="callback")?g=="call"?1:g=="set"?2:0:0,z=w.length;D<z;D++){w[D]=A(w[D])}if(g.indexOf("-")!=-1){r=g.split("-");g=r[0];for(var D=1,z=r.length;D<z;D++){if(r[D]){w[D-1]=r[D]}}}var F=function(){switch(h){case"page":if(g=="switch"){if(!xui.History._callback){xui.History.setCallback(function(L,K){if(K){return}var J=xui.urlDecode(L||"");if(!J.xuicom){J.xuicom="App";J.cache=true}xui("body").children().each(function(M){var N=xui.Module.getFromDom(M);if(N&&N._showed){if(J.cache){N.hide()}else{N.destroy()}}});xui.showModule(J.xuimodule)})}var I="xuimodule="+G;if(w[0]){I+="&cache="+(w[0]?true:false)}xui.History.setFI(I);return}var k=xui.get(window,G.split(".")),n;if(k){for(var p in k._pool){n=k._pool[p];break}}if(g=="show"||g=="pop"){w.unshift(function(K,J){if(g=="pop"&&!K){r=J.getUIComponents(true);if((r=r.getRoot())&&(r=r.get(0))){xui(r).pop(w[1]||u.args[0])}}});var l=function(K,J){if(K){return}if(xui.isFun(r=J.show)){r.apply(J,w)}};if(!n){xui.getModule(G,l)}else{l(null,n)}}else{if(n&&xui.isFun(r=xui.get(n,[g]))){r.apply(n,w)}return}break;case"control":case"module":if(g=="pop"){r=xui.get(d,[G]);if((r=r.getRoot())&&(r=r.get(0))){xui(r).pop(w[1]||u.args[0])}}else{if(g=="setProperties"){if(y=w[0]){if(y.CA){if(xui.isFun(r=xui.get(d,[G,"setCustomAttr"]))){r.apply(d[G],[y.CA])}delete y.CA}if(y.CC){if(xui.isFun(r=xui.get(d,[G,"setCustomClass"]))){r.apply(d[G],[y.CC])}delete y.CC}if(y.CS){if(xui.isFun(r=xui.get(d,[G,"setCustomStyle"]))){r.apply(d[G],[y.CS])}delete y.CS}}}if(xui.isFun(r=xui.get(d,[G,g]))){r.apply(d[G],w)}}break;case"other":switch(G){case"url":switch(g){case"close":window.close();break;case"open":window.open(w[0],w[1],w[2],w[3]);break;case"mailTo":xui.mailTo.apply(xui,w);break}break;case"msg":if(g=="busy"||g=="free"){if(xui.isFun(r=xui.get(xui.Dom,[g]))){r.apply(xui.Dom,w)}}else{if(g=="console"&&xui.isDefined(window.console)&&(typeof console.log=="function")){console.log.apply(console,w)}else{if(xui.isFun(r=xui.get(xui,[g]))){r.apply(xui,w)}}}break;case"var":if(g=="cookie"){xui.$cache.data.Cookies=xui.Cookies.get()}else{if(w[0].length){if(B){switch(B){case"serialize":w[1]=xui.serialize(w[1]);break;case"unserialize":w[1]=xui.unserialize(w[1]);break;case"stringify":w[1]=xui.stringify(w[1]);break;default:if(typeof(B=xui.get(B))=="function"){w[1]=B(w[1])}break}}xui.set(u,(g+"."+xui.str.trim(w[0])).split(/\s*\.\s*/),w[1])}}break;case"callback":switch(g){case"set":r=w[1];if(xui.isStr(r)&&/[\w\.\s*]+\(\s*\)\s*\}$/.test(r)){r=r.split(/\s*\.\s*/);y=r.pop().replace(/[()}\s]/g,"");r=xui.adjustVar(r.join(".")+"}",u);if(r&&xui.isFun(r[y])){xui.$cache.callback[w[0]]=[r,y]}}break;case"call":var m=w.slice(3),H;r=w[0];if(xui.isStr(r)&&/[\w\.\s*]+\(\s*\)\s*\}$/.test(r)){r=r.split(/\s*\.\s*/);y=r.pop().replace(/[()}\s]/g,"");r=r.join(".")+"}";r=xui.adjustVar(r,u)||xui.adjustVar(r);H=r&&r[y]&&xui.isFun(r[y])}else{if(xui.isStr(r=w[0])&&xui.isFun((x=xui.$cache.callback[r])&&(r=x[0])&&r&&(r[y=x[1]]))){H=1}}if(H){r=r[y].apply(r,m);if(w[1]&&w[2]&&xui.get(u,w[1].split(/\s*\.\s*/))){xui.set(u,(w[1]+"."+w[2]).split(/\s*\.\s*/),r)}}break}break}break}};if(o!==null){xui.asyRun(F,o)}else{F()}}return q["return"]}}};new function(){var M={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","/":"\\/","\x0B":"\\u000b"},H={"@window":"window","@this":"this"},A1=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/:/[\\\"\x00-\x1f\x7f-\xff]/,A2=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,D=/^(-\d+|\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d{1,3}))?((?:[+-](\d{2})(\d{2}))|Z)?$/,E=function(t,i,a,v,m,n,p){for(i in t){if((a=typeof(v=t[i]))=="string"&&(v=D.exec(v))){m=v[8]&&v[8].charAt(0);if(m!="Z"){n=(m=="-"?-1:1)*((+v[9]||0)*60)+(+v[10]||0)}else{n=0}m=new Date(+v[1],+v[2]-1,+v[3],+v[4],+v[5],+v[6],+v[7]||0);n+=m.getTimezoneOffset();if(n){m.setTime(m.getTime()+n*60000)}t[i]=m}else{if(a=="object"&&t[i]&&(xui.isObj(t[i])||xui.isArr(t[i]))){E(t[i])}}}return t},F="function",N="number",L="boolean",S="string",O="object",T={},PS=function(v,n){return("000"+(v||0)).slice(-n)},Z=(function(a,b){a=-(new Date).getTimezoneOffset()/60;b=a>0?"+":"-";a=""+Math.abs(a);return b+(a.length==1?"0":"")+a+"00"})();T["undefined"]=function(){return"null"};T[L]=function(x){return String(x)};T[N]=function(x){return((x||x===0)&&isFinite(x))?String(x):"null"};T[S]=function(x){return H[x]||'"'+(A1.test(x)?x.replace(A2,function(a,b){if(b=M[a]){return b}return"\\u"+((b=a.charCodeAt())<16?"000":b<256?"00":b<4096?"0":"")+b.toString(16)}):x)+'"'};T[O]=function(x,filter,dateformat,deep,max){var me=arguments.callee,map=me.map||(me.map={prototype:1,constructor:1,toString:1,valueOf:1,toLocaleString:1,propertyIsEnumerable:1,isPrototypeOf:1,hasOwnProperty:1});deep=deep||1;max=max||0;if(deep>xui.SERIALIZEMAXLAYER||max>xui.SERIALIZEMAXSIZE){return'"too much recursion!"'}max++;if(x){var a=[],b=[],f,i,l,v;if(x===window){return"window"}if(x===document){return"document"}if((typeof x==O||typeof x==F)&&!xui.isFun(x.constructor)){return x.nodeType?"document.getElementById('"+x.id+"')":"$alien"}else{if(xui.isArr(x)){a[0]="[";l=x.length;for(i=0;i<l;++i){if(typeof filter=="function"&&false==filter.call(x,x[i],i)){continue}if(xui.isNaN(v=x[i])){b[b.length]="NaN"}else{if(xui.isNull(v)){b[b.length]="null"}else{if(!xui.isDefined(v)){b[b.length]="undefined"}else{if(f=T[typeof v]){if(typeof(v=f(v,filter,dateformat,deep+1,max))==S){b[b.length]=v}}}}}}a[2]="]"}else{if(xui.isDate(x)){if(dateformat=="utc"){return'"'+PS(x.getUTCFullYear(),4)+"-"+PS(x.getUTCMonth()+1,2)+"-"+PS(x.getUTCDate(),2)+"T"+PS(x.getUTCHours(),2)+":"+PS(x.getUTCMinutes(),2)+":"+PS(x.getUTCSeconds(),2)+"."+PS(x.getUTCMilliseconds(),3)+'Z"'}else{if(dateformat=="gmt"){return'"'+PS(x.getFullYear(),4)+"-"+PS(x.getMonth()+1,2)+"-"+PS(x.getDate(),2)+"T"+PS(x.getHours(),2)+":"+PS(x.getMinutes(),2)+":"+PS(x.getSeconds(),2)+"."+PS(x.getMilliseconds(),3)+Z+'"'}else{return"new Date("+[x.getFullYear(),x.getMonth(),x.getDate(),x.getHours(),x.getMinutes(),x.getSeconds(),x.getMilliseconds()].join(",")+")"}}}else{if(xui.isReg(x)){return String(x)}else{if(typeof x.serialize==F){x=x.serialize()}if(typeof x==O){if(x.nodeType){return"document.getElementById('"+x.id+"')"}else{a[0]="{";for(i in x){if(map[i]||(filter===true?i.charAt(0)=="_":typeof filter=="function"?false===filter.call(x,x[i],i):0)){continue}if(xui.isNaN(v=x[i])){b[b.length]=T.string(i)+":NaN"}else{if(xui.isNull(v)){b[b.length]=T.string(i)+":null"}else{if(!xui.isDefined(v)){b[b.length]=T.string(i)+":undefined"}else{if(f=T[typeof v]){if(typeof(v=f(v,filter,dateformat,deep+1,max))==S){b[b.length]=T.string(i)+":"+v}}}}}}a[2]="}"}}else{return String(x)}}}}}a[1]=b.join(", ");return a[0]+a[1]+a[2]}return"null"};T[F]=function(x){return x.$path?x.$path:String(x)};xui.serialize=function(obj,filter,dateformat){return xui.isNaN(obj)?"NaN":xui.isNull(obj)?"null":!xui.isDefined(obj)?"undefined":T[typeof obj](obj,filter,dateformat||(xui&&xui.$dateFormat))||""};xui.stringify=function(obj,filter,dateformat){return xui.fromUTF8(xui.serialize(obj,filter,dateformat))};var safeW;xui.unserialize=function(str,dateformat){if(typeof str!="string"){return str}if(!str){return false}try{if(!safeW){var ifr=document.createElement(xui.browser.ie&&xui.browser.ver<9?"<iframe>":"iframe"),w;document.body.appendChild(ifr);w=frames[frames.length-1].window;safeW={};for(var i in w){safeW[i]=null}document.body.removeChild(ifr)}str="({_:(function(){with(this){return "+str+"}}).call(safeW)})";str=eval(str);if(dateformat||(xui&&xui.$dateFormat)){E(str)}str=str._;return str}catch(e){return false}}};new function(){xui.id=function(){var self=this,me=arguments.callee;if(self.constructor!==me||self.a){return(me._||(me._=new me)).next()}self.a=[-1];self.b=[""];self.value=""};xui.id.prototype={constructor:xui.id,_chars:"abcdefghijklmnopqrstuvwxyz".split(""),next:function(i){with(this){i=(i||i===0)?i:b.length-1;var m,k,l;if((m=a[i])>=25){m=0;if(i===0){a.splice(0,0,1);b.splice(0,0,"a");l=a.length;for(k=1;k<l;++k){a[k]=0;b[k]="0"}++i}else{next(i-1)}}else{++m}a[i]=m;b[i]=_chars[m];return value=b.join("")}}}};Class("xui.Thread",null,{Constructor:function(d,e,g,k,l,c,f){var j=arguments.callee.upper;if(j){j.call(this)}j=null;var n=this,h=arguments.callee,m=xui.$cache.thread;if(n.constructor!==h||!!n.id){return new h(d,e,g,k,l,c,f)}if(typeof d!="string"){d="$"+(n.constructor.$xid++)}n.id=d;n.profile=m[d]||(m[d]={id:d,_start:false,time:0,_left:0,_asy:0.1,index:0,tasks:e||[],delay:g||0,callback:k,onStart:l,onEnd:c,cache:{},status:"ini",cycle:!!f,instance:n})},Instance:{_fun:xui.fun(),__gc:function(){var c=xui.$cache.thread,e=c[this.id];if(e){delete c[this.id];e.tasks.length=0;for(var d in e){e[d]=null}}},_task:function(){var c=this,j=c.profile;if(!j||!j.status||!j.tasks){return}j._asy=0.1;var e={},h=j.tasks[j.index],g,d,f=typeof h;if(f=="function"){e.task=h}else{if(f=="object"){for(d in h){e[d]=h[d]}}}if(typeof e.callback!="function"){e.callback=j.callback}if(typeof e.task=="function"){e.args=e.args||[];e.args.push(j.id)}j.index++;j.time=xui.stamp();if(typeof e.task=="function"){g=xui.tryF(e.task,e.args||[j.id],e.scope||c,null)}if(!j.status){return}if(e.id){j.cache[e.id]=g}if(e.callback&&false===xui.tryF(e.callback,[j.id],c,true)){return c.abort("callback")}if(j.status!=="run"){return}c.start()},start:function(j,c){var e=this,h=e.profile,d,f;if(h.__delaycb){xui.tryF(h.__delaycb,[h.id],e);delete h.__delaycb}if(c){h.__delaycb=c}if(h._start===false){h._start=true;if(h.onStart){var g=xui.tryF(h.onStart,[h.id],e);if(false===g){return e.abort("start")}else{if(true===g){return}else{if(xui.isNumb(g)){e.suspend(g);return}}}}}if(h.status!="run"){h.status="run"}if(!h.tasks.length){return e.abort("empty")}if(h.index>=h.tasks.length){if(h.cycle===true){e.profile.index=0}else{return e.abort("normal")}}d=h.tasks[h.index];f=typeof d=="number"?d:(d&&typeof d.delay=="number")?d.delay:h.delay;h._left=(j||j===0)?j:f;if(h._asy!=0.1){xui.clearTimeout(h._asy)}h._asy=xui.asyRun(e._task,h._left,[],e);h.time=xui.stamp();return e},suspend:function(e,c){var f,d=this.profile;if(d.status=="pause"){return}d.status="pause";if(d._asy!==0.1){xui.clearTimeout(d._asy);if(d.index>0){d.index--}}f=d._left-(xui.stamp()-d.time);d._left=(f>=0?f:0);if((Number(e)||0)){this.resume(e,c)}return this},resume:function(e,c){var d=this;if(d.profile.status=="run"){return}e=e===undefined?d.profile._left:e===true?d.profile.delay:e===false?0:(Number(e)||0);d.profile.status="run";d.start(e,c);return d},abort:function(c){var e=this.profile,d=e.onEnd,f=e.id;e.status="stop";xui.clearTimeout(e._asy);this.__gc();xui.tryF(d,[f,c])},links:function(c){var e=this.profile,d=e.onEnd,f=e.id;e.onEnd=function(h,g){xui.tryF(d,[h,g]);c.start()};return this},insert:function(c,g){var f=this,h=f.profile.tasks,e=h.length,d;if(!xui.isArr(c)){c=[c]}g=g||f.profile.index;if(g<0){g=-1}if(g==-1){Array.prototype.push.apply(h,c)}else{if(g>e){g=e}d=h.splice(g,e-g);h.push.apply(h,c);h.push.apply(h,d)}return f},getCache:function(c){return this.profile.cache[c]},setCache:function(c,d){this.profile.cache[c]=d;return this},isAlive:function(){return !!xui.$cache.thread[this.id]},getStatus:function(){return this.profile.status}},After:function(){var e=this,h=function(f){e[f]=function(k){var j;if(xui.$cache.thread[k]){(j=xui.Thread(k))[f].apply(j,Array.prototype.slice.call(arguments,1))}}},d="start,suspend,resume,abort".split(",");for(var g=0,c=d.length;g<c;g++){h(d[g])}},Static:{$asFunction:1,$xid:1,__gc:function(){xui.$cache.thread={}},get:function(c){c=xui.$cache.thread[c];return c&&c.instance},isAlive:function(c){return !!xui.$cache.thread[c]},observableRun:function(h,e,f,d){var c=xui.Thread,g=xui.Dom;if(!xui.isArr(h)){h=[h]}if(xui.$cache.thread[f]){if(typeof e=="function"){h.push(e)}c(f).insert(h)}else{c(f,h,0,null,function(j){if(g){g.busy(j,d)}},function(j){xui.tryF(e,arguments,this);if(g){g.free(j)}}).start()}},group:function(d,j,k,l,c){var m={},h=xui.Thread,g=function(r,n,q){if(typeof r=="string"){r=h(r)}if(r){var p=function(){var f=arguments.callee;xui.tryF(f.onEnd,arguments,this);f.onEnd=null;delete m[n];xui.tryF(k,[n,q],this);if(xui.isEmpty(m)){h.resume(q)}};p.onEnd=r.profile.onEnd;r.profile.onEnd=p;r.start()}};for(var e in j){m[e]=1}return h(d,[function(n){if(!xui.isEmpty(j)){h.suspend(n);for(var f in j){g(j[f],f,n)}}}],0,null,l,c)},repeat:function(e,d,c,f){return xui.Thread(null,[null],d||0,e,c,f,true).start()}}});Class("xui.absIO",null,{Constructor:function(e,o,k,c,h,s){var q=arguments.callee.upper;if(q){q.call(this)}q=null;if(typeof e=="object"){s=e}else{s=s||{};xui.merge(s,{uri:e,query:o,onSuccess:k,onFail:c,threadid:h})}var r=this,n=arguments.callee,d=r.constructor;if((d!==n)||r.id){return new n(s)}xui.merge(s,{id:s.id||(""+(d._id++)),uid:(""+(d.uid++)),uri:s.uri?xui.adjustRes(s.uri,0,1,1):"",username:s.username||undefined,password:s.password||undefined,query:s.query||"",contentType:s.contentType||"",Accept:s.Accept||"",header:s.header||null,asy:s.asy!==false},"all");var f=(s.method||d.method).toUpperCase();s.method="POST"==f?"POST":"PUT"==f?"PUT":"DELETE"==f?"DELETE":"PATCH"==f?"PATCH":"GET";var p="retry,timeout,reqType,rspType,optimized,customQS".split(",");for(var j=0,g=p.length;j<g;j++){s[p[j]]=(p[j] in s)?s[p[j]]:d[p[j]];if(typeof s[p[j]]=="string"){s[p[j]]=s[p[j]].toLowerCase()}}xui.merge(r,s,"all");if(r.reqType=="xml"){r.method="POST"}if(d.events){xui.merge(r,d.events)}r.query=r.customQS(r.query);if(typeof r.query=="object"&&r.reqType!="xml"){r.query=xui.copy(r.query,function(l){return l!==undefined})}if(!r._useForm&&xui.isHash(r.query)&&r.reqType!="xml"){r.query=d._buildQS(r.query,r.reqType=="json",r.method=="POST")}return r},Instance:{_fun:xui.fun(),_flag:0,_response:false,_txtresponse:"",_retryNo:0,_time:function(){var d=this,e=d.constructor;d._clear();if(d._retryNo<d.retry){d._retryNo++;xui.tryF(d.onRetry,[d._retryNo],d);d.start()}else{if(false!==xui.tryF(d.onTimeout,[],d)){d._onError(new Error("Request timeout"))}}},_onEnd:function(){var c=this;if(!c._end){c._end=true;if(c._flag>0){xui.clearTimeout(c._flag);c._flag=0}xui.Thread.resume(c.threadid);xui.tryF(c.$onEnd,[],c);xui.tryF(c.onEnd,[],c);c._clear()}},_onStart:function(){var c=this;xui.Thread.suspend(c.threadid);xui.tryF(c.$onStart,[],c);xui.tryF(c.onStart,[],c)},_onResponse:function(){var c=this;if(false!==xui.tryF(c.beforeSuccess,[c._response,c.rspType,c.threadid],c)){xui.tryF(c.onSuccess,[c._response,c.rspType,c.threadid],c)}c._onEnd()},_onError:function(d){var c=this;if(false!==xui.tryF(c.beforeFail,[d,c.threadid],c)){xui.tryF(c.onFail,[d.name?(d.name+": "+d.message):d,c.rspType,c.threadid,d],c)}c._onEnd()},isAlive:function(){return !this._end},abort:function(){this._onEnd()}},Static:{$abstract:true,get:function(d,e,g,h,f,c){c=c||{};c.mothod="GET";return this.apply(this,arguments).start()},post:function(d,e,g,h,f,c){c=c||{};c.mothod="POST";return this.apply(this,arguments).start()},_id:1,uid:1,method:"GET",retry:0,timeout:60000,reqType:"form",rspType:"json",optimized:false,callback:"callback",_buildQS:function(e,c,d){e=xui.clone(e,function(g,f){return !(xui.isNaN(g)||!xui.isDefined(g))});return c?((c=xui.serialize(e))&&(d?c:encodeURIComponent(c))):xui.urlEncode(e)},customQS:function(c){return c},_if:function(g,j,e){var c=xui.browser.ie&&xui.browser.ver<9,f=c?("<iframe "+(j?("name='xui_xdmi:"+j+"'"):"")+(e?(" onload='xui.XDMI._o(\""+j+"\")'"):"")+">"):"iframe";var h=g.createElement(f),d;if(j){h.id=h.name="xui_xdmi:"+j}if(!c&&e){h.onload=e}h.style.display="none";g.body.appendChild(h);d=frames[frames.length-1].window;return[h,d,d.document]},isCrossDomain:function(e){var c=xui._localParts;e=e.replace(/#.*$/,"").replace(/^\/\//,c[1]+"//");var d=xui._uriReg.exec((e||"").toLowerCase());return !!(d&&(d[1]!==c[1]||d[2]!==c[2]||(d[3]||(d[1]==="http:"?80:443))!==(c[3]||(c[1]==="http:"?80:443))))},groupCall:function(j,k,c,d,h){var e,g=function(m,f,l){l[f]=xui.Thread(null,[function(n){m.threadid=n;m.start()}])};for(e in j){g(j[e],e,j)}return xui.Thread.group(null,j,k,function(){xui.Thread(h).suspend();xui.tryF(c,arguments,this)},function(){xui.tryF(d,arguments,this);xui.Thread(h).resume()}).start()}}});Class("xui.Ajax","xui.absIO",{Instance:{_XML:null,_unsafeHeader:"Accept-Charset,Accept-Encoding,Access-Control-Request-Headers,Access-Control-Request-Method,Connection,Content-Length,Cookie,Cookie2,Date,DNT,Expect,Host,Keep-Alive,Origin,Referer,TE,Trailer,Transfer-Encoding,Upgrade,User-Agent,Via".toLowerCase().split(","),_isunsafe:function(c){return xui.browser.isWebKit&&(xui.str.startWith("Proxy-",c)||xui.str.startWith("Sec-",c)||xui.arr.indexOf(this._unsafeHeader,c.toLowerCase())!==-1)},_header:function(d,c){if(!this._isunsafe(d)){if(this._XML){this._XML.setRequestHeader(d,c)}}},start:function(){var self=this;if(false===xui.tryF(self.beforeStart,[],self)){self._onEnd();return}if(!self._retryNo){self._onStart()}try{with(self){self._XML=new window.XMLHttpRequest();if(asy){self._XML.onreadystatechange=function(){if(self&&self._XML&&self._XML.readyState==4){self._complete.apply(self);self._clear()}}}if(!_retryNo&&method!="POST"){if(query){uri=uri.split("?")[0]+"?"+query}query=null}if(username&&password){self._XML.open(method,uri,asy,username,password)}else{self._XML.open(method,uri,asy)}self._header("Accept",Accept?Accept:(rspType=="json"?"application/json,text/javascript,*/*;q=0.01":rspType=="xml"?"text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8":"*/*"));self._header("Content-type",contentType?contentType:((reqType=="xml"?"text/xml; ":reqType=="json"?"application/json; ":method=="POST"?"application/x-www-form-urlencoded; ":"")+"charset="+(self.charset||"UTF-8")));self._header("X-Requested-With","XMLHttpRequest");if(optimized){try{self._header("User-Agent",null);self._header("Accept-Language",null);self._header("Connection","keep-alive");self._header("Keep-Alive",null);self._header("Cookie",null);self._header("Cookie","")}catch(e){}}try{if(xui.isHash(header)){xui.each(header,function(o,i){self._header(i,o)})}}catch(e){}if(false===xui.tryF(self.beforeSend,[self._XML],self)){self._onEnd();return}try{self._XML.send(query)}catch(e){}if(asy){if(self._XML&&timeout>0){_flag=xui.asyRun(function(){if(self&&!self._end){self._time()}},self.timeout)}}else{return _complete()}}}catch(e){self._onError(e)}return self},abort:function(){var c=this;if(c._XML){c._XML.onreadystatechange=c._fun;c._XML.abort();c._XML=null}arguments.callee.upper.call(c)},_clear:function(){var c=this;if(c._XML){c._XML.onreadystatechange=c._fun;c._XML=null}},_complete:function(){with(this){var ns=this,obj,status=ns._XML.status;_txtresponse=rspType=="xml"?ns._XML.responseXML:ns._XML.responseText;_response=rspType=="json"?((obj=xui.unserialize(_txtresponse))===false?_txtresponse:obj):_txtresponse;if(!status&&xui._localReg.test(xui._localParts[1])){status=ns._XML.responseText?200:404}if(status==1223){status=204}if(status>=200&&status<300||status==304){_onResponse()}else{if(status===undefined||status<10){_onError(new Error("Network problems--"+status))}else{_onError(new Error("XMLHTTP returns--"+status))}}}return this._response}},Static:{$asFunction:1}});Class("xui.JSONP","xui.absIO",{Instance:{start:function(){var m=this,d,g=m.constructor,l,f,h=false;if(false===xui.tryF(m.beforeStart,[],m)){m._onEnd();return}if(!m._retryNo){m._onStart()}if(m.rspType=="script"){m.retry=0}d=m.id;if(g._pool[d]){g._pool[d].push(m)}else{g._pool[d]=[m]}g.No["_"+d]=function(c){g.$response(c,d)};var j=document,k=function(){if(!h){h=true;if(m.rspType=="script"){if(typeof m.checkKey=="string"){xui.asyRun(function(){xui.exec("if(xui.SC.get('"+m.checkKey+"'))xui.JSONP._pool['"+d+"'][0]._onResponse();else xui.JSONP._pool['"+d+"'][0]._loaded();")})}else{m._onResponse()}}else{m._loaded()}}};f=m.node=j.createElement("script");var e=m.uri;if(m.query){e=e.split("?")[0]+"?"+m.query}f.src=e;f.type="text/javascript";f.charset=m.charset||"UTF-8";f.onload=f.onreadystatechange=function(){if(h){return}var c=this.readyState;if(!c||c=="loaded"||c=="complete"){k()}if(c=="interactive"&&xui.browser.opr){xui.Thread.repeat(function(){if(h){return false}if(/loaded|complete/.test(document.readyState)){k();return false}},50)}};if("onerror" in f){f.onerror=function(c){m._clear();m._onError(new Error("Not Found - "+e));m=null;return}}(j.body||j.getElementsByTagName("head")[0]).appendChild(f);f=null;if(m.timeout>0){m._flag=xui.asyRun(function(){if(m&&!m._end){m._time()}},m.timeout)}},_clear:function(){var e=this,j=e.node,h=e.constructor,g=e.id,d=h._pool;if(d[g]){d[g].length=0;delete d[g]}delete h.No["_"+g];if(j){e.node=j.onload=j.onreadystatechange=j.onerror=null;var f=document.createElement("div");f.appendChild(j.parentNode&&j.parentNode.removeChild(j)||j);if(xui.browser.ie){xui.asyRun(function(){f.innerHTML=j.outerHTML="";if(xui.isEmpty(d)){h._id=1}d=h=j=f=null})}else{xui.asyRun(function(){f.innerHTML="";j=f=null;if(xui.isEmpty(d)){h._id=1}})}}else{if(xui.isEmpty(d)){h._id=1}}},_loaded:function(){var c=this;xui.asyRun(function(){if(c.id&&c.constructor._pool[c.id]){c._onError(new Error("JSONP return script doesn't match"))}},500)}},Static:{$asFunction:1,_pool:{},No:{},$response:function(f,h){var d=this,g;if(f&&(g=d._pool[h])){for(var e=0,c=g.length;e<c;e++){g[e]._response=f;g[e]._onResponse()}}else{d._onError(new Error("JSONP return value formatting error--"+f))}},customQS:function(f){var g=this.constructor,d=g.callback,e=(this.rspType!="script");if(typeof f=="string"){return(f||"")+(e?("&"+d+"=xui.JSONP.No._"+this.id):"")}else{if(e){f[d]="xui.JSONP.No._"+this.id}return f}}}});Class("xui.XDMI","xui.absIO",{Instance:{_useForm:true,start:function(){var y=this,v=window,r=y.constructor,q,f,x,j,p,g,s,e,m;if(false===xui.tryF(y.beforeStart,[],y)){y._onEnd();return}if(!y._retryNo){y._onStart()}f=y.id;if(r._pool[f]){r._pool[f].push(y)}else{r._pool[f]=[y]}var u=r._if(document,f,m);y.node=u[0];y.frm=u[1];e=y.form=document.createElement("form");e.style.display="none";if(v.postMessage){y._msgcb=function(n){if(!y.node){return}if(n.source!==y.frm){return}n=n.data;if(y.rspType=="json"){n=xui.unserialize(n)||n}if(n&&(x=r._pool[y.id])){for(var k=0,c=x.length;k<c;k++){x[k]._response=n;x[k]._onResponse()}}else{y._clear();y._onError(new Error("XDMI return value formatting error"))}};if(v.addEventListener){v.addEventListener("message",y._msgcb,false)}else{v.attachEvent("onmessage",y._msgcb)}}else{y._onload=m=function(D){if(y.OK){return}if(!y.node){return}var n=y.node.contentWindow,C=xui.XDMI,B,z;if(xui.browser.opr){try{if(n.location=="about:blank"){return}}catch(A){}}y.OK=1;var k=0;try{if(n.name===undefined){k=1}}catch(A){k=1}if(k){n.location.replace(C._getDummy()+"#"+xui.ini.dummy_tag)}(function(){var o=0;try{if(n.name===undefined){o=1}}catch(F){o=1}if(o){return xui.asyRun(arguments.callee)}var E;if(("xui_xdmi:"+y.id)==n.name){y._clear();y._onError(new Error("XDMI no return value"));return}else{E=n.name}if(E&&(B=xui.unserialize(E))&&(z=C._pool[y.id])){for(var w=0,c=z.length;w<c;w++){z[w]._response=B;z[w]._onResponse()}}else{y._clear();y._onError(new Error("XDMI return value formatting error, or no matched 'id'-- "+E))}})()}}var h=y.uri;if(y.method!="POST"){h=h.split("?")[0]}e.action=y.uri;e.method=y.method;e.target="xui_xdmi:"+f;p=y.query||{};var l,d=[];for(q in p){if(p[q]&&p[q]["xui.UIProfile"]&&p[q].$xuiFileCtrl){if(l=p[q].boxing().getUploadObj()){d.push({id:p[q].$xid,file:l});l.id=l.name=q;e.appendChild(l);s=true}}else{if(p[q]&&p[q].nodeType==1){p[q].id=p[q].name=q;e.appendChild(p[q]);s=true}else{if(xui.isDefined(p[q])){x=document.createElement("textarea");x.id=x.name=q;x.value=typeof p[q]=="string"?p[q]:xui.serialize(p[q],function(c){return c!==undefined});e.appendChild(x)}}}}if(y.method=="POST"&&s){e.enctype="multipart/form-data";if(e.encoding){e.encoding=e.enctype}}document.body.appendChild(e);e.submit();if(d.length){xui.arr.each(d,function(k,c){if(c=xui.getObject(k.id)){if(c["xui.UIProfile"]&&c.boxing()&&c.boxing().setUploadObj){c.boxing().setUploadObj(k.file)}}})}x=e=null;if(y.timeout>0){y._flag=xui.asyRun(function(){if(y&&!y._end){y._time()}},y.timeout)}},_clear:function(){var r=this,j=r.node,l=r.form,p=r.constructor,q=window,g=document.createElement("div"),h=r.id,k=p._pool;if(k[h]){k[h].length=0;delete k[h]}if(j&&q.postMessage){if(q.removeEventListener){q.removeEventListener("message",r._msgcb,false)}else{q.detachEvent("onmessage",r._msgcb)}r._msgcb=null}else{if(xui.browser.gek&&j){try{j.onload=null;var o=j.contentWindow.document;o.write(" ");o.close()}catch(m){}}}r.form=r.node=r.frm=null;if(j){g.appendChild(j.parentNode.removeChild(j))}if(l){g.appendChild(l.parentNode.removeChild(l))}g.innerHTML="";if(xui.isEmpty(k)){p._id=1}l=g=null}},Static:{$asFunction:1,method:"POST",_pool:{},_o:function(f){var c=this,d=c._pool[f],e=d[d.length-1];xui.tryF(e._onload)},_getDummy:function(l){l=l||window;var q=this,k,c,p=l.document,s=xui.ini,r=xui.browser,m=q.isCrossDomain;if(q.dummy){return q.dummy}if(s.dummy){return q.dummy=s.dummy}if(!m(s.path)){if(!p.getElementById("xui:img:bg")){c=p.createElement("img");c.id="xui:img:bg";c.src=s.img_bg;c.style.display="none";p.body.appendChild(c);c=null}}if(c=p.getElementById("xui:img:bg")){return q.dummy=c.src.split("#")[0]}else{k=p.getElementsByTagName("img");for(var h=0,g=k.length;h<g;h++){c=k[h];if(c.src&&!m(c.src)){return q.dummy=c.src.split("#")[0]}}if(r.gek){k=p.getElementsByTagName("link");for(var h=0,g=k.length;h<g;h++){c=k[h];if(c.rel=="stylesheet"&&!m(c.href)){return q.dummy=c.href.split("#")[0]}}}}try{if(l!=l.parent){if((l=l.parent)&&!m(""+l.document.location.href)){return q._getDummy(l)}}}catch(n){}return"/favicon.ico"},customQS:function(g){var f=this,h=f.constructor,e=h.callback,d=window;g[e]="window.name";if(window.postMessage){g[e]=g.parentDomain=d.location.origin||(d.location.protocol+"//"+d.location.hostname+(d.location.port?":"+d.location.port:""))}else{g[e]="window.name"}return g}}});new function(){xui.SAjax=xui.JSONP;xui.IAjax=xui.XDMI};Class("xui.SC",null,{Constructor:function(k,j,g,f,l,e){var h=arguments.callee.upper;if(h){h.call(this)}h=null;var d=xui.$cache.SC,c;if(c=d[k]||(d[k]=xui.get(window,k.split(".")))){xui.tryF(j,[k,null,f],c)}else{l=l||{};l.$cb=j;if(g){l.threadid=f}c=d[k]=xui.SC._call(k||"",l,g,e)}return c},Static:{$asFunction:1,__gc:function(c){xui.$cache.SC={}},get:function(d,c){return xui.get(c||window,(d||"").replace(/\]$/g,"").split(/[\[\]\.]+/))},_call:function(u,v,m,e){m=!!m;var h,p,c,g,l=[],q=xui.SC.get,j=xui.$cache.snipScript,k=function(x,y,w){var f=this,o,r=this.uri;if(x){if(!q(u)){if(f.$p){(f.$cache||j)[f.$tag]=x}else{try{xui.exec(x,u)}catch(s){throw s.name+": "+s.message+" "+f.$tag}}}}o=Class._last;Class._ignoreNSCache=Class._last=null;xui.tryF(f.$cb,[f.$tag,x,w],q(u)||o||{});if(!q(u)&&o&&o.KEY!=u){xui.asyRun(function(){throw"'"+u+"' doesn't in '"+r+"'. The last class '"+o.KEY+"' was triggered."})}},d=function(o){var f=this;xui.tryF(f.$cb,[null,null,f.threadid],f)};if(e||!(c=q(u))){if(!e&&(p=j[u])){m=false;k.call({$cb:v.$cb},p);delete j[u]}if(e||!(c=q(u))){v=v||{};g=xui.getPath(u,".js","js",v);v.$tag=u;Class._ignoreNSCache=1;Class._last=null;var n;if(m&&!v.$p){v.rspType="script";n=xui.JSONP}else{v.asy=m;n=xui.Ajax}n(g,xui.$rand+"="+xui.rand(),k,d,null,v).start();if(!m){c=q(u)}}}else{if(v.$cb){k.call(v)}}return c},loadSnips:function(j,d,k,c,f,o,h){if(!j||!j.length){xui.tryF(c,[f]);return}var m={},o=xui.merge(o||{},{$p:1,$cache:d||xui.$cache.snipScript});for(var g=0,e=j.length;g<e;g++){m[j[g]]=1}if(k||c){o.$cb=function(l){if(k){xui.tryF(k,arguments,this)}delete m[l||this.$tag];if(xui.isEmpty(m)){xui.tryF(c,[f]);c=null;xui.Thread.resume(f)}}}xui.Thread.suspend(f);for(var g=0,n;n=j[g++];){this._call(n,xui.merge({$tag:n},o,h),true)}},runInBG:function(g,h,k,c){var e=0,d,l,m=this,f=function(j){while(g.length>e&&(l=m.get(d=g[e++]))){}if(!l){m._call(d,{threadid:j},true)}if(g.length<e){xui.Thread(j).abort()}if(g.length==e){e++}};xui.Thread(null,[f],1000,h,k,c,true).start()},execSnips:function(c){var d,f=c||xui.$cache.snipScript;for(d in f){try{xui.exec(f[d],d)}catch(g){throw g}}f={}},groupCall:function(g,f,j,h,e,c){if(g){var d=this;d.execSnips();xui.Thread.suspend(h);d.loadSnips(g,0,j,function(){d.execSnips();xui.tryF(f,[h]);f=null;xui.Thread.resume(h)},null,e,c)}else{xui.tryF(f,[h])}}}});Class("xui.absBox",null,{Constructor:function(){var c=arguments.callee.upper;if(c){c.call(this)}c=null;this._nodes=[];this.Class=this.constructor},Before:function(d){var c=xui.absBox;if(c){(c=c.$type)[d.replace("xui.","")]=c[d]=d}},Instance:{__gc:function(){this.each(function(c){xui.tryF(c.__gc)});this._nodes=0},_get:function(c){var d=this._nodes;return xui.isNumb(c)?d[c]:d},_empty:function(){this._nodes.length=0;return this},get:function(c){return this._get(c)},size:function(){return this._nodes.length},_each:function(d,h,k){var e=this,f=e._nodes,c=f.length,g,m;if(k){for(g=c;g>=0;g--){if(m=f[g]){if(false===d.call(h||e,m,g)){break}}}}else{for(g=0;g<c;g++){if(m=f[g]){if(false===d.call(h||e,m,g)){break}}}}m=null;return e},each:function(c,d,e){return this._each(c,d,e)},isEmpty:function(){return !this._nodes.length},merge:function(g){if(this==xui.win||this==xui.doc||this==xui("body")){return this}var d=this,j=d.constructor,g=g._nodes,f=0,e,h=d._nodes;if(g.length){for(;e=g[f++];){h[h.length]=e}d._nodes=j._unique(h)}return d},reBoxing:function(f,c){var d=this,e=xui.absBox.$type[f||"Dom"];if(!e){return xui.UI.pack([])}if(e==d.KEY){return d}if(e=xui.SC(e)){return e.pack(d._nodes,c)}}},Static:{$abstract:true,$type:{},pack:function(c,d){var e=new this(false);e._nodes=!c?[]:d===false?xui.isArr(c)?c:[c]:typeof this._ensureValues=="function"?this._ensureValues(c):xui.isArr(c)?c:[c];e.n0=e._nodes[0];return e},_unique:function(c){var m={},e=[],j=0,d=c.length,g,f;for(;j<d;j++){e[j]=c[j]}c.length=0;j=0;for(;g=e[j++];){f=typeof g=="string"?g:g.$xid;if(!m[f]){m[f]=1;c.push(g)}}return c},plugIn:function(d,c){this.prototype[d]=c;return this}}});Class("xui.absProfile",null,{Constructor:function(){var c=arguments.callee.upper;if(c){c.call(this)}c=null;if(!this.$xid){this.$xid=xui.absProfile.$xid.next()}},Instance:{getId:function(){return this.$xid},link:function(e,f,d,c){return xui.absProfile.prototype.$link(this,e,f,d,c)},$link:function(c,g,h,f,d){var e="$"+c.$xid;f=f||c;if(g[e]){c.unLink(h)}g[e]=f;if(xui.isArr(g)){xui.arr.insertAny(g,f,d,true)}c._links[h]=g;return c},unLink:function(c){return xui.absProfile.prototype.$unLink(this,c)},$unLink:function(c,g){var f,d,e="$"+c.$xid;if(!c._links){return}if(!(f=c._links[g])){return}if(xui.isArr(f)){d=xui.arr.indexOf(f,f[e]);if(d!=-1){xui.arr.removeFrom(f,d)}}delete f[e];delete c._links[g];return d},unLinkAll:function(){return xui.absProfile.prototype.$unLinkAll(this)},$unLinkAll:function(d){var g="$"+d.$xid,c=d._links,f,e;for(e in c){f=c[e];if(xui.isArr(f)){xui.arr.removeValue(f,f[g])}delete f[g]}d._links={};return d},getModule:function(e){var d=this,f=function(h){if(h.moduleClass&&h.moduleXid){var g=xui.SC.get(h.moduleClass);if(g&&(g=g.getInstance(h.moduleXid))){return f(g)}}return h},c;if(d.moduleClass&&d.moduleXid){if(c=xui.SC.get(d.moduleClass)){if(c=c.getInstance(d.moduleXid)){return e?f(c):c}}}},getParent:function(){return this.parent&&this.parent.boxing()},getChildrenId:function(){return this.childrenId}},Static:{$xid:new xui.id,$abstract:true}});Class("xui.Profile","xui.absProfile",{Constructor:function(k,h,d,c,f,l,m){var g=arguments.callee.upper,e=xui.toArr(arguments);g.apply(this,e);g=null;var j=this;xui.merge(j,m);j.key=h||j.key||"";j.alias=d||j.alias||"",j.properties=f?xui.copy(f):(j.properties||{});j.events=l?xui.copy(l):(j.events||{});j.host=k||j.host||j;j.Class=j.constructor;j.box=c||j.box;if(j.events){j.setEvents(j.events);delete j.events}j._links={}},Instance:{setEvents:function(d,e){var c=this.box.$EventHandlers;if(xui.isHash(d)){return xui.merge(this,d,"all",function(g,f){return c[f]})}else{if(c[d]){this[d]=e}}},getEvents:function(e){if(e){return this[e]}else{var c=this,d,f={};xui.each(c.box.$EventHandlers,function(h,g){if(c[g]){f[g]=c[g]}});return f}},getProperties:function(c){if(this._getProperties){this.properties=this._getProperties()}var d=this.properties;return c?d[c]:xui.copy(d)},setProperties:function(c,d){if(xui.isHash(c)){xui.merge(c,this.box.$DataStruct,function(f,e){if(!(e in c)){c[e]=xui.isObj(f)?xui.clone(f):f}});this.properties=c}else{this.properties[c]=d}if(this.propSetAction){this.propSetAction(this.properties)}},_applySetAction:function(d,g,h,f,c,e){return d.call(this,g,h,f,c,e)},__gc:function(){var c=this;if(c.$beforeDestroy){xui.each(c.$beforeDestroy,function(e){xui.tryF(e,[],c)});delete c.$beforeDestroy}xui.tryF(c.$ondestory,[],c);if(c.onDestroy){c.boxing().onDestroy()}if(c.destroyTrigger){c.destroyTrigger()}var d;if(c.alias&&c.host&&(d=c.host[c.alias])&&(d=d._nodes)&&(d.length===0||d.length===1&&d[0]==c)){delete c.host[c.alias]}c.unLinkAll();xui.tryF(c.clearCache,[],c);var d=xui.get(c,["box","_namePool"]);if(d){delete d[c.alias]}c.destroyed=true;if(c.$afterDestroy){xui.each(c.$afterDestroy,function(e){xui.tryF(e,[],c)});delete c.$afterDestroy}if(c.afterDestroy){c.boxing().afterDestroy(c)}xui.breakO([c.properties,c.events,c],2);c.destroyed=true},boxing:function(){var c=this,d;if(!c.box){return null}if(!((d=c.Instace)&&d.get(0)==c&&d._nodes.length==1)){d=c.Instace=c.box.pack([c],false)}return d},serialize:function(k,n){var l,m=this,g=(l=m.box._beforeSerialized)?l(m):m,d={alias:g.alias,key:g.key,host:g.host};if(d.host===m){delete d.host}else{if(g.host&&!n){if(k!==false){d.host="@this"}else{delete d.host}}}var j={},f=g.box.$DataStruct,e=xui.absObj.$specialChars;xui.merge(j,g.properties,function(p,c){return(c in f)&&f[c]!==p&&!e[c.charAt(0)]});if(!xui.isEmpty(j)){d.properties=j}if(!xui.isEmpty(l=this.getEvents())){d.events=l}var h=g.box.$EventHandlers;xui.filter(d.events,function(p,c){return p!=h[c]});if(xui.isEmpty(d.events)){delete d.events}return k===false?d:xui.serialize(d)}}});Class("xui.absObj","xui.absBox",{Constructor:function(){var d=arguments.callee.upper,c=xui.toArr(arguments);d.apply(this,c);d=null;if(c[0]!==false&&typeof this._ini=="function"){return this._ini.apply(this,c)}},Before:function(d,c,e){xui.absBox.$type[d]=d;return true},After:function(){var x=this,o=arguments.callee,s,w,f,r,d,h,g,e,q,c,p;x._nameId=0;x._namePool={};x._nameTag=x.$nameTag||(x.KEY.replace(/\./g,"_").toLowerCase());x._cache=[];d=o.a1||(o.a1=xui.toArr("$Keys,$DataStruct,$EventHandlers,$DataModel"));for(g=0;q=d[g++];){f={};if((w=x.$parent)&&(h=w.length)){while(h--){xui.merge(f,w[h][q])}}x[q]=f}x.setDataModel(x.DataModel);delete x.DataModel;x.setEventHandlers(x.EventHandlers);delete x.EventHandlers;d=o.a5||(o.a5=xui.toArr("RenderTrigger,LayoutTrigger"));for(g=0;q=d[g++];){s=[];if((w=x.$parent)&&(e=w.length)){for(h=0;h<e;h++){r=w[h];if(r=r["$"+q]){s.push.apply(s,r)}}}if(x[q]){s.push(x[q])}xui.arr.stableSort(s,function(j,k){j=j.$order||0;k=k.$order||0;return j>k?1:j==k?0:-1});x["$"+q]=s;delete x[q]}},Static:{$abstract:true,$specialChars:{_:1,$:1},DataModel:{tag:"",name:"",desc:"",tagVar:{ini:{}},propBinder:{hidden:1,ini:{}},dataBinder:{ini:"",set:function(d){var c=this,f=c.properties,e=f.dataBinder;if(e){xui.DataBinder._unBind(e,c)}f.dataBinder=d;xui.DataBinder._bind(d,c)}},dataField:{ini:""}},get:function(c){return this.pack([this._cache[c||0]])},getAll:function(){return this.pack(this._cache)},pickAlias:function(){return xui.absObj.$pickAlias(this)},$pickAlias:function(d){var e,f=d._namePool,c=d._nameTag;while(f[e=(c+(++d._nameId))]){}return e},setDataModel:function(l){var v=this,s=xui.absObj.$specialChars,g=v.$DataStruct,q=v.$DataModel,d=v.prototype,p,k,u,e,f,h,c;for(p in l){if(!q[p]){q[p]={}}e=l[p];if(null===e||undefined===e){c=xui.str.initial(p);delete g[p];delete q[p];if(d[k="get"+c]&&d[k].$auto$){delete d[k]}if(d[k="set"+c]&&d[k].$auto$){delete d[k]}}else{u=typeof e;if(u!="object"||e.constructor!=Object){e={ini:e}}g[p]=("ini" in e)?e.ini:(p in g)?g[p]:"";u=q[p];for(k in u){if(!(k in e)){e[k]=u[k]}}q[p]=e}}xui.each(l,function(r,m){if(null===r||undefined===r||s[m.charAt(0)]){return}c=xui.str.initial(m);f="set"+c;if(r.set!==null&&!(r&&(r.readonly||r.inner))){var j=r.set;h=d[f];d[f]=(typeof j!="function"&&typeof h=="function")?h:Class._fun(function(y,x,o,w){return this.each(function(A){if(!A.properties){return}var C,B;if(A.properties[m]===y&&!x){return}if(A.$beforePropSet&&false===A.$beforePropSet(m,y,x,o,w)){return}else{var D=A.properties[m];if(A.beforePropertyChanged&&false===A.boxing().beforePropertyChanged(A,m,y,D)){return}if(typeof j=="function"){j.call(A,y,x,o,w)}else{var z=xui.get(A.box.$DataModel,[m,"action"]);A.properties[m]=y;if(typeof z=="function"&&A._applySetAction(z,y,D,x,o,w)===false){A.properties[m]=D}}if(A.afterPropertyChanged){A.boxing().afterPropertyChanged(A,m,y,D)}if(A.$afterPropertyChanged){xui.tryF(A.$afterPropertyChanged,[A,m,y,D],A)}}})},f,v.KEY,null,"instance");if(d[f]!==h){d[f].$auto$=1}}else{delete d[f]}f="get"+c;if(!(r&&r.inner)){var n=r.get;h=d[f];d[f]=(typeof n!="function"&&typeof h=="function")?h:Class._fun(function(){if(typeof n=="function"){return n.apply(this.get(0),arguments)}else{return this.get(0).properties[m]}},f,v.KEY,null,"instance");if(d[f]!==h){d[f].$auto$=1}}else{delete d[f]}});return v},setEventHandlers:function(d){var c=this;xui.each(d,function(h,e){if(null===h){delete c.$EventHandlers[e];delete c.prototype[e]}else{c.$EventHandlers[e]=h;var g=function(u){var p=arguments.length;if(p==1&&(typeof u=="function"||typeof u=="string"||xui.isHash(u)||xui.isArr(u))){return this.each(function(j){if(j.renderId){j.clearCache()}if(j.box._addEventHanlder){j.box._addEventHanlder(j,e,u)}j[e]=u})}else{if(p==1&&null===u){return this.each(function(j){j.clearCache();if(j.box._removeEventHanlder){j.box._removeEventHanlder(j,e,j[e])}delete j[e]})}else{var s=[],w=this.get(0);if(w){var z=w[e],y=w.host||w,q,k,f;if(z&&(!xui.isArr(z)||z.length)){if(w.$inDesign){return}if(arguments[0]!=w){s[0]=w}for(q=0;q<p;q++){s[s.length]=arguments[q]}w.$lastEvent=e;if(!xui.isArr(z)){z=[z]}p=z.length;if(xui.isNumb(q=z[0].event)){s[q]=xui.Event.getEventPara(s[q])}var x={};var m=0,u=function(l){if(xui.isStr(this)){x[this+""]=l||""}for(q=m;q<p;q++){m=q+1;k=z[q];if(typeof k=="string"){k=y[k]}if(typeof k=="function"){f=xui.tryF(k,s,y)}else{if(xui.isHash(k)){if("onOK" in k||"onKO" in k){var j=function(o,n){if(u){u.apply(o,n)}};if("onOK" in k){onOK=(k.params||(k.params=[]))[parseInt(k.onOK,10)||0]=function(){j("okData",arguments)}}if("onKO" in k){(k.params||(k.params=[]))[parseInt(k.onKO,10)||0]=function(){j("koData",arguments)}}if(false===(f=xui.pseudocode.exec(k,s,y,x,j))){m=x=u=null}break}else{if(false===(f=xui.pseudocode.exec(k,s,y,x))){m=q;break}}}}}if(m==q){m=x=u=null}return f};return u()}}}}};g.$event$=1;g.$original$=h.$original$||c.KEY;g.$name$=e;g.$type$="event";c.plugIn(e,g)}});return c},unserialize:function(e,g){if(typeof e=="string"){e=xui.unserialize(e)}var d=function(f){if(xui.isArr(f)){f=f[0]}delete f.serialId;if(f.children){xui.arr.each(f.children,d)}},c=[];xui.arr.each(e,function(f){if(!g){d(f)}c.push((new (xui.SC(f.key))(f)).get(0))});return this.pack(c,false)}},Instance:{clone:function(){var c=[],e=arguments,d=function(g){delete g.alias;for(var f=0;f<e.length;f++){delete g[e[f]]}if(g.children){for(var f=0,h;h=g.children[f];f++){d(h[0])}}};this.each(function(f){f=f.serialize(false,true);d(f);c.push(f)});return this.constructor.unserialize(c)},serialize:function(d,e){var c=[];this.each(function(f){c[c.length]=f.serialize(false,e)});return d===false?c:c.length==1?" new "+c[0].key+"("+xui.serialize(c[0])+")":"xui.UI.unserialize("+xui.serialize(c)+")"},getProperties:function(d){var e={},f=this.get(0),j=f.properties,g;if(d===true){return xui.copy(j)}else{if(typeof d=="string"){return j[d]}else{for(var c in j){g="get"+xui.str.initial(c);if(typeof this[g]=="function"){e[c]=this[g].call(this)}}return e}}},setProperties:function(c,f,e){if(typeof c=="string"){var d={};d[c]=f;c=d}return this.each(function(g){xui.each(c,function(j,h){var m="set"+xui.str.initial(h),l=g.boxing();if(l&&typeof l[m]=="function"){l[m].call(l,j,!!e)}else{g.properties[h]=j}})})},getEvents:function(c){return this.get(0).getEvents(c)},setEvents:function(c,e){if(typeof c=="string"){var d={};d[c]=e;c=d}return this.each(function(g){var f=g.boxing();xui.each(c,function(j,h){if(typeof f[h]=="function"){f[h].call(f,j)}})})},alias:function(c){return c?this.setAlias(c):this.getAlias()},host:function(d,c){return d?this.setHost(d,c):this.getHost()},setHost:function(d,c){return this._setHostAlias(d,c)},_setHostAlias:function(g,f){var d=this,h=this.get(0),c=h.alias;f=f||h.alias;if(c){if(h.host&&h.host!==h){try{delete h.host[c]}catch(j){h.host[c]=undefined}if(h.host._ctrlpool){delete h.host._ctrlpool[c]}}delete d.constructor._namePool[c]}d.constructor._namePool[h.alias=f]=1;if(h.box&&h.box._syncAlias){h.box._syncAlias(h,c,f)}if(g){h.host=g}if(h.host&&h.host!==h){h.host[f]=d;if(h.host._ctrlpool){h.host._ctrlpool[f]=d.get(0)}}return d},setAlias:function(c){return this._setHostAlias(null,c)},getAlias:function(){return this.get(0).alias},getHost:function(){return this.get(0).host},reBindProp:function(h,n){var k=this,d,f,l,c,j=function(){k.each(function(e){d=e.properties;if(d.propBinder&&!xui.isEmpty(d.propBinder)){f=e.boxing();xui.each(d.propBinder,function(o,p){if(xui.isFun(o)){c=o(e);if(p=="CA"){f.setCustomAttr(c)}else{if(p=="CC"){f.setCustomClass(c)}else{if(p=="CS"){f.setCustomStyle(c)}else{if(xui.isFun(f[l="set"+xui.str.initial(p)])){f[l](c,true)}}}}}})}})};if(!n){var m;if(window.get){m=get}window.get=function(e){return xui.SC.get(e,h)};try{j()}catch(g){}finally{window.get=m}}else{j()}return this}}});Class("xui.Timer","xui.absObj",{Instance:{_ini:function(g,l,k){var m=this,h=m.constructor,d,n,f,j;if(g&&g["xui.Profile"]){d=g;f=d.alias||h.pickAlias()}else{if(g&&g.key&&xui.absBox.$type[g.key]){n=g;g=null;f=n.alias;f=h.pickAlias()}else{f=h.pickAlias()}d=new xui.Profile(k,m.$key,f,h,g,l,n)}d._n=d._n||[];for(var e in (j=h.$DataStruct)){if(!(e in d.properties)){d.properties[e]=typeof j[e]=="object"?xui.copy(j[e]):j[e]}}d.link(h._cache,"self").link(xui._pool,"xui");m._nodes.push(d);d.Instace=m;m.n0=d;xui.asyRun(function(){if(d&&d.box){d.boxing().start()}});return m},destroy:function(){this.each(function(c){if(c._threadid){xui.Thread(c._threadid).abort()}c.__gc()})},start:function(){return this.each(function(d){if(d.$inDesign){return}var f=d.properties,e=d.boxing(),c=xui.Thread.repeat(function(g){if(d.onTime&&false===e.onTime(d,g)){return false}},f.interval,function(g){d.onStart&&e.onStart(d,g)},function(g){d.onEnd&&e.onEnd(d,g)});d._threadid=c.id})},suspend:function(){return this.each(function(c){if(c._threadid){xui.Thread(c._threadid).suspend()}c.onSuspend&&box.onSuspend(c,threadId)})},getParent:function(){return this.parent&&this.parent.boxing()},getChildrenId:function(){return this.childrenId}},Static:{_objectProp:{tagVar:1,propBinder:1},_beforeSerialized:function(d){var f={};xui.merge(f,d,"all");var e=f.properties=xui.clone(d.properties,true);if(d.box._objectProp){for(var c in d.box._objectProp){if((c in e)&&e[c]&&xui.isHash(e[c])&&xui.isEmpty(e[c])){delete e[c]}}}return f},DataModel:{interval:1000},EventHandlers:{onTime:function(c,d){},onStart:function(c,d){},onSuspend:function(c,d){},onEnd:function(c,d){}}}});Class("xui.APICaller","xui.absObj",{Instance:{_ini:function(g,m,l){var n=this,h=n.constructor,d,o,j=h._namePool,f,k;if(g&&g["xui.Profile"]){d=g;f=d.alias||h.pickAlias()}else{if(g&&g.key&&xui.absBox.$type[g.key]){o=g;g=null;f=o.alias;f=(f&&!j[f])?f:h.pickAlias()}else{f=h.pickAlias()}d=new xui.Profile(l,n.$key,f,h,g,m,o)}j[f]=1;d._n=d._n||[];for(var e in (k=h.$DataStruct)){if(!(e in d.properties)){d.properties[e]=typeof k[e]=="object"?xui.copy(k[e]):k[e]}}d.link(h._cache,"self").link(xui._pool,"xui");n._nodes.push(d);d.Instace=n;n.n0=d;if(!d.name){n.setName(f)}return n},destroy:function(){this.each(function(d){var e=d.box,c=d.properties.name;delete e._pool[c];d.__gc()})},setHost:function(e,d){var c=this;if(e&&d){c.setName(d)}return arguments.callee.upper.apply(c,arguments)},invoke:function(y,j,k,I,h,r,s){var K=this,f=K.constructor,B=K.get(0),n=B.properties;var A=n.responseType,G=n.requestType,q=n.requestId,l=n.queryURL,x=n.proxyType.toLowerCase(),w=n.queryUserName,m=n.queryPasswrod,N=xui.copy(n.queryArgs),c=n.oAuth2Token,p=xui.copy(n.queryOptions),v=xui.copy(n.queryHeader),u=n.requestDataSource,M=n.responseDataTarget;l=xui.adjustVar(l);if(x=="sajax"){x="jsonp"}else{if(x=="iajax"){x="xdmi"}}if(G=="FORM"||G=="JSON"){N=typeof N=="string"?xui.unserialize(N):N}if(!N){N={}}if(n.avoidCache){var L=0,J="_rand_";while(N.hasOwnProperty(J)){J="_rand_"+ ++L}N[J]=xui.rand()}if(u&&u.length){for(var L in u){var H=u[L],F;switch(H.type){case"databinder":if(F=xui.DataBinder.getFromName(H.name)){if(!F.updateDataFromUI()){return}else{if(H.path){xui.set(N,H.path.split("."),F.getData())}else{xui.merge(N,F.getData(),"without")}}}break;case"form":if((F=xui.get(B,["host",H.name]))&&F.Class["xui.absContainer"]&&F.getRootNode()){if(!F.checkValid()||!F.checkRequired()){return}else{if(H.path){xui.set(N,H.path.split("."),F.getFormValues())}else{xui.merge(N,F.getFormValues(),"without")}}}break}}}if(B.beforeInvoke&&false===B.boxing().beforeInvoke(B,q)){return}var e={header:{}};if(!xui.isEmpty(v)){xui.merge(e.header,v)}if(p.header&&!xui.isEmpty(p.header)){xui.merge(e.header,p.header);delete p.header}if(A=="SOAP"||G=="SOAP"){if(!f.WDSLCache){f.WDSLCache={}}if(!f.WDSLCache[l]){var E=xui.SOAP.getWsdl(l,function(o){if(B.afterInvoke){B.boxing().afterInvoke(B,o,q||this.uid)}if(B.onError){B.boxing().onError(B,o)}xui.tryF(j,arguments,this);xui.tryF(I,arguments,this)});if(E){f.WDSLCache[l]=E}else{return}}}switch(A){case"TEXT":e.rspType="text";case"JSON":e.rspType="json";break;case"XML":x="ajax";e.rspType="xml";break;case"SOAP":x="ajax";e.rspType="xml";var C=xui.SOAP.getNameSpace(f.WDSLCache[l]),d=((C.lastIndexOf("/")!=C.length-1)?C+"/":C)+(N.methodName||"");e.header.SOAPAction=d;break}switch(G){case"FORM":N=typeof N=="string"?xui.unserialize(N):N;break;case"JSON":e.reqType="json";if(n.queryMethod=="auto"){e.method="POST"}N=typeof N=="string"?N:xui.serialize(N);break;case"XML":e.reqType="xml";x="ajax";e.method="POST";if(w&&queryPassword){e.username=w;e.password=queryPassword;e.header.Authorization="Basic "+f._toBase64(w+":"+queryPassword)}N=typeof N=="string"?N:xui.XMLRPC.wrapRequest(N);break;case"SOAP":e.reqType="xml";x="ajax";e.method="POST";if(w&&queryPassword){e.username=w;e.password=queryPassword;e.header.Authorization="Basic "+f._toBase64(w+":"+queryPassword)}N=typeof N=="string"?N:xui.SOAP.wrapRequest(N,f.WDSLCache[l]);break}if(c){e.header.Authorization="Bearer "+c}if(x!="ajax"){e.asy=true}if(x=="jsonp"){e.method="GET"}s=s||{};if(!("asy" in s)){s.asy=!!n.queryAsync}if(!("method" in s)&&n.queryMethod!="auto"){s.method=n.queryMethod}if(!("onEnd" in s)){s.onEnd=I}if(!("onStart" in s)){s.onStart=k}xui.merge(s,p);xui.merge(s,e,"all");s.proxyType=x;if(xui.isEmpty(s.header)){delete s.header}var O=xui.APICaller.Mocker;if(O){var g=N.replace(O.remoteSericeURL,"").replace(/^[/]+/,"").replace(/[/]+$/,"");if((O.blacklist&&!O.blacklist[g])||(O.whitelist&&O.whitelist[g])){l=O.mockerURL.replace(/[/]+$/,"")+"/"+g}}var D={},F;if(!xui.isEmpty(n.fakeCookies)){s.$onStart=function(){xui.each(n.fakeCookies,function(P,o){if(xui.isSet(F=xui.Cookies.get(o))){D[o]=F;xui.Cookies.remove(o)}});xui.Cookies.set(n.fakeCookies,1,"/")}}if(!xui.isEmpty(n.fakeCookies)){s.$onEnd=function(){xui.each(n.fakeCookies,function(P,o){xui.Cookies.remove(o)});xui.Cookies.set(D)}}var z=xui._getrpc(l,N,s).apply(null,[l,N,function(P){var o;if(!xui.isHash(P)&&!xui.isStr(P)){if(A=="XML"){P=xui.XMLRPC.parseResponse(P)}else{if(A=="SOAP"){P=xui.SOAP.parseResponse(P,N.methodName,f.WDSLCache[l])}}}if(B.afterInvoke){o=B.boxing().afterInvoke(B,P,q||this.uid);if(xui.isSet(o)){P=o}o=null}if(M&&M.length){xui.arr.each(M,function(S){var R=S.path?xui.get(P,S.path.split(".")):P,Q;switch(S.type){case"alert":R=xui.stringify(R);if(xui.Coder){R=xui.Coder.formatText(R)}alert(R);break;case"log":xui.log(R);break;case"databinder":if(Q=xui.DataBinder.getFromName(S.name)){Q.setData(R);Q.updateDataToUI()}break;case"form":if((Q=xui.get(B,["host",S.name]))&&Q.Class["xui.absContainer"]&&Q.getRootNode()){Q.setFormValues(R)}break}})}if(B.onData){B.boxing().onData(B,P,q||this.uid)}xui.tryF(y,arguments,this)},function(o){if(B.afterInvoke){B.boxing().afterInvoke(B,o,q||this.uid)}if(M&&M.length){xui.arr.each(M,function(Q,P){switch(Q.type){case"alert":o=xui.stringify(o);if(xui.Coder){o=xui.Coder.formatText(o)}alert(o);break;case"log":xui.log(o);break}})}if(B.onError){B.boxing().onError(B,o,q||this.uid)}xui.tryF(j,arguments,this)},r,s]);if(h=="quiet"){z.start()}else{if(h=="return"){return z}else{xui.observableRun(function(o){z.threadid=o;z.start()})}}}},Static:{WDSLCache:{},$nameTag:"api_",_pool:{},_objectProp:{tagVar:1,propBinder:1,queryArgs:1,queryHeader:1,queryOptions:1,fakeCookies:1,requestDataSource:1,responseDataTarget:1},destroyAll:function(){this.pack(xui.toArr(this._pool,false),false).destroy();this._pool={}},getFromName:function(c){var d=this._pool[c];return d&&d.boxing()},_toBase64:function(m){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=[],g=0,f,e,d,n,l,k,j;do{f=m.charCodeAt(g++);e=m.charCodeAt(g++);d=m.charCodeAt(g++);n=f>>2;l=((f&3)<<4)|(e>>4);k=((e&15)<<2)|(d>>6);j=d&63;if(isNaN(e)){k=j=64}else{if(isNaN(d)){j=64}}h.push(c.charAt(n)+c.charAt(l)+c.charAt(k)+c.charAt(j))}while(g<m.length);return h.join("")},_beforeSerialized:function(d){var f={};xui.merge(f,d,"all");var e=f.properties=xui.clone(d.properties,true);for(var c in d.box._objectProp){if((c in e)&&e[c]&&(xui.isHash(e[c])||xui.isArr(e[c]))&&xui.isEmpty(e[c])){delete e[c]}}return f},DataModel:{dataBinder:null,dataField:null,requestId:"",queryAsync:true,queryURL:"",avoidCache:true,oAuth2Token:"",queryUserName:"",queryPassword:"",queryMethod:{ini:"auto",listbox:["auto","GET","POST","PUT","DELETE"]},requestType:{ini:"FORM",listbox:["FORM","JSON","XML","SOAP"]},responseType:{ini:"JSON",listbox:["JSON","TEXT","XML","SOAP"]},requestDataSource:{ini:[]},responseDataTarget:{ini:[]},queryArgs:{ini:{}},queryHeader:{ini:{}},queryOptions:{ini:{}},fakeCookies:{ini:{}},proxyType:{ini:"auto",listbox:["auto","AJAX","JSONP","XDMI"]},name:{set:function(h){var k=this,j=k.properties.name,l=k.box,d=l._pool,e=d[j],f=d[h],g;d[k.properties.name=h]=k;if(f&&!e){k._n=f._n}if(e){delete d[j]}}},proxyInvoker:{inner:true,trigger:function(){var d=this.get(0),c=d.properties.responseDataTarget;d.properties.responseDataTarget=[];this.invoke(function(e){d.properties.responseDataTarget=c;e=xui.stringify(e);if(xui.Coder){e=xui.Coder.formatText(e)}alert(e)},function(e){d.properties.responseDataTarget=c;e=xui.stringify(e);if(xui.Coder){e=xui.Coder.formatText(e)}alert(e)})}}},EventHandlers:{beforeInvoke:function(c,d){},afterInvoke:function(d,c,e){},onData:function(d,c,e){},onError:function(d,c,e){}}}});Class("xui.DataBinder","xui.absObj",{Instance:{_ini:function(g,m,l){var n=this,h=n.constructor,d,o,j=h._namePool,f,k;if(g&&g["xui.Profile"]){d=g;f=d.alias||h.pickAlias()}else{if(g&&g.key&&xui.absBox.$type[g.key]){o=g;g=null;f=o.alias;f=(f&&!j[f])?f:h.pickAlias()}else{f=h.pickAlias()}d=new xui.Profile(l,n.$key,f,h,g,m,o)}j[f]=1;d._n=d._n||[];for(var e in (k=h.$DataStruct)){if(!(e in d.properties)){d.properties[e]=typeof k[e]=="object"?xui.copy(k[e]):k[e]}}d.link(h._cache,"self").link(xui._pool,"xui");n._nodes.push(d);d.Instace=n;n.n0=d;if(!d.name){n.setName(f)}return n},destroy:function(){this.each(function(d){var e=d.box,c=d.properties.name;xui.arr.each(d._n,function(f){if(f){e._unBind(c,f)}});delete e._pool[c];d.__gc()})},setHost:function(e,d){var c=this;if(e&&d){c.setName(d)}return arguments.callee.upper.apply(c,arguments)},isDirtied:function(){var d=this.constructor._getBoundElems(this.get(0));for(var f=0,c=d.length;f<c;f++){var g=d[f],e;if(g.box["xui.absValue"]){e=g.boxing();if((e.getUIValue()+" ")!==(e.getValue()+" ")){return true}}}return false},checkValid:function(d){var c=true;xui.absValue.pack(this.constructor._getBoundElems(this.get(0)),false).each(function(e){if(!e.boxing().checkValid()){if(!d){if(!e.beforeInputAlert||false!==e.boxing().prf.beforeInputAlert(profile,e,"invalid")){xui.alert("$inline.invalid",xui.getRes("$inline.invalid")+(e.properties.labelCaption?(" : "+e.properties.labelCaption):""),function(){if(e&&e.renderId){e.boxing().activate()}})}return c=false}c=false}});return c},checkRequired:function(d){var c=true;xui.absValue.pack(this.constructor._getBoundElems(this.get(0)),false).each(function(e){if(e.properties.required&&(!(i=e.boxing().getUIValue()))&&i!==0){if(!d){if(!e.beforeInputAlert||false!==e.boxing().prf.beforeInputAlert(profile,e,"required")){xui.alert("$inline.required",xui.getRes("$inline.required")+(e.properties.labelCaption?(" : "+e.properties.labelCaption):""),function(){if(e&&e.renderId){e.boxing().activate()}})}return c=false}c=false}});return c},getUI:function(c){var d;if(!c){d=xui.UI.pack(this.constructor._getBoundElems(this.get(0)),false)}else{xui.arr.each(this.constructor._getBoundElems(this.get(0)),function(e){var f=e.properties;if((f.dataField||f.name||e.alias)==c){d=e.boxing();return false}})}return d},getUIValue:function(g,f){var c=this,d=c.get(0),e={};xui.arr.each(this.constructor._getBoundElems(d),function(k){if(!k.box["xui.absValue"]){return}var l=k.properties,h=k.boxing(),j=h.getUIValue();if(!f||(j+" ")!==(h.getValue()+" ")){if(g&&h.getCaption){e[l.dataField||l.name||k.alias]={value:j,caption:h.getCaption()}}else{e[l.dataField||l.name||k.alias]=j}}});return e},getDirtied:function(c){return this.getUIValue(c,true)},getData:function(d,g,c){var f=this.get(0);if(f.$inDesign||g){f.properties.data={};this.updateDataFromUI(false,false,false,null,null,c,false)}var e=f.properties.data;return xui.isSet(d)?e[d]:e},setData:function(c,f,e){var d=this.get(0),g=d.properties;if(c===false){xui.each(g.data,function(j,h){g.data[h]=null})}else{if(!xui.isSet(c)){g.data={}}else{if(xui.isHash(c)){g.data=c}else{g.data[c]=f}}}if(d.$inDesign||e){this.updateDataToUI()}return this},updateValue:function(){xui.absValue.pack(this.constructor._getBoundElems(this.get(0)),false).updateValue();return this},updateDataFromUI:function(k,o,n,j,c,l,f){var m=this,g=m.get(0),e=g.properties,d={},h;if(!l){if(!m.checkValid()){return}if(!m.checkRequired()){return}}xui.merge(d,e.data,function(p,q){return !c||c===q||(xui.isArr(c)?xui.arr.indexOf(c,q)!=-1:false)});xui.arr.each(m.constructor._getBoundElems(g),function(v){var q=v.properties,x=v.box.$EventHandlers,C=q.dataField||q.name||v.alias;if(!c||c===C||(xui.isArr(c)?xui.arr.indexOf(c,C)!=-1:false)){var A=v.boxing(),B,r=v.box["xui.absValue"]?A.getUIValue(xui.isBool(n)?n:v.__returnArray):null;if(xui.isHash(d[C])){var s=d[C].properties,y=d[C].theme,u=d[C].CC,w=d[C].CA,z=d[C].CS;if(s){delete d[C].properties}if(y){delete d[C].theme}if(w){delete d[C].CA}if(u){delete d[C].CC}if(z){delete d[C].CS}xui.filter(d[C],function(D,p){return !!(p in q)});if(!xui.isEmpty(d[C])){xui.each(d[C],function(D,p){if(p in q){d[C][p]=q[p]}})}if(xui.isHash(s)){xui.filter(s,function(D,p){return p in q&&!(p in d[C])});if(!xui.isEmpty(s)){xui.each(s,function(D,p){if(p in q){s[p]=q[p]}});d[C].properties=s}}if(y){d[C].theme=v.theme}if(w){d[C].CA=xui.clone(v.CA,true)}if(u){d[C].CC=xui.clone(v.CC,true)}if(z){d[C].CS=xui.clone(v.CS,true)}if("caption" in q&&("caption" in d[C]||o)&&A.getCaption){if(s&&"caption" in s){s.caption=A.getCaption()}else{d[C].caption=A.getCaption()}}if(xui.isDefined(r)&&"value" in q){if(s&&"value" in s){s.value=r}else{d[C].value=r}}}else{if(v.box["xui.UI.ComboInput"]&&(q.type=="file")){d[C]=v}else{if(o&&"caption" in q){B=typeof(A.getCaption)=="function"?A.getCaption():q.caption;if((!B&&!r)||B==r){d[C]=r}else{d[C]={value:r,caption:B}}}else{d[C]=r}}}if(k!==false&&v.renderId&&v.box["xui.absValue"]){A.updateValue()}}});if(j){d=xui.tryF(j,[d,g],this)}if(!f&&g.afterUpdateDataFromUI){h=this.afterUpdateDataFromUI(g,d);if(xui.isHash(h)){d=h}h=null}xui.merge(g.properties.data,d,"all");return true},updateDataToUI:function(o,d,h){var w,g,u,q,s,k,j,m,r=this,l=r.get(0),f=l.properties,e={},n;xui.merge(e,f.data,function(c,p){return !d||d===p||(xui.isArr(d)?xui.arr.indexOf(d,p)!=-1:false)});if(o){e=xui.tryF(o,[e,l],r)}if(!h&&l.beforeUpdateDataToUI){n=r.beforeUpdateDataToUI(l,e);if(xui.isHash(n)){e=n}n=null}xui.arr.each(r.constructor._getBoundElems(l),function(c){g=c.properties;m=c.box.$EventHandlers;w=g.dataField||g.name||c.alias;if(!d||d===w||(xui.isArr(d)?xui.arr.indexOf(d,w)!=-1:false)){if(e&&w in e){u=xui.clone(e[w],null,2);j=q=null;s=c.boxing();if(xui.isHash(u)){if(k=u.properties){xui.filter(k,function(v,p){return p in g});q=xui.isSet(k.caption)?k.caption:null;j=xui.isSet(k.value)?k.value:null;delete k.caption;delete k.value;if(!xui.isEmpty(k)){s.setProperties(k)}delete u.properties}if(k=u.theme){if(typeof(s.setTheme)=="function"){s.setTheme(k)}delete u.theme}if(k=u.CS){if(!xui.isEmpty(k)){s.setCustomStyle(k)}delete u.CS}if(k=u.CC){if(!xui.isEmpty(k)){s.setCustomClass(k)}delete u.CC}if(k=u.CA){if(!xui.isEmpty(k)){s.setCustomAttr(k)}delete u.CA}if(!xui.isEmpty(u)){xui.filter(u,function(v,p){return(p in g)||(p in u)});if(!xui.isEmpty(u)){q=xui.isSet(q)?q:xui.isSet(u.caption)?u.caption:null;j=xui.isSet(j)?j:xui.isSet(u.value)?u.value:null;delete u.caption;delete u.value;if(!xui.isEmpty(u)){s.setProperties(u)}}}}else{j=u}if(xui.isDefined(j)&&xui.isFun(s.resetValue)){s.resetValue(j);c.__returnArray=xui.isArr(j)}if(xui.isDefined(q)&&xui.isFun(s.setCaption)){xui.tryF(s.setCaption,[q,true],s)}}}});return r}},Static:{$nameTag:"databinder_",_pool:{},_objectProp:{tagVar:1,propBinder:1,data:1},destroyAll:function(){this.pack(xui.toArr(this._pool,false),false).destroy();this._pool={}},getFromName:function(c){var d=this._pool[c];return d&&d.boxing()},_beforeSerialized:function(d){var f={};xui.merge(f,d,"all");var e=f.properties=xui.clone(d.properties,true);for(var c in d.box._objectProp){if((c in e)&&e[c]&&(xui.isHash(e[c])||xui.isArr(e[c]))&&xui.isEmpty(e[c])){delete e[c]}}return f},_getBoundElems:function(d){var c=[];xui.arr.each(d._n,function(e){if(e.behavior.PanelKeys){xui.absValue.pack(e.boxing().getChildren(null,true)).each(function(f){c.push(f)})}else{if(e.box["xui.absValue"]){c.push(e)}}});return xui.arr.removeDuplicate(c)},_bind:function(c,d){if(!c){return}var e=this._pool[c];if(!e){b=new xui.DataBinder();b.setName(c);e=b.get(0)}if(d){if(xui.arr.indexOf(e._n,d)==-1){d.link(e._n,"databinder."+c)}}},_unBind:function(c,d){if(d&&d.box&&this._pool[c]){d.unLink("databinder."+c)}},DataModel:{dataBinder:null,dataField:null,name:{set:function(m){var e=this,p=e.properties.name,j=e.box,d=j._pool,h=d[p],n=d[m],k;d[e.properties.name=m]=e;if(h&&!n&&e._n.length){for(var g=0,f=e._n.length;g<f;g++){xui.set(e._n[g],["properties","dataBinder"],m)}}if(n&&!h){e._n=n._n}if(h){delete d[p]}}},data:{ini:{}}},EventHandlers:{beforeInputAlert:function(e,c,d){},beforeUpdateDataToUI:function(d,c){},afterUpdateDataFromUI:function(d,c){}}}});Class("xui.Event",null,{Constructor:function(z,v,c,B){var p=xui.Event,l=window,D=document,F=0,u,n,k=xui.DragDrop,g,s,m;if(!(z=z||l.event)||!(g=v)){g=v=null;return false}v=null;var e=z.type,G=z.$xuievent,q=z.$xuitype,x=z.$xuiall;if(e=="xuitouchdown"){e="mousedown";G=1;x=0;q="beforeMousedown"}if("mouseover"==e||"mouseout"==e){F=(k&&k._profile.isWorking)?1:2;if(F!=1&&c){g=null;return p.$FALSE}if(!p._handleMouseHover(z,g,F==1)){g=null;return p.$FALSE}if(F==1){s=k&&k._dropElement}}else{if((m=p._tabHookStack).length&&p._kb[e]&&(z.$key||z.keyCode||z.charCode)==9&&false===p._handleTabHook(p.getSrc(z),m=m[m.length-1])){g=null;return}}u=B||p.getId(g);if(m=p._getProfile(u)){if(e=="DOMMouseScroll"){e="mousewheel"}if(e=="mousedown"||e=="mousewheel"){xui.tryF(xui.Dom._blurTrigger,[m,z])}else{if(e=="resize"){e="size";if(xui.browser.ie&&l===g){var l=xui.browser.contentBox&&D.documentElement.clientWidth||D.body.clientWidth,A=xui.browser.contentBox&&D.documentElement.clientHeight||D.body.clientHeight;if(m._w==l&&m._h==A){g=null;return}else{m._w=l;m._h=A}}}}var y,C,H,o=true,E=[];for(y=0;y<=2;++y){if(F==1&&y!==0&&!z.$force){break}if(F==2&&y===0){continue}H=p._type[e+y]||(p._type[e+y]=p._getEventName(e,y));if(!G||x||(H===q)){m._getEV(E,u,H,g.$xid)}}C=function(f,d){for(var j=0,h;h=arguments.callee.tasks[j++];){if(false===h(m,f,d)){return false}}return true};C.tasks=E;o=C(z,g.$xid);if(l===g&&e=="size"){xui.asyRun(function(){C(z,g.$xid);C.tasks.length=0;delete C.tasks;C=g=null},150)}if(k){if(e=="drag"){k._onDrag=C}else{if(e=="dragover"){k._onDragover=C}}}else{if(e!=="size"){C.tasks.length=0;delete C.tasks;C=null}}if(F==1){if("mouseover"==e&&k._dropElement==g.$xid&&s&&s!=g.$xid){n=xui.use(s).get(0);p({type:"mouseout",target:n,$xui:true,$xuitype:"beforeMouseout",preventDefault:function(d){xui.Event.stopDefault(d)},stopPropagation:function(d){xui.Event.stopBubble(d)}},n);k.setDropElement(g.$xid)}if("mouseout"==e&&!k._dropElement&&s&&s==g.$xid){p._preDroppable=u;xui.asyRun(function(){delete xui.Event._preDroppable})}if(g.$xid==k._dropElement){o=false}}if(o===false){p.stopBubble(z)}return o}},Static:{$FALSE:xui.browser.opr?undefined:false,_type:{},_kb:{keydown:1,keypress:1,keyup:1},_reg:/(-[\w]+)|([\w]+$)/g,$eventhandler:function(){return xui.Event(arguments[0],this)},$eventhandler2:function(){return xui.Event(arguments[0],this,1)},$eventhandler3:function(){return xui.Event(arguments[0],xui.Event.getSrc(arguments[0]||window.event))},$lastMouseupTime:0,$dblcInterval:500,$lastClickFunMark:0,_events:("mouseover,mouseout,mousedown,mouseup,mousemove,mousewheel,click,dblclick,contextmenu,keydown,keypress,keyup,scroll,blur,focus,load,unload,beforeunload,abort,change,select,submit,reset,error,move,size,dragbegin,drag,dragstop,dragleave,dragenter,dragover,drop,touchstart,touchmove,touchend,touchcancel,mspointerdown,mspointermove,mspointerup,mspointercancel,pointerdown,pointermove,pointerup,pointercancel").split(","),simulateEvent:function(e,d,c,f){c=c||{};if(e[0]){e=e[0]}xui.tryF(xui.Event.$eventsforSimulation[f||d],[e,d,c])},_getEventName:function(c,d){return(c=this._map1[c])&&((d===0||d==1||d==2)?c[d]:c)},_getProfile:function(e,d,c){return e&&(typeof e=="string")&&((d=(c=xui.$cache.profileMap)[e])?d["xui.UIProfile"]?d:(c=c[e.replace(this._reg,"")])?c:d:c[e.replace(this._reg,"")])},_handleTabHook:function(g,f){if(g===document){return true}var e=g,d,c=e.tabIndex;do{if(xui.getId(e)==f[0]){e=g=null;return true}}while(e&&(e=e.parentNode)&&e!==document&&e!==window);d=xui.tryF(f[1],[f[0],c],g);e=g=null;return false},_handleMouseHover:function(c,g,k){if(g==document){g=null;return true}var e=(c.type=="mouseover"?c.fromElement:c.toElement)||c.relatedTarget;if(k&&c.type=="mouseover"&&this._preDroppable){try{do{if(e&&e.id&&e.id==this._preDroppable){g=e=null;return true}}while(e&&(e=e.parentNode)&&e!==document&&e!==window)}catch(j){}}if(xui.browser.gek){try{do{if(e==g){g=e=null;return false}}while(e&&(e=e.parentNode))}catch(j){var h=this.getPos(c),e=xui([g]),d=e.offset(),l=e.cssSize(),f=(h.left<d.left||h.left>d.left+l.width||h.top<d.top||h.top>d.top+l.height);g=e=null;return c.type=="mouseover"?!f:f}}else{do{if(e==g){g=e=null;return false}}while(e&&(e=e.parentNode))}g=e=null;return true},_tabHookStack:[],pushTabOutTrigger:function(d,c){this._tabHookStack.push([xui(d)._nodes[0],c]);return this},popTabOutTrigger:function(c){if(c){this._tabHookStack=[]}else{this._tabHookStack.pop()}return this},getSrc:function(d){var c;return((c=d.target||d.srcElement||null)&&xui.browser.kde&&c.nodeType==3)?c.parentNode:c},getId:function(c){return window===c?"!window":document===c?"!document":c.id},getBtn:function(c){return xui.browser.ie?c.button==4?"middle":c.button==2?"right":"left":c.which==2?"middle":c.which==3?"right":"left"},getPos:function(h){h=h||window.event;if(xui.browser.isTouch&&h.changedTouches&&h.changedTouches[0]){h=h.changedTouches[0]}if("pageX" in h){return{left:h.pageX,top:h.pageY}}else{var k=document,j=k.documentElement,c=k.body,f,e=(xui.isSet(f=j&&j.scrollLeft)?f:xui.isSet(f=c&&c.scrollLeft)?f:0)-(xui.isSet(f=j.clientLeft)?f:0),g=(xui.isSet(f=j&&j.scrollTop)?f:xui.isSet(f=c&&c.scrollTop)?f:0)-(xui.isSet(f=j.clientTop)?f:0);return{left:h.clientX+e,top:h.clientY+g}}},getKey:function(c){c=c||window.event;var h=[],n,e=c.$key||c.keyCode||c.charCode||0;if(typeof e=="string"){h[0]=e}else{var m=String.fromCharCode(e),j=c.type;if((j=="keypress"&&e>=33&&e<=128)||((e>=48&&e<=57)||(e>=65&&e<=90))){h[0]=m}else{if(!(n=arguments.callee.map)){n=arguments.callee.map={};var e,g=("3,enter,8,backspace,9,tab,12,numlock,13,enter,19,pause,20,capslock,27,esc,32, ,33,pageup,34,pagedown,35,end,36,home,37,left,38,up,39,right,40,down,44,printscreen,45,insert,46,delete,50,down,52,left,54,right,56,up,91,win,92,win,93,apps,96,0,97,1,98,2,99,3,100,4,101,5,102,6,103,7,104,8,105,9,106,*,107,+,109,-,110,.,111,/,112,f1,113,f2,114,f3,115,f4,116,f5,117,f6,118,f7,119,f8,120,f9,121,f10,122,f11,123,f12,144,numlock,145,scroll,186,;,187,=,189,-,190,.,191,/,192,`,219,[,220,\\,221,],222,',224,meta,63289,numlock,63276,pageup,63277,pagedown,63275,end,63273,home,63234,left,63232,up,63235,right,63233,down,63272,delete,63302,insert,63236,f1,63237,f2,63238,f3,63239,f4,63240,f5,63241,f6,63242,f7,63243,f8,63244,f9,63245,f10,63246,f11,63247,f12,63248,print").split(",");for(var f=1,d=g.length;f<d;f=f+2){n[g[f-1]]=g[f]}g.length=0;n[188]=","}h[0]=n[e]||m}}if((c.modifiers)?(c.modifiers&Event.CONTROL_MASK):(c.ctrlKey||c.ctrlLeft||e==17||e==57391)){if(e==17||e==57391){h[0]=""}h.push("1")}else{h.push("")}if((c.modifiers)?(c.modifiers&Event.SHIFT_MASK):(c.shiftKey||c.shiftLeft||e==16||e==57390)){if(e==16||e==57390){h[0]=""}h.push("1")}else{h.push("")}if((c.modifiers)?false:(c.altKey||c.altLeft||e==18||e==57388)){if(e==18||e==57388){h[0]=""}h.push("1")}else{h.push("")}h[0]=h[0];h.key=h[0];h.keyCode=e;h.type=j;h.ctrlKey=!!h[1];h.shiftKey=!!h[2];h.altKey=!!h[3];if(j=="keypress"){if(this.$keydownchar&&this.$keydownchar.length>1){h.key=this.$keydownchar}}else{if(j=="keydown"){if(h[0].length>1){this.$keydownchar=h[0]}else{if(this.$keydownchar){this.$keydownchar=null}}}else{if(j=="keyup"){if(this.$keydownchar){this.$keydownchar=null}}}}return h},getEventPara:function(j,c){if(!c){c=xui.Event.getPos(j)}var g=this.getKey(j),e=this.getBtn(j),f={button:e,pageX:c&&c.left,pageY:c&&c.top,key:g.key,keyCode:g.keyCode,ctrlKey:g.ctrlKey,shiftKey:g.shiftKey,altKey:g.altKey};for(var d in j){if(d.charAt(0)=="$"){f[d]=j[d]}}return f},stopBubble:function(c){c=c||window.event;if(c.stopPropagation){c.stopPropagation()}if("cancelBubble" in c){c.cancelBubble=true}this.stopDefault(c)},stopDefault:function(c){c=c||window.event;if(c.preventDefault){c.preventDefault()}else{if("returnValue" in c){c.returnValue=false}}},_kbh:function(d,o,c,g,j,n,m,p,f){if(o){var e,l,h=(o||"").toLowerCase()+":"+(c?"1":"")+":"+(g?"1":"")+":"+(j?"1":"");d[h]=d[h]||[];if(typeof n=="function"){e=xui.rand();d[h][e]=[n,m,p,f];d[h].push(e);return e}else{if(typeof n=="string"){l=xui.arr.indexOf(d[h],d[h][n]);if(l!=-1){xui.arr.removeFrom(d[h],l)}delete d[h][n]}else{delete d[h]}}}return this},keyboardHook:function(f,j,d,k,c,e,g,h){return this._kbh(xui.$cache.hookKey,f,j,d,k,c,e,g,h)},keyboardHookUp:function(f,j,d,k,c,e,g,h){return this._kbh(xui.$cache.hookKeyUp,f,j,d,k,c,e,g,h)},getWheelDelta:function(c){return c.wheelDelta?c.wheelDelta/120:-c.detail/3},$TAGNAMES:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},_supportCache:{},isSupported:function(d,g){var f=this,j=f._supportCache,h=(g?g.tagName.toLowerCase():"div")+":"+d;if(h in j){return j[h]}g=g||document.createElement(f.$TAGNAMES[d]||"div");d="on"+d;var e=(d in g);if(!e){if(!g.setAttribute){g=document.createElement("div")}if(g.setAttribute){g.setAttribute(d,"");e=typeof g[d]=="function";if(typeof g[d]!="undefined"){g[d]=undefined}g.removeAttribute(d)}}g=null;return j[h]=e},_simulateMousedown:function(c){if(!c.touches){return true}var d=xui.Event,e=c.changedTouches,f=e[0];if(c.touches.length>1){return true}d.__simulatedMousedownNode=f.target;if(!d.isSupported("mousedown")){d.simulateEvent(f.target,"mousedown",{screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY})}else{d._xuitouchdowntime=xui.setTimeout(function(){d._xuitouchdowntime=0;d.simulateEvent(f.target,"xuitouchdown",{screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY},"mousedown")},100)}return true},_simulateMouseup:function(e){if(!e.touches){return true}var f=xui.Event,d=(new Date).getTime(),c=d-f.$lastMouseupTime,g=e.changedTouches,h=g[0];if(f._xuitouchdowntime){xui.clearTimeout(f._xuitouchdowntime)}f.__simulatedMouseupNode=h.target;if(!f.isSupported("mouseup")){f.simulateEvent(h.target,"mouseup",{screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY})}if(f.__simulatedMouseupNode===f.__simulatedMousedownNode){if(!f.isSupported("click")){f.simulateEvent(h.target,"click",{screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY})}if(c<=f.$dblcInterval){xui.asyRun(function(){f.$lastMouseupTime=0;f.simulateEvent(h.target,"dblclick",{screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY})})}}f.__simulatedMouseupNode=f.__simulatedMousedownNode=null;f.$lastMouseupTime=d;return true},stopPageTouchmove:function(){document.addEventListener((xui.browser.ie&&xui.browser.ver>=11)?"pointermove":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerMove":"touchmove",function(c){c.preventDefault()})}},Initialize:function(){var n=this,o=window,l=document,p={move:null,size:null,drag:null,dragstop:null,dragover:null,mousewheel:null,dragbegin:"onmousedown",dragenter:"onmouseover",dragleave:"onmouseout",drop:"onmouseup"},e=["before","on","after"],j,h,q;j=n._map1={};xui.arr.each(n._events,function(d){q=xui.str.initial(d);j[d]=[e[0]+q,e[1]+q,e[2]+q]});j=n._eventMap={};h=n._eventHandler={};xui.arr.each(n._events,function(d){q=xui.str.initial(d);j[d]=j[e[1]+d]=j[e[0]+q]=j[e[1]+q]=j[e[2]+q]=d;h[d]=h[e[1]+d]=h[e[0]+q]=h[e[1]+q]=h[e[2]+q]=(d in p)?p[d]:("on"+d)});o.onresize=n.$eventhandler;if(o.addEventListener){o.addEventListener("DOMMouseScroll",n.$eventhandler3,false)}if(xui.browser.isTouch){if(l.addEventListener){l.addEventListener((xui.browser.ie&&xui.browser.ver>=11)?"pointerdown":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerDown":"touchstart",n._simulateMousedown,false);l.addEventListener((xui.browser.ie&&xui.browser.ver>=11)?"pointerup":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerUp":"touchend",n._simulateMouseup,false);l.addEventListener("xuitouchdown",n.$eventhandler,false)}else{if(l.attachEvent){l.attachEvent((xui.browser.ie&&xui.browser.ver>=11)?"pointerdown":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerDown":"touchstart",n._simulateMousedown);l.attachEvent((xui.browser.ie&&xui.browser.ver>=11)?"pointerup":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerUp":"touchend",n._simulateMouseup);l.attachEvent("xuitouchdown",n.$eventhandler)}}}l.onmousewheel=o.onmousewheel=n.$eventhandler3;var k=function(w,B,F){switch(B){case"textevent":B="keypress";break;case"keyup":case"keydown":case"keypress":break}xui.merge(F,{bubbles:true,cancelable:true,view:o,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,keyCode:0,charCode:0},"without");var v=F.bubbles,s=F.cancelable,C=F.view,r=F.ctrlKey,d=F.altKey,A=F.shiftKey,y=F.metaKey,E=F.keyCode,D=F.charCode;var z=null;if(l.createEvent){try{z=l.createEvent("KeyEvents");z.initKeyEvent(B,v,s,C,r,d,A,y,E,D)}catch(x){try{z=l.createEvent("Events")}catch(u){z=l.createEvent("UIEvents")}finally{z.initEvent(B,v,s);z.view=C;z.altKey=d;z.ctrlKey=r;z.shiftKey=A;z.metaKey=y;z.keyCode=E;z.charCode=D}}w.dispatchEvent(z)}else{if(l.createEventObject){z=l.createEventObject();z.bubbles=v;z.cancelable=s;z.view=C;z.ctrlKey=r;z.altKey=d;z.shiftKey=A;z.metaKey=y;z.keyCode=(D>0)?D:E;w.fireEvent("on"+B,z)}else{throw B+" cant be simulated in "+navigator.userAgent}}},c=function(G,x,w){w=w||{};xui.merge(w,{bubbles:true,cancelable:true,view:o,detail:1,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,screenX:0,screenY:0,clientX:0,clientY:0,button:0,relatedTarget:null},"without");var z=w.bubbles,H=w.cancelable,B=w.view,F=w.detail,u=w.ctrlKey,s=w.altKey,C=w.shiftKey,v=w.metaKey,d=w.screenX,I=w.screenY,E=w.clientX,D=w.clientY,r=w.button,y=w.relatedTarget;var A=null;if(l.createEvent){A=l.createEvent("MouseEvents");if(A.initMouseEvent){A.initMouseEvent(x,z,H,B,F,d,I,E,D,u,s,C,v,r,y)}else{A=l.createEvent("UIEvents");A.initEvent(x,z,H);A.view=B;A.detail=F;A.screenX=d;A.screenY=I;A.clientX=E;A.clientY=D;A.ctrlKey=u;A.altKey=s;A.metaKey=v;A.shiftKey=C;A.button=r;A.relatedTarget=y}if(y&&!A.relatedTarget){if(x==="mouseout"){A.toElement=y}else{if(x==="mouseover"){A.fromElement=y}}}G.dispatchEvent(A)}else{if(l.createEventObject){A=l.createEventObject();A.bubbles=z;A.cancelable=H;A.view=B;A.detail=F;A.screenX=d;A.screenY=I;A.clientX=E;A.clientY=D;A.ctrlKey=u;A.altKey=s;A.metaKey=v;A.shiftKey=C;switch(r){case 0:A.button=1;break;case 1:A.button=4;break;case 2:break;default:A.button=0}A.relatedTarget=y;G.fireEvent("on"+x,A)}else{throw x+" cant be simulated in "+navigator.userAgent}}},g=function(y,x,u){xui.merge(u,{bubbles:true,cancelable:(x==="submit"),view:o,detail:1},"without");var s=u.bubbles,r=u.cancelable,d=u.view,w=u.detail;var v=null;if(l.createEvent){v=l.createEvent("UIEvents");v.initUIEvent(x,s,r,d,w);y.dispatchEvent(v)}else{if(l.createEventObject){v=l.createEventObject();v.bubbles=s;v.cancelable=r;v.view=d;v.detail=w;y.fireEvent("on"+x,v)}else{throw x+" cant be simulated in "+navigator.userAgent}}},m=function(x,B,E){xui.merge(E,{bubbles:true,cancelable:true,detail:2,view:o,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,scale:1,rotation:0},"without");var v=E.bubbles,s=E.cancelable,w=E.detail,C=E.view,r=E.ctrlKey,d=E.altKey,A=E.shiftKey,y=E.metaKey,u=E.scale,D=E.rotation;var z;z=l.createEvent("GestureEvent");z.initGestureEvent(B,v,s,C,w,screenX,screenY,clientX,clientY,r,d,A,y,x,u,D);x.dispatchEvent(z)},f=function(I,x,v){if(x==="touchstart"||x==="touchmove"){if(!v.touches||!v.touches.length){throw"No touch object in touches."}}else{if(x==="touchend"){if(!v.changedTouches||!v.changedTouches.length){throw"No touch object in changedTouches."}}}xui.merge(v,{bubbles:true,cancelable:(x!=="touchcancel"),detail:1,view:o,ctrlKey:false,altKey:false,shiftKey:false,metaKey:false,screenX:0,screenY:0,clientX:0,clientY:0,scale:1,rotation:0},"without");var y=v.bubbles,K=v.cancelable,H=v.detail,A=v.view,J=v.scale,F=v.rotation,B=v.touches,G=v.targetTouches,w=v.changedTouches,s=v.ctrlKey,r=v.altKey,C=v.shiftKey,u=v.metaKey,d=v.screenX,L=v.screenY,E=v.clientX,D=v.clientY,K=x=="touchcancel"?false:v.cancelable;var z;if(l.createEvent){if(xui.browser.isAndroid){if(xui.browser.ver<4){z=l.createEvent("MouseEvents");z.initMouseEvent(x,y,K,A,H,d,L,E,D,s,r,C,u,0,I);z.touches=B;z.targetTouches=G;z.changedTouches=w}else{z=l.createEvent("TouchEvent");z.initTouchEvent(B,G,w,x,A,d,L,E,D,s,r,C,u)}}else{if(xui.browser.isIOS){if(xui.browser.ver>=2){z=l.createEvent("TouchEvent");z.initTouchEvent(x,y,K,A,H,d,L,E,D,s,r,C,u,B,G,w,J,F)}else{throw x+" cant be simulated in "+navigator.userAgent}}else{throw x+" cant be simulated in "+navigator.userAgent}}I.dispatchEvent(z)}else{throw x+" cant be simulated in "+navigator.userAgent}};n.$eventsforSimulation={click:c,dblclick:c,mouseover:c,mouseout:c,mouseenter:c,mouseleave:c,mousedown:c,mouseup:c,mousemove:c,pointerover:c,pointerout:c,pointerdown:c,pointerup:c,pointermove:c,MSPointerOver:c,MSPointerOut:c,MSPointerDown:c,MSPointerUp:c,MSPointerMove:c,keydown:k,keyup:k,keypress:k,submit:g,blur:g,change:g,focus:g,resize:g,scroll:g,select:g,touchstart:f,touchmove:f,touchend:f,touchcancel:f,gesturestart:m,gesturechange:m,gestureend:m}}});Class("xui.CSS",null,{Static:{_r:xui.browser.ie?"rules":"cssRules",_baseid:"xui:css:base",_firstid:"xui:css:first",_lastid:"xui:css:last",_reg1:/\.(\w+)\[CLASS~="\1"\]/g,_reg2:/\[ID"([^"]+)"\]/g,_reg3:/\*([.#])/g,_reg4:/\s+/g,_reg5:/\*\|/g,_reg6:/(\s*,\s*)/g,_rep:function(d){var c=this;return d.replace(c._reg1,".$1").replace(c._reg2,"#$1").replace(c._reg3,"$1").replace(c._reg4," ").replace(c._reg5,"").replace(c._reg6,",").toLowerCase()},_appendSS:function(e,d,j,g,c){var f=document.createElement("style");f.type="text/css";if(j){f.id=j}if(xui.browser.ie&&f.styleSheet&&"cssText" in f.styleSheet){f.styleSheet.cssText=d||""}else{try{f.appendChild(document.createTextNode(d||""))}catch(h){f.styleSheet.cssText=d||""}}if(c){xui(f).attr(c)}if(g){xui(e).prepend(f)}else{xui(e).append(f)}return f},_createCss:function(e,h,n){var l=this,m=this._getHead(),g=l._firstid,j=l._lastid,f,k;f=document.createElement("style");f.type="text/css";f.id=e;if(h){if(xui.browser.ie&&f.styleSheet&&"cssText" in f.styleSheet){f.styleSheet.cssText=h||""}else{try{f.appendChild(document.createTextNode(h||""))}catch(d){f.styleSheet.cssText=h||""}}}if(!n){k=document.getElementById(g)||m.firstChild;while((k=k.nextSibling)&&!/^(script|link|style)$/i.test(""+k.tagName)){}if(k){m.insertBefore(f,k)}else{if(k=document.getElementById(j)){m.insertBefore(f,k)}else{m.appendChild(f)}}}else{m.appendChild(f)}return f},_getCss:function(e,c,d){return document.getElementById(e)||this._createCss(e,c,d)},_getBase:function(){return this._getCss(this._baseid)},_getFirst:function(){return this._getCss(this._firstid)},_getLast:function(){return this._getCss(this._lastid,null,true)},_getHead:function(){return this._head||(this._head=document.getElementsByTagName("head")[0]||document.documentElement)},_check:function(){if(!xui.browser.ie){return}var g=0;for(var f=this._getHead(),e=0,d=f.childNodes,c;c=d[e++];){if(c.type=="text/css"){g++}}return g>20},get:function(h,g){for(var f=this._getHead(),e=0,d=f.childNodes,c;c=d[e++];){if(c.type=="text/css"&&h in c&&c[h]==g){return c}}},addStyleSheet:function(c,l,d){var j,g=this,f=g._getHead(),h=function(m,r,n){var q=document.createElement("style");q.type="text/css";if(r){q.id=r}if(xui.browser.ie&&q.styleSheet&&"cssText" in q.styleSheet){q.styleSheet.cssText=m||""}else{try{q.appendChild(document.createTextNode(m||""))}catch(o){q.styleSheet.cssText=m||""}}if(n===-1){if(f.firstChild){f.insertBefore(q,f.firstChild)}else{f.appendChild(q)}}else{if(n===1){f.appendChild(q)}else{f.insertBefore(q,n?g._getLast():g._getBase())}}q.disabled=true;q.disabled=false;return q},k=function(m,n){var o=n?g._getLast():g._getBase();o.styleSheet.cssText+=m;return o};if(l&&(l=l.replace(/[^\w\-\_\.\:]/g,"_"))&&(j=g.get("id",l))){return j}if(g._check()){return k(c,d)}else{return h(c,l,d)}},includeLink:function(d,k,h,c){var j,g=this,f=g._getHead();if(d&&(j=g.get("href",d))){}else{j=document.createElement("link");j.type="text/css";j.rel="stylesheet";j.href=d;if(k){j.id=k}j.media="all";xui.each(c,function(l,e){j.setAttribute(e,l)})}f.insertBefore(j,h?g._getBase():g._getLast());j.disabled=true;j.disabled=false;return j},remove:function(e,d){var c=this._getHead();if(d=this.get(e,d)){d.disabled=true;c.removeChild(d)}},replaceLink:function(c,m,h,d){var j=this,k=j._getHead(),g={},f,l;g[m]=d;f=j.includeLink(c,null,false,g);if(l=j.get(m,h)){k.replaceChild(f,l)}f.disabled=true;f.disabled=false},_build:function(c,f,d){var e="";xui.each(f,function(h,g){e+=g.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+h+";"});return d?e:c+"{"+e+"}"},setStyleRules:function(g,o,d){var n=this,s=true,f=document.styleSheets,m,j,c,q,k,l,r,p;g=xui.str.trim(g.replace(/\s+/g," "));if(!(o&&d)){q=g.toLowerCase();xui.arr.each(xui.toArr(f),function(u){try{u[n._r]}catch(h){return}xui.arr.each(xui.toArr(u[n._r]),function(e,w){if(!e.selectorText){return}if(e.disabled){return}c=n._rep(e.selectorText);p=c.split(",");if(!o){s=false;if(xui.arr.indexOf(p,q)!=-1&&p.length>1){p=xui.arr.removeFrom(p,xui.arr.indexOf(p,q)).join(",");r=e.cssText.slice(e.cssText.indexOf("{")+1,e.cssText.lastIndexOf("}"));if(u.insertRule){u.insertRule(p+"{"+r+"}",u[n._r].length)}else{if(u.addRule){u.addRule(p,r||"{}")}}if(u.deleteRule){u.deleteRule(w)}else{u.removeRule(w)}u.disabled=true;u.disabled=false}else{if(c==q){if(u.deleteRule){u.deleteRule(w)}else{u.removeRule(w)}u.disabled=true;u.disabled=false}}}else{if(c==q){m=e;return false}if(xui.arr.indexOf(p,q)!=-1){j=e;return false}}},null,true);if(m){s=false;try{xui.each(o,function(v,e){e=e.replace(/(-[a-z])/gi,function(w,x){return x.charAt(1).toUpperCase()});m.style[e]=typeof v=="function"?v(m.style[e]):v})}catch(h){}u.disabled=true;u.disabled=false;return false}else{if(j){s=false;u.insertRule(n._build(g,o),u[n._r].length);u.disabled=true;u.disabled=false;return false}}},null,true)}if(d||s){n._addRules(g,o)}return n},$getCSSValue:function(q,p,x,d){var z=this,r=z._r,w,g=document.styleSheets,n=g.length,h,f,A,u,s,c;q=xui.str.trim(q.replace(/\s+/g," ").toLowerCase());for(u=n-1;u>=0;u--){try{f=g[u][r]}catch(y){continue}if(!g[u].disabled){f=g[u][r];if(f){h=f.length;for(s=h-1;s>=0;s--){if((A=f[s]).selectorText&&!A.disabled){c=z._rep(A.selectorText);if(xui.arr.indexOf(c.split(/\s*,\s*/g),q)!=-1){if(!p){(w=w||[]).push(A)}else{if(!x){if(!d||(d==g[u].ownerNode||g[u].owningElement)){if(A.style[p]!==""){return(A.style[p]||"").replace(/^\"|\"$/g,"")}}}else{if(x===A.style[p]){return g[u].ownerNode||g[u].owningElement}}}}}}}}}return w},_addRules:function(c,e){var d=this,f=d._getLast(),g=f.sheet||f.styleSheet;if(g.insertRule){g.insertRule(d._build(c,e),g[d._r].length)}else{if(g.addRule){g.addRule(c,d._build(c,e,true)||"{}")}}f.disabled=true;f.disabled=false;return d},resetCSS:function(){var c=xui.browser,d="html{color:#444;background:#FFF;}body,div,dl,dt,dd,ul,ol,li,h1,h2,h3,h4,h5,h6,pre,code,form,fieldset,legend,input,textarea,p,blockquote,th,td{margin:0;padding:0;}table{border-collapse:collapse;border-spacing:0;}fieldset,img{border:0;}address,caption,cite,code,dfn,em,strong,th,ar{font-style:normal;font-weight:normal;}li{list-style:none;}caption,th{text-align:left;}h1,h2,h3,h4,h5,h6{font-size:100%;font-weight:normal;}q:before,q:after{content:'';}abbr,acronym{border:0;font-variant:normal;}sup{vertical-align:text-top;}sub{vertical-align:text-bottom;}input,textarea,select{font-family:inherit;font-size:inherit;font-weight:inherit;}input,textarea,select{*font-size:100%;}::-ms-clear,::-ms-reveal{display: none;width:0;height:0;}button::-moz-focus-inner, input::-moz-focus-inner { border: 0; padding: 0;}"+(c.isWebKit?"input,textarea,select{-webkit-user-select: auto;}":"")+"legend{color:#000;}span{outline-offset:-1px;"+(c.gek?c.ver<3?((c.ver<3?"-moz-outline-offset:-1px !important;":"")+"display:-moz-inline-block;display:-moz-inline-box;display:inline-block;"):"display:inline-block;":c.ie6?"display:inline-box;display:inline;":"display:inline-block;")+(c.ie?"zoom:1;":"")+"}";this.addStyleSheet(d,"xui.CSSreset")},adjustFont:function(){this._dftRemStr="";this._getDftEmSize(true);if(xui.UI){xui.UI.getAll().reLayout(true)}},_dftRemStr:"",_dftRem:0,_getDftRemSize:function(d){var c=this;if(d||!c._dftRem){c._dftRem=parseFloat(xui("html").css("font-size"))||16}return c._dftRem},$resetRem:function(){delete xui.CSS._dftRem},$isRem:function(c){return(!c||c=="auto")?xui.SpaceUnit=="rem":/^-?((\d\d*\.\d*)|(^\d\d*)|(^\.\d\d*))rem$/i.test(xui.str.trim(c+""))},$isPx:function(c){return(!c||c=="auto")?xui.SpaceUnit!="rem":/^-?((\d\d*\.\d*)|(^\d\d*)|(^\.\d\d*))px$/i.test(xui.str.trim(c+""))},$rem2px:function(d,c){d=(!d||d=="auto")?d:(xui.isFinite(d)||this.$isRem(d))?(parseFloat(d)||0)*this._getDftRemSize():d;return c?Math.round(parseFloat(d)||0):d},$px2rem:function(d,c){return(!d||d=="auto")?d:(xui.isFinite(d)||this.$isPx(d))?(c?Math.round(parseFloat(d)||0):(parseFloat(d)||0))/this._getDftRemSize():d},$px:function(d,c){d=((!xui.isFinite(d)&&this.$isRem(d))?this.$rem2px(d):(!d||d=="auto")?d:(parseFloat(d)||0));return c?Math.round(parseFloat(d)||0):d},$rem:function(d,c){return((xui.isFinite(d)||this.$isPx(d))?this.$px2rem(d,c):(!d||d=="auto")?d:(parseFloat(d)||0))},$addpx:function(d,c){if(d=="auto"){return d}if(this.$isRem(d)){return this.$px2rem(Math.round(this.$rem2px(d)+parseFloat(c)))+"rem"}else{return Math.round(parseFloat(d)+parseFloat(c))+"px"}},$forceu:function(c,d,e){return(!c||c=="auto")?c:(d?d=="rem":xui.SpaceUnit=="rem")?this.$rem(c,e!==false)+"rem":Math.round(this.$px(c))+"px"},$picku:function(c){return c&&c!="auto"&&(c+"").replace(/[-\d\s.]*/g,"")||(xui.SpaceUnit=="rem"?"rem":"px")},$addu:function(c){return c=="auto"?c:(xui.isFinite(c)||this.$isPx(c))?Math.round(parseFloat(c))+"px":c+""}},Initialize:function(){var c=xui.browser,d=".xui-node{margin:0;padding:0;line-height:1.22em;-webkit-text-size-adjust:none;}.xui-node-highlight{color:#000;}.xui-title-node{}.xuifont-hover, .xuicon-hover{ color: #686868; }.xuifont-active, .xuicon-active{ color: #3393D2; }.xuifont-checked, .xuicon-checked{ color: #3393D2; }.xui-wrapper{color:#000;font-family:arial,helvetica,clean,sans-serif;font-style:normal;font-weight:normal;vertical-align:middle;}.xui-cover{cursor:wait;background:url("+xui.ini.img_bg+") transparent repeat;opacity:1;}.xui-node-table{border-collapse:collapse;border-spacing:0;empty-cells:show;font-size:inherit;"+(c.ie?"font:100%;":"")+"}.xui-node-fieldset,.xui-node-img{border:0;}.xui-node-ol,.xui-node-ul,.xui-node-li{list-style:none;}.xui-node-caption,.xui-node-th{text-align:left;}.xui-node-th{font-weight:normal;}.xui-node-q:before,.xui-node-q:after{content:'';}.xui-node-abbr,.xui-node-acronym{border:0;font-variant:normal;}.xui-node-sup{vertical-align:text-top;}.xui-node-sub{vertical-align:text-bottom;}.xui-node-input,.xui-node-textarea,.xui-node-select{cursor:text;font-family:inherit;font-size:inherit;font-weight:inherit;"+(c.ie?"font-size:100%;":"")+"}.xui-node-del,.xui-node-ins{text-decoration:none;}.xui-node-pre,.xui-node-code,.xui-node-kbd,.xui-node-samp,.xui-node-tt{font-family:monospace;"+(c.ie?"font-size:108%;":"")+"line-height:100%;}.xui-node-select,.xui-node-input,.xui-node-textarea{font-family:arial,helvetica,clean,sans-serif;border-width:1px;}"+((c.ie&&c.ver<=8)?".xui-node-input{overflow:hidden;}":"")+".xui-node-a, .xui-node-a .xui-node{cursor:pointer;color:#0000ee;text-decoration:none;}.xui-node-a:hover, .xui-node-a:hover .xui-node{color:red}"+(c.gek?(".xui-node-a:focus{outline-offset:-1px;"+(c.ver<3?"-moz-outline-offset:-1px !important":"")+"}"):"")+".xui-node-span, .xui-node-div{border:0;}"+((c.ie&&c.ver<=8)?"":".xui-node-span:not(.xui-showfocus):focus, .xui-node-div:not(.xui-showfocus):focus{outline:0;}.xui-showfocus:focus{outline-width: 1px;outline-style: dashed;}")+".xui-node-span, .xui-wrapper span"+((c.ie&&c.ver<=7)?"":", .xui-v-wrapper:before, .xui-v-wrapper > .xui-v-node")+"{outline-offset:-1px;"+(c.gek?c.ver<3?((c.ver<3?"-moz-outline-offset:-1px !important;":"")+"display:-moz-inline-block;display:-moz-inline-box;display:inline-block;"):"display:inline-block;":c.ie6?"display:inline-box;display:inline;":"display:inline-block;")+(c.ie?"zoom:1;":"")+"}.xui-node-h1,.xui-node-h2,.xui-node-h3,.xui-node-h4,.xui-node-h5,.xui-node-h6{font-size:100%;font-weight:normal;}.xui-node-h1{font-size:138.5%;}.xui-node-h2{font-size:123.1%;}.xui-node-h3{font-size:108%;}.xui-node-h1,.xui-node-h2,.xui-node-h3{margin:.75rem 0;}.xui-node-h1,.xui-node-h2,.xui-node-h3,.xui-node-h4,.xui-node-h5,.xui-node-h6,.xui-node-strong{font-weight:bold;}.xui-node-em{font-style:italic;}.xui-node-legend{color:#000;}"+(c.ie6?("#"+xui.$localeDomId+"{vertical-align:baseline;}"):"")+".xui-nofocus:focus{outline:0;}.xui-cls-wordwrap{white-space: pre-wrap;word-break: break-all;"+(c.gek?"white-space: -moz-pre-wrap;":"")+(c.opr?"white-space: -pre-wrap;":"")+(c.opr?"white-space: -o-pre-wrap;":"")+(c.ie?"word-wrap: break-word;":"")+"}"+((c.ie&&c.ver<=8)?"":(".xui-v-wrapper:before{content:'';height:100%;font-size:0;vertical-align:middle;}.xui-v-wrapper > .xui-v-node{vertical-align:middle;}.xui-v-top > .xui-v-wrapper:before{vertical-align:top;}.xui-v-top > .xui-v-wrapper > .xui-v-node{vertical-align:top;}.xui-v-bottom > .xui-v-wrapper:before{vertical-align:bottom;}.xui-v-bottom > .xui-v-wrapper > .xui-v-node{vertical-align:bottom;}"))+".xui-node-tips{background-color:#FDF8D2;}.xuifont, .xuicon{font-size:16px;line-height:16px; font-size:1rem;line-height:1rem;}.xuicon{margin: 0  .1875rem;"+(c.ie6||c.ie7?"height:1em;width:1em;":"")+"}";this.addStyleSheet(d,"xui.CSS")}});Class("xui.DomProfile","xui.absProfile",{Constructor:function(d){var c=arguments.callee.upper;if(c){c.call(this)}c=null;xui.$cache.profileMap[this.domId=d]=this},Instance:{__gc:function(){delete xui.$cache.profileMap[this.domId]},_getEV:function(d,h,e){var g=xui.$cache.profileMap[h];if(g&&(g=g.events)&&(g=g[e])){for(var f=0,c=g.length;f<c;f++){if(typeof g[g[f]]=="function"){d[d.length]=g[g[f]]}}}}},Static:{get:function(c){return xui.$cache.profileMap[c]},$abstract:true}});Class("xui.Dom","xui.absBox",{Instance:{get:function(f){var e=xui.$cache.domPurgeData,h=this._nodes,j;if(xui.isNumb(f)){return(j=h[f])&&(j=e[j])&&j.element}else{var d=[],c=h.length;for(var g=0;g<c;g++){d[d.length]=(j=e[h[g]])&&j.element}return d}},each:function(d,k){var h=this,e=xui.$cache.domPurgeData,m,g,f=h._nodes,c=f.length;if(k){for(g=c;g>=0;g--){if((m=e[f[g]])&&(m=m.element)){if(false===d.call(h,m,g)){break}}}}else{for(g=0;g<c;g++){if((m=e[f[g]])&&(m=m.element)){if(false===d.call(h,m,g)){break}}}}m=null;return h},serialize:function(){var c=[];this.each(function(d){c[c.length]=d.id});return"xui(['"+c.join("','")+"'])"},xid:function(){return xui.getId(this.get(0))},id:function(f,g){var e,d,c=xui.$cache.profileMap;if(typeof f=="string"){return this.each(function(h){if((d=h.id)!==f){if(!g&&(e=c[d])){c[f]=e;delete c[d]}h.id=f}})}else{return this.get(0)&&this.get(0).id}},$sum:function(d,e){var c=[],g,f;this.each(function(h){g=d.apply(h,e||[]);if(g){if(xui.isArr(g)){for(f=0;h=g[f];f++){c[c.length]=h}}else{c[c.length]=g}}});return xui(c)},children:function(){return this.$sum(function(){return xui.toArr(this.childNodes)})},clone:function(c){return this.$sum(function(){var h=this.cloneNode(c?true:false),e=h.getElementsByTagName("*"),g=xui.browser.ie&&xui.browser.ver<9,d=0,f;if(g){h.removeAttribute("$xid")}else{delete h.$xid}for(;f=e[d];d++){if(g){f.removeAttribute("$xid")}else{delete f.$xid}}return h},arguments)},$iterator:function(e,d,g,c,f){return this.$sum(function(q,k,u,r,s){var w=arguments.callee;if(typeof r!="function"){var l=r||0;r=function(x,m){return m==l}}var o=0,j,h=this,p=0,v;while(h){if(h.nodeType==1){if(r(h,o++)===true){break}}if(q=="x"){h=k?h.nextSibling:h.previousSibling}else{if(q=="y"){h=k?w.call(k===1?h.lastChild:h.firstChild,"x",(k!==1),true,0,s):h.parentNode}else{u=xui.isBool(u)?u:true;j=null;h=k?(v=u&&h.firstChild)?v:(v=h.nextSibling)?v:(j=h.parentNode):(v=u&&h.lastChild)?v:(v=h.previousSibling)?v:(j=h.parentNode);if(j){while(!(j=k?h.nextSibling:h.previousSibling)){h=h.parentNode;if(!h){if(p){return null}else{p=true;j=k?document.body.firstChild:document.body.lastChild;break}}}h=j}u=true}}}return h},arguments)},query:function(d,n,m){d=d||"*";var k="getElementsByTagName",l=arguments.callee,j=l.f1||(l.f1=function(q,p,u){var s=this[k](q),f=[];if(u.test(this[p])){f[f.length]=this}for(var v,r=0;v=s[r];r++){if(u.test(v[p])){f[f.length]=v}}return f}),h=l.f2||(l.f2=function(q,p,u){var s=this[k](q),f=[];if(this[p]==u){f[f.length]=this}for(var v,r=0;v=s[r];r++){if(v[p]==u){f[f.length]=v}}return f}),g=l.f3||(l.f3=function(q,p,u){var s=this[k](q),f=[];if(this[p]){f[f.length]=this}for(var v,r=0;v=s[r];r++){if(v[p]){f[f.length]=v}}return f}),e=l.f4||(l.f4=function(f){return xui.toArr(this[k](f))}),c=l.f5||(l.f5=function(q,p){var s=this[k](q),f=[];if(p(this)){f[f.length]=this}for(var u,r=0;u=s[r];r++){if(p(u)){f[f.length]=u}}return f});return this.$sum(n?typeof n=="function"?c:m?xui.isReg(m)?j:h:g:e,[d,n,m])},querySelector:function(c){return this.$sum(function(){return this.querySelector(c)})},querySelectorAll:function(c){return this.$sum(function(){return xui.toArr(this.querySelectorAll(c))})},$add:function(r,n,k){if(xui.isHash(n)||xui.isStr(n)){n=xui.create(n)}if(k){k=xui(n);n=this}else{n=xui(n);k=this}if(n._nodes.length){var m=k.get(0),s=n.get(),g=xui.Dom,c=xui.$cache.profileMap,q,w,d,h,e,f,u,w,l=[];n.each(function(j){w=(d=j.id)&&(d=c[d])&&d.LayoutTrigger&&(m===xui("body").get(0)||g.getStyle(m,"display")!="none")&&d.LayoutTrigger;if(w){l.push([w,d])}});if(s.length==1){q=s[0]}else{q=document.createDocumentFragment();for(h=0;e=s[h];h++){q.appendChild(e)}}r.call(m,q);for(h=0;e=l[h];h++){for(f=0;u=e[0][f];f++){u.call(e[1])}if(e[1].onLayout){e[1].boxing().onLayout(e[1])}}l.length=0;m=e=q=null}return this},prepend:function(c,d){return this.$add(function(e){if(this.previousSibling!=e){if(this.firstChild){this.insertBefore(e,this.firstChild)}else{this.appendChild(e)}}},c,d)},append:function(d,e,c){return this.$add(function(f){if(c||this!=f.parentNode){this.appendChild(f)}},d,e)},addPrev:function(c,d){return this.$add(function(e){if(this.firstChild!=e){this.parentNode.insertBefore(e,this)}},c,d)},addNext:function(c,d){return this.$add(function(e){if(this.nextSibling!=e){if(this.nextSibling){this.parentNode.insertBefore(e,this.nextSibling)}else{this.parentNode.appendChild(e)}}},c,d)},replace:function(j,h){if(xui.isHash(j)||xui.isStr(j)){j=xui.create(j)}j=xui(j);var e,f,k=this.get(0),g=j.get(),d=g.length;if(d>0&&(e=g[d-1])){k.parentNode.replaceChild(e,k);for(f=0;f<d-1;f++){e.parentNode.insertBefore(g[f],e)}if(h){this.remove()}}k=e=null;return j},swap:function(e){var c=this,d=xui.Dom.getEmptyDiv().html("*",false);if(xui.isHash(e)||xui.isStr(e)){e=xui.create(e)}e=xui(e);c.replace(d,false);e.replace(c,false);d.replace(e,false);d.get(0).innerHTML="";document.body.insertBefore(d.get(0),document.body.firstChild);return c},remove:function(e,d,j){if(e===false){this.each(function(f,c){if(f.raphael&&f.remove){f.remove()}else{if(f.parentNode){f.parentNode.removeChild(f)}}})}else{var h=xui.$getGhostDiv();this.each(function(c){h.appendChild(c)});var g=function(){xui.$purgeChildren(h);h.innerHTML="";if(j){xui.tryF(j);j=null}h=null};if(d){g()}else{xui.asyRun(g)}}return this},empty:function(c){return this.each(function(d){xui([d]).html("",c)})},html:function(u,e,p,h,w){var y="",x,k=this.get(0);e=e!==false;if(u!==undefined){if(k){if(k.nodeType==3){k.nodeValue=u}else{if(!k.firstChild&&u===""){return this}if(e){var v=xui.$getGhostDiv();xui(k).children().each(function(c){v.appendChild(c)});var q=function(){xui.$purgeChildren(v);v.innerHTML="";if(w){xui.tryF(w);w=null}v=null};if(h){q()}else{xui.asyRun(q)}}var n;if(p){var m=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,l=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,j=/\ssrc=([\'\"])(.*?)\1/i,g,r,d;n=[];while((g=m.exec(u))){r=g[1];d=r?r.match(j):false;if(d&&d[2]){n.push([1,d[2]])}else{if(g[2]&&g[2].length>0){n.push([2,g[2]])}}}u=u.replace(l,"")}k.innerHTML=u;if(n&&n.length>0){xui.arr.each(n,function(c){if(c[0]==1){xui.include(null,c[1])}else{xui.exec(c[1])}})}}k=null}return this}else{if(k){y=(k.nodeType==3)?k.nodeValue:k.innerHTML;k=null}return y}},loadHtml:function(e,c,d){var f=this;if(typeof e=="string"){e={url:e}}xui.tryF(c);xui.Ajax(e.url,e.query,function(g){var h=xui.create("div");h.html(g,false,true);f.append(h.children());xui.tryF(d)},function(g){f.append("<div>"+g+"</div>");xui.tryF(d)},null,e.options).start()},loadIframe:function(c,g){if(typeof c=="string"){c={url:c}}var j=g||("aiframe_"+xui.stamp()),d;if(d=xui.Dom.byId(g)){xui(d).remove()}var f=xui.browser.ie&&xui.browser.ver<9,h=document.createElement(f?"<iframe name='"+j+"'>":"iframe");h.id=h.name=j;h.src=c.url;h.frameBorder="0";h.marginWidth="0";h.marginHeight="0";h.vspace="0";h.hspace="0";h.allowTransparency="true";h.width="100%";h.height="100%";this.append(h);xui.Dom.submit(c.url,c.query,c.method,h.name,c.enctype)},outerHTML:function(h,c){var k=this,j,l="",e=k.get(0),d=e.id;if(h!==undefined){var f=k.replace(xui.str.toDom(h),false);k._nodes[0]=f._nodes[0];xui([e]).remove(c);return k}else{if(xui.browser.gek){var g=xui.$getGhostDiv();g.appendChild(k.get(0).cloneNode(true));l=g.innerHTML;g.innerHTML="";g=null}else{l=e.outerHTML}e=null;return l}},text:function(e){if(e!==undefined){var d=this,c=[];d.each(function(g){var f=g.firstChild;if(f&&f.nodeType!=1){f.nodeValue=e}else{c[c.length]=g}});if(c.length){xui(c).empty().each(function(f){f.appendChild(document.createTextNode(e))})}return d}else{return(function(f){if(!f){return""}return f.textContent||f.innerText})(this.get(0))}},attr:function(d,l){var n=this,k=arguments.callee,h=k.map1||(k.map1={"class":"className",readonly:"readOnly",tabindex:"tabIndex","for":"htmlFor",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",value:"value"}),g=k.map2||(k.map2={href:1,src:1,style:1});if(typeof d=="object"){for(var f in d){k.call(n,f,d[f])}return n}var m=xui.browser.ie&&d=="style",j=!g[d=h[d]||d];if(l!==undefined){return n.each(function(q){if(l===null){if(m){q.style.cssText=""}else{if(j){try{q[d]=null;if(q.nodeType==1){q.removeAttribute(d)}}catch(p){}}}}else{l=d=="style"?(l+"").replace(/[;]+/g,";").replace(/^;/,""):l;if(m){q.style.cssText=""+l}else{if(j){q[d]=l;if(q.nodeType==1&&d!="value"&&typeof l=="string"){q.setAttribute(d,l)}}else{q.setAttribute(d,l)}}}})}else{var c,e=n.get(0);if(m){return e.style.cssText}if(d=="selected"&&xui.browser.kde){return e.parentNode.selectedIndex}c=((d in e)&&j)?e[d]:e.getAttribute(d,xui.browser.ie&&!j?2:undefined);e=null;return d=="style"?c.replace(/[;]+/g,";").replace(/^;/,""):c}},$touchscroll:function(g){if(xui.browser.isTouch&&(xui.browser.isAndroid||xui.browser.isBB)){var h={x:1,y:1,xy:1},c=0,j=0,f=null,d=null,e=this._nodes;if(!h[g]){g=null}xui(e).onTouchstart(h[g]?function(n,m,o){if(xui.DragDrop._profile.isWorking){return true}if(m.touches.length>1){return true}var l=m.touches[0],k=xui(o).get(0);if(k){if(g=="xy"||g=="x"){c=l.pageX}if(g=="xy"||g=="y"){j=l.pageY}}return true}:null);xui(e).onTouchmove(h[g]?function(q,o,u){if(xui.DragDrop._profile.isWorking){return true}if(o.touches.length>1){return true}var n=o.touches[0],l=xui(u).get(0),k,m,r;if(l){k=l.scrollLeft;m=l.scrollTop;if(g=="xy"||g=="x"){if(f===null){r=1;f=l.scrollLeft+n.pageX+(c==n.pageX?0:c>n.pageX?1:-1)*10}l.scrollLeft=f-n.pageX}if(g=="xy"||g=="y"){if(d===null){r=1;d=l.scrollTop+n.pageY+(j==n.pageY?0:j>n.pageY?1:-1)*10}l.scrollTop=d-n.pageY}return(!r)&&k==l.scrollLeft&&m==l.scrollTop}}:null);xui(e).onTouchend(h[g]?function(l,k,m){if(xui.DragDrop._profile.isWorking){return true}if(k.touches.length>1){return true}f=d=null}:null)}return this},isScrollBarShowed:function(c){c=c=="x"?"scrollLeft":"scrollTop";if(this[c]()!==0){return true}this[c](1);if(this[c]()===0){return false}this[c](0);return true},scrollIntoView:function(){if(this.get(0)){this.get(0).scrollIntoView()}return this},css:function(c,e,d){if(typeof c=="object"||e!==undefined){this.each(function(f){xui.Dom.setStyle(f,c,e)});if(xui.browser.isTouch&&(xui.browser.isAndroid||xui.browser.isBB)){if(c=="overflow"||c=="overflow-x"||c=="overflow-y"){if(e=="auto"||e=="scroll"){this.$touchscroll(c=="overflow"?"xy":c=="overflow-x"?"x":"y")}else{this.$touchscroll(null)}}}return this}else{return xui.Dom.getStyle(this.get(0),c,d)}},rotate:function(d){if(xui.isSet(d)){d=parseFloat(d)||0;d=d%360;if(d<0){d=d+360}return this.each(function(j){if(j.raphael&&j.id){var h=xui.Event._getProfile(j.id);if((h=h&&h.parent&&h.parent._paper)&&(j=h.getById(j.raphaelid))){j.transform("r"+d)}}else{d+="deg";var g=j.style.transform||"";if(/rotate\([^)]*\)/i.test(g)){g=g.replace(/(rotate\()([^)]+)/i,"$1"+d)}else{g+=" rotate("+d+")"}xui.Dom.setStyle(j,"transform",g)}})}else{var f=this.get(0);if(f.raphael&&f.id){var e=xui.Event._getProfile(f.id);if((e=e&&e.parent&&e.parent._paper)&&(f=e.getById(f.raphaelid))){f=f.transform();if(xui.isArr(f)){if(!f.length){f=""}else{f=f.join()}}else{if(!f){f=""}else{f=Raphael.parseTransformString(f).join()}}var c=/r,([-\d.]+)/i.exec(f);d=c?parseFloat(c[1]||0):0;d=d%360;if(d<0){d=d+360}return d}return 0}else{var c=/rotate\(([-\d.]+)/i.exec(f.style.transform);return c?parseFloat(c[1]||0):0}}},scaleX:function(d){if(xui.isSet(d)){return this.each(function(k){if(k.raphael&&k.id){d=parseFloat(d);var j=xui.Event._getProfile(k.id),h;if((j=j&&j.parent&&j.parent._paper)&&(k=j.getById(k.raphaelid))){h=xui.clone(Raphael.parseTransformString(k.transform()),true);if(h&&h[0]&&h[0][0]=="s"){h[0][1]=d}else{h=h||[];h.unshift(["s",d,1])}k.transform(h)}}else{var g=k.style.transform||"";if(/(scale\()([^,]+),([^)]+)/i.test(g)){g=g.replace(/(scale\()([^,]+),([^)]+)/i,"$1"+d+",$3")}else{if(/scale\([-\d.]*\)/i.test(g)){g=g.replace(/scale\([-\d.]*\)/i,"scale("+d+",1)")}else{g+=" scale("+d+",1)"}}xui.Dom.setStyle(k,"transform",g)}})}else{var f=this.get(0);if(f.raphael&&f.id){d=1;var e=xui.Event._getProfile(f.id);if((e=e&&e.parent&&e.parent._paper)&&(f=e.getById(f.raphaelid))){xui.arr.each(Raphael.parseTransformString(f.transform()),function(g){if(g[0]=="s"){d*=g[1]}})}return d}else{var c=/(scale\()([^,]+),([^)]+)/i.exec(this.get(0).style.transform);if(c){return parseFloat(c[2]||1)}else{c=/scale\(([-\d.]*)\)/i.exec(this.get(0).style.transform);return c?c[1]:1}}}},scaleY:function(d){if(xui.isSet(d)){return this.each(function(k){if(k.raphael&&k.id){d=parseFloat(d);var j=xui.Event._getProfile(k.id),h;if((j=j&&j.parent&&j.parent._paper)&&(k=j.getById(k.raphaelid))){h=xui.clone(Raphael.parseTransformString(k.transform()),true);if(h&&h[0]&&h[0][0]=="s"){h[0][2]=d}else{h=h||[];h.unshift(["s",1,d])}k.transform(h)}}else{var g=k.style.transform||"";if(/(scale\()([^,]+),([^)]+)/i.test(g)){g=g.replace(/(scale\()([^,]+),([^)]+)/i,"$1$2,"+d)}else{if(/scale\([-\d.]*\)/i.test(g)){g=g.replace(/scale\([-\d.]*\)/i,"scale(1,"+d+")")}else{g+=" scale(1,"+d+")"}}xui.Dom.setStyle(k,"transform",g)}})}else{var f=this.get(0);if(f.raphael&&f.id){d=1;var e=xui.Event._getProfile(f.id);if((e=e&&e.parent&&e.parent._paper)&&(f=e.getById(f.raphaelid))){xui.arr.each(Raphael.parseTransformString(f.transform()),function(g){if(g[0]=="s"){d*=g[2]}})}return d}else{var c=/(scale\()([^,]+),([^)]+)/i.exec(this.get(0).style.transform);if(c){return parseFloat(c[3]||1)}else{c=/scale\(([-\d.]*)\)/i.exec(this.get(0).style.transform);return c?c[1]:1}}}},translateX:function(d){if(xui.isSet(d)){return this.each(function(k){if(k.raphael&&k.id){d=parseFloat(d);var j=xui.Event._getProfile(k.id),h;if((j=j&&j.parent&&j.parent._paper)&&(k=j.getById(k.raphaelid))){h=xui.clone(Raphael.parseTransformString(k.transform()),true);if(h&&h.length&&h[h.length-1]&&(h[h.length-1][0]=="t")){h[h.length-1][1]=d}else{h=h||[];h.push(["t",d,0])}k.transform(h)}}else{d=xui.CSS.$addu(d);var g=k.style.transform||"";if(/translate\([^)]*\)/i.test(g)){g=g.replace(/(translate\()([^,]+),([^)]+)/i,"$1"+d+",$3")}else{g+=" translate("+d+",0)"}xui.Dom.setStyle(k,"transform",g)}})}else{var f=this.get(0);if(f.raphael&&f.id){d=0;var e=xui.Event._getProfile(f.id);if((e=e&&e.parent&&e.parent._paper)&&(f=e.getById(f.raphaelid))){xui.arr.each(Raphael.parseTransformString(f.transform()),function(g){if(g[0]=="t"){d+=g[1]}})}return d}else{var c=/(translate\()([^,]+),([^)]+)/i.exec(this.get(0).style.transform);return c?(c[2]||"").replace(/\s/g,""):""}}},translateY:function(d){if(xui.isSet(d)){return this.each(function(j){if(j.raphael&&j.id){d=parseFloat(d);var h=xui.Event._getProfile(j.id);if((h=h&&h.parent&&h.parent._paper)&&(j=h.getById(j.raphaelid))){t=xui.clone(Raphael.parseTransformString(j.transform()),true);if(t&&t.length&&t[t.length-1]&&(t[t.length-1][0]=="t")){t[t.length-1][2]=d}else{t=t||[];t.push(["t",0,d])}j.transform(t)}}else{d=xui.CSS.$addu(d);var g=j.style.transform||"";if(/translate\([^)]*\)/i.test(g)){g=g.replace(/(translate\()([^,]+),([^)]+)/i,"$1$2,"+d)}else{g+=" translate(0,"+d+")"}xui.Dom.setStyle(j,"transform",g)}})}else{var f=this.get(0);if(f.raphael&&f.id){d=0;var e=xui.Event._getProfile(f.id);if((e=e&&e.parent&&e.parent._paper)&&(f=e.getById(f.raphaelid))){xui.arr.each(Raphael.parseTransformString(f.transform()),function(g){if(g[0]=="t"){d+=g[2]}})}return d}else{var c=/(translate\()([^,]+),([^)]+)/i.exec(this.get(0).style.transform);return c?(c[3]||"").replace(/\s/g,""):""}}},skewX:function(d){if(xui.isSet(d)){if(xui.isFinite(d)){d+="deg"}return this.each(function(f){var e=f.style.transform||"";if(/skew\([^)]*\)/i.test(e)){e=e.replace(/(skew\()([^,]+),([^)]+)/i,"$1"+d+",$3")}else{e+=" skew("+d+",0deg)"}xui.Dom.setStyle(f,"transform",e)})}else{var c=/(skew\()([^,]+),([^)]+)/i.exec(this.get(0).style.transform);return c?parseFloat(c[2]||0):0}},skewY:function(d){if(xui.isSet(d)){if(xui.isFinite(d)){d+="deg"}return this.each(function(f){var e=f.style.transform||"";if(/skew\([^)]*\)/i.test(e)){e=e.replace(/(skew\()([^,]+),([^)]+)/i,"$1$2,"+d)}else{e+=" skew(0deg,"+d+")"}xui.Dom.setStyle(f,"transform",e)})}else{var c=/(skew\()([^,]+),([^)]+)/i.exec(this.get(0).style.transform);return c?parseFloat(c[3]||0):0}},caret:function(g,n){var w=this.get(0),y=w.nodeName.toLowerCase(),s=typeof g,f=xui.browser.ie,u;if(!/^(input|textarea)$/i.test(y)){return}if(y=="input"&&w.type.toLowerCase()!="text"&&w.type.toLowerCase()!="password"){return}w.focus();if(s=="number"){if(f){var c=w.createTextRange();c.collapse(true);c.moveEnd("character",n);c.moveStart("character",g);c.select()}else{w.focus();w.setSelectionRange(g,n)}return this}else{if(s=="string"){var c=this.caret(),k=0,j=0,q,x=w.value,h=/\r/g;if(f){k=x.substr(0,c[0]).match(h);k=(k&&k.length)||0;j=g.match(h);j=(j&&j.length)||0}if(xui.browser.opr){k=g.match(/\n/g);k=(k&&k.length)||0;j=g.match(/\r\n/g);j=(j&&j.length)||0;j=k-j;k=0}w.value=x.substr(0,c[0])+g+x.substr(c[1],x.length);q=c[0]-k+j+g.length;this.caret(q,q);return q}else{if(f&&document.selection){var c=document.selection.createRange(),o=c.text,k=o.length,p,j;if(y.toLowerCase()=="input"){c.moveStart("character",-w.value.length);p=c.text.length;return[p-k,p]}else{var d=c.duplicate();d.moveToElementText(w);d.setEndPoint("EndToEnd",c);p=d.text.length;return[p-k,p]}}else{return[w.selectionStart,w.selectionEnd]}}}},show:function(d,f,j,l,e){var c,k,h=xui.Dom.HIDE_VALUE,g;return this.each(function(n){if(n.nodeType!=1){return}var m=xui.getNodeData(n,"_inthread");if(m){xui.Thread(m).abort();xui.setNodeData(n,"_inthread")}c=n.style;g=xui.getNodeData(n);if(g._xuihide){if("_left" in g){if(c.left!=(k=g._left)){c.left=k}}if("_top" in g){if(c.top!=(k=g._top)){c.top=k}}if("_position" in g){if(c.position!=(k=g._position)){c.position=k}}if(c.visibility!="visible"){c.visibility="visible"}g._xuihide=0}if(xui.isSet(d)){c.left=d}if(xui.isSet(f)){c.top=f}l=e?null:l?l:xui.get(xui.UIProfile.getFromDom(n),["properties","showEffects"]);if(l){l=xui.Dom._getEffects(l,1)}if(l){xui.Dom._vAnimate(n,l,j)}else{if(j){j()}}})},hide:function(g,f,c){var d,e;return this.each(function(k){if(k.nodeType!=1){return}var j=xui.getNodeData(k,"_inthread");if(j){xui.Thread(j).abort();xui.setNodeData(k,"_inthread")}d=k.style;e=xui.getNodeData(k);var h=function(){if(e._xuihide!==1){e._position=d.position;e._visibility=d.visibility;e._top=d.top;e._left=d.left;e._xuihide=1}if(d.position!="absolute"){d.position="absolute"}d.visibility="hidden";d.top=d.left=xui.Dom.HIDE_VALUE;if(g){g()}};f=c?null:f?f:xui.get(xui.UIProfile.getFromDom(k),["properties","hideEffects"]);if(f){f=xui.Dom._getEffects(f,0)}if(f){xui.Dom._vAnimate(k,f,h)}else{h()}})},cssRegion:function(q,r){var v=this;if(typeof q=="object"){var l,u,e,d=v.get(0),k=xui.Dom,n=k._setUnitStyle,e={};for(var h=0,o=k._boxArr;l=o[h++];){e[l]=((l in q)&&q[l]!==null)?n(d,l,q[l]):false}if(r){var n=k.$hasEventHandler;if(n(d,"onsize")&&(e.width||e.height)){v.onSize(true,{width:e.width,height:e.height})}if(n(d,"onmove")&&(e.left||e.top)){v.onMove(true,{left:e.left,top:e.top})}}return v}else{var g=q,s=r,p=g?v.offset(null,s):v.cssPos(),w=v.cssSize();return{left:p.left,top:p.top,width:w.width,height:w.height}}},cssSize:function(n,j){var m=this,d=m.get(0),c,e=xui.Dom,g=e._setUnitStyle,k,h;if(n){var l;k=n.width!==null?g(d,"width",n.width):false;h=n.height!==null?g(d,"height",n.height):false;if(j&&(k||h)&&e.$hasEventHandler(d,"onsize")){m.onSize(true,{width:k,height:h})}c=m}else{c={width:m._W(d,1)||0,height:m._H(d,1)}}return c},cssPos:function(j,l){var d=this.get(0),e=xui.Dom,g=xui.CSS,h=e._setUnitStyle,m,k,c;if(j){var n;m=j.left!=null?h(d,"left",j.left):false;k=j.top!==null?h(d,"top",j.top):false;if(l&&(m||k)&&e.$hasEventHandler(d,"onmove")){this.onMove(true,{left:m,top:k})}c=this}else{h=e.getStyle;c={left:g.$px(h(d,"left")),top:g.$px(h(d,"top"))}}d=null;return c},offset:function(h,s){var n,l,y=xui.browser,C=this,p=C.get(0),v=p,k=p.parentNode,j=p.offsetParent,B=p.ownerDocument,x=B.documentElement,z=B.body,e=/^inline|table.*$/i,g=xui.Dom.getStyle,f=g(p,"position")=="fixed",A=arguments.callee,m=A.add||(A.add=function(D,d,r){D.left+=parseFloat(d)||0;D.top+=parseFloat(r)||0}),q=A.border||(A.border=function(d,r){m(r,g(d,"borderLeftWidth"),g(d,"borderTopWidth"))}),o=A.TTAG||(A.TTAG={TABLE:1,TD:1,TH:1}),u=A.HTAG||(A.HTAG={BODY:1,HTML:1}),c=A.posDiff||(A.posDiff=function(E,D){var r=E.cssPos(),d=E.offset(null,D);return{left:d.left-r.left,top:d.top-r.top}});s=s?xui(s).get(0):B;if(h){if(h.left===null&&h.top===null){return C}var w=c(C,s);C.cssPos({left:h.left===null?null:(h.left-w.left),top:h.top===null?null:(h.top-w.top)});n=C}else{if(!(xui.browser.gek&&p===document.body)&&p.getBoundingClientRect){l=p.getBoundingClientRect();h={left:l.left,top:l.top};if(s.nodeType==1&&s!==document.body){m(h,-(l=s.getBoundingClientRect()).left+s.scrollLeft,-l.top+s.scrollTop)}else{m(h,(x.scrollLeft||z.scrollLeft||0)-x.clientLeft,(x.scrollTop||z.scrollTop||0)-x.clientTop)}}else{h={left:0,top:0};m(h,p.offsetLeft,p.offsetTop);while(j&&j!=s&&j!=s.offsetParent){m(h,j.offsetLeft,j.offsetTop);if(y.kde||(y.gek&&!o[j.nodeName])){q(j,h)}if(!f&&g(j,"position")=="fixed"){f=true}if(j.nodeName!="BODY"){v=j.nodeName=="BODY"?v:j}j=j.offsetParent}while(k&&k.nodeName&&k!=s&&!u[k.nodeName]){if(!e.test(g(k,"display"))){m(h,-k.scrollLeft,-k.scrollTop)}if(y.gek&&g(k,"overflow")!="visible"){q(k,h)}k=k.parentNode}if((y.gek&&g(v,"position")!="absolute")){m(h,-z.offsetLeft,-z.offsetTop)}if(f){m(h,x.scrollLeft||z.scrollLeft||0,x.scrollTop||z.scrollTop||0)}}n=h}return n},hasClass:function(f){var g,e,d=xui.isReg(f),c=xui.Dom._getClass(this.get(0)).split(/\s+/);if(d){for(g=0,e=c.length;g<e;g++){if(f.test(c[g])){return true}}}else{return xui.arr.indexOf(c,f+"")!=-1}return false},addClass:function(c){var g,f,e,j=arguments.callee,d=(j.reg||(j.reg=/\s+/)),m,k,h=(c+"").split(d);if(!h.length){return this}return this.each(function(l){k=0;g=xui.Dom._getClass(l).split(d);m=[];for(f=0,e=g.length;f<e;f++){if(g[f]){m.push(g[f])}}for(f=0,e=h.length;f<e;f++){if(h[f]&&xui.arr.indexOf(g,h[f])==-1){k=1;m.push(h[f])}}if(k){xui.Dom._setClass(l,m.join(" "))}})},removeClass:function(c){var h,g,f,d=xui.isReg(c),k=arguments.callee,e=(k.reg||(k.reg=/\s+/)),m,j;if(!d){j=(c+"").split(e);if(!j.length){return this}}return this.each(function(l){m=0;h=xui.Dom._getClass(l).split(e);if(!d){for(g=0,f=j.length;g<f;g++){if(xui.arr.indexOf(h,j[g])!=-1){m=1;xui.arr.removeValue(h,j[g])}}}else{xui.filter(h,function(p,n){if(c.test(p)){m=1;return false}})}if(m){xui.Dom._setClass(l,h.join(" "))}})},replaceClass:function(e,c){var f,d;return this.each(function(g){d=(f=xui.Dom._getClass(g)).replace(e,c);if(f!=d){xui.Dom._setClass(g,d)}})},tagClass:function(c,g){var f=this,j=arguments.callee,e=j["_r1_"+c]||(j["_r1_"+c]=new RegExp("([-\\w]+"+c+"[-\\w]*)")),d=j._r2||(j._r2=/([-\w]+)/g);f.removeClass(e);g=false!==g;var h=g?f.replaceClass(d,"$1 $1"+c):f;if(xui.__iefix2&&(c=="-checked"||c=="-fold"||c=="-expand")){this.each(function(l){var k=xui.Dom._getClass(l).split(/\s+/);if(xui.arr.indexOf(k,"xuifont")!=-1||xui.arr.indexOf(k,"xuicon")!=-1){xui.arr.each(k,function(m){if(xui.__iefix2[m+(g?"":c)]&&xui.__iefix2[g?m.replace(new RegExp(c+"$"),""):m]){xui(l).html(xui.__iefix2[m.replace(new RegExp(c+"$"),"")+(g?c:"")]);return false}})}})}return h},$addEventHandler:function(c){var f=xui.Event,e,d=f.$eventhandler;return this.each(function(g){if(g.nodeType==3){return}xui.setNodeData(g,["eHandlers","on"+f._eventMap[c]],d);if(e=f._eventHandler[c]){g[e]=d;xui.setNodeData(g,["eHandlers",e],d);if(xui.browser.isTouch&&e=="onmousedown"){xui.setNodeData(g,["eHandlers","onxuitouchdown"],d);if(g.addEventListener){g.addEventListener("xuitouchdown",d,false)}else{if(g.attachEvent){g.attachEvent("xuitouchdown",d)}}}}})},$removeEventHandler:function(c){var f=xui.Event,e=f.$eventhandler,d;return this.each(function(g){if(d=f._eventHandler[c]){g[d]=null;if(xui.browser.isTouch&&d=="onmousedown"){if(g.removeEventListener){g.removeEventListener("xuitouchdown",e,false)}else{if(g.detachEvent){g.detachEvent("xuitouchdown",e)}}}}if(g=xui.getNodeData(g,"eHandlers")){d="on"+f._eventMap[c];delete g[d];if(xui.browser.isTouch&&d=="onmousedown"){delete g.onxuitouchdown}}})},$addEvent:function(e,l,n,j){var q=this,d=xui.Event,h=xui.arr.removeValue,o=xui.arr.insertAny,f,k,p,g;if(!j&&j!==0){j=-1}if(typeof n=="string"){n="$"+n}else{n=undefined}q.$addEventHandler(e).each(function(c){if(c.nodeType==3){return}if(!(f=d.getId(c))&&c!==window&&c!==document){f=c.id=xui.Dom._pickDomId()}if(!(k=xui.$cache.profileMap[f])){k=new xui.DomProfile(f)}p=k.events||(k.events={});g=p[e]||(p[e]=[]);if(n===undefined){g.length=0;g=p[e]=[];j=-1;n="_"}g[n]=l;h(g,n);if(j==-1){g[g.length]=n}else{o(g,n,j)}if(xui.Event&&(k=xui.Event._getProfile(f))&&k.clearCache){k.clearCache()}});return q},$removeEvent:function(e,o,g){var q=this,n,p,h,f,l,m,d=xui.Event,j=xui.$cache.profileMap,m=d._eventMap[e];q.each(function(c){if(!(f=d.getId(c))){return}if(!(n=j[f])){return}if(!(p=n.events)){return}if(g){xui.arr.each(d._getEventName(m),function(k){delete p[k]})}else{if(typeof o=="string"){o="$"+o;if(h=p[e]){if(xui.arr.indexOf(h,o)!=-1){xui.arr.removeValue(h,o)}delete h[o]}}else{delete p[e]}}if(xui.Event&&(n=xui.Event._getProfile(f))&&n.clearCache){n.clearCache()}});return q},$getEvent:function(e,d){var g;if(!(g=xui.Event.getId(this.get(0)))){return}if(d){return xui.get(xui.$cache.profileMap,[g,"events",e,"$"+d])}else{var f=[],c=xui.get(xui.$cache.profileMap,[g,"events",e]);xui.arr.each(c,function(j,h){f[f.length]={o:c[j]}});return f}},$clearEvent:function(){return this.each(function(d,c){if(!(c=xui.Event.getId(d))){return}if(!(c=xui.$cache.profileMap[c])){return}xui.breakO(c.events,2);delete c.events;xui.arr.each(xui.Event._events,function(e){if(d["on"+e]){d["on"+e]=null}})})},$fireEvent:function(c,j){var l=xui.Event._eventMap[c],n,o="on"+l,m,g,k=arguments.callee,h=xui.Event.$eventhandler,e=k.f1||(k.f1=function(){this.returnValue=false}),d=k.f2||(k.f2=function(){this.cancelBubble=true});return this.each(function(p){if(!(m=xui.getNodeData(p,["eHandlers",o]))){return}if("blur"==l||"focus"==l){try{p[l]()}catch(f){}}else{g=xui.copy(j);xui.merge(g,{type:l,target:p,button:1,$xuievent:true,$xuitype:c,preventDefault:e,stopPropagation:d},"all");m.call(p,g)}})},nativeEvent:function(c){return this.each(function(f){if(f.nodeType===3||f.nodeType===8){return}try{f[c]()}catch(d){}})},$canFocus:function(){var f=arguments.callee,c=xui.Dom.getStyle,g=f.map||(f.map={a:1,input:1,select:1,textarea:1,button:1,object:1}),d,e;return !!((e=this.get(0))&&e.focus&&(((d=g[e.nodeName.toLowerCase()])&&!(parseInt(e.tabIndex,10)<=-1))||(!d&&parseInt(e.tabIndex,10)>=(xui.browser.ie?1:0)))&&c(e,"display")!="none"&&c(e,"visibility")!="hidden"&&e.offsetWidth>0&&e.offsetHeight>0)},focus:function(d){var c=this;if(d||c.$canFocus()){try{c.get(0).focus()}catch(f){}}return c},setSelectable:function(e){var d=arguments.callee,c;this.removeClass("xui-ui-selectable").removeClass("xui-ui-unselectable");this.addClass(e?"xui-ui-selectable":"xui-ui-unselectable");return this.each(function(f){if(xui.browser.ie&&xui.browser.ver<10){xui.setNodeData(f,"_onxuisel",e?"true":"false")}})},setInlineBlock:function(){var c=this;if(xui.browser.gek){if(xui.browser.ver<3){c.css("display","-moz-inline-block").css("display","-moz-inline-box").css("display","inline-block")}else{c.css("display","inline-block")}}else{if(xui.browser.ie&&xui.browser.ver<=6){c.css("display","inline-block").css({display:"inline",zoom:"1"})}else{c.css("display","inline-block")}}return c},topZindex:function(c){var g=1000,e=0,d,h=this.get(0),l=h.offsetParent,f,m;if(xui.browser.ie&&(!l||(l.nodeName+"").toUpperCase()=="HTML")){l=xui("body").get(0)}if(h.nodeType!=1||!l){return 1}f=l.childNodes;for(d=0;m=f[d];d++){if(m==h||m.nodeType!=1||!m.$xid||m.style.display=="none"||m.style.visibility=="hidden"||m.zIndexIgnore||xui.getNodeData(m,"zIndexIgnore")){continue}e=parseInt(m.style&&m.style.zIndex,10)||0;g=g>e?g:e}g++;if(g>=xui.Dom.TOP_ZINDEX){xui.Dom.TOP_ZINDEX=g+1}if(c){h.style.zIndex=g}else{e=parseInt(h.style.zIndex,10)||0;return g>e?g:e}return this},nextFocus:function(f,e,d,h){f=xui.isBool(f)?f:true;var c=this.get(0),g=this.$iterator("",f,e,function(j){return j!==c&&(!h||(j.id&&h.test(j.id)))&&xui([j]).$canFocus()});if(!g.isEmpty()&&d!==false){g.focus()}c=null;return g},animate:function(v,u,j,c,g,e,k,n,A,l,d){var z=arguments.callee,m=xui.CSS,f=xui.Dom.$AnimateEffects||(xui.Dom.$AnimateEffects={linear:function(B,C){return(1/B)*C},sineIn:function(B,C){return -1*Math.cos(C/B*(Math.PI/2))+1},sineOut:function(B,C){return Math.sin(C/B*(Math.PI/2))},sineInOut:function(B,C){return -1/2*(Math.cos(Math.PI*C/B)-1)},quadIn:function(B,C){return(C/=B)*C},quadOut:function(B,C){return -1*(C/=B)*(C-2)},quadInOut:function(B,C){if((C/=B/2)<1){return 1/2*C*C}return -1/2*((--C)*(C-2)-1)},cubicIn:function(B,C){return(C/=B)*C*C},cubicOut:function(B,C){return((C=C/B-1)*C*C+1)},cubicInOut:function(B,C){if((C/=B/2)<1){return 1/2*C*C*C}return 1/2*((C-=2)*C*C+2)},quartIn:function(B,C){return(C/=B)*C*C*C},quartOut:function(B,C){return -1*((C=C/B-1)*C*C*C-1)},quartInOut:function(B,C){if((C/=B/2)<1){return 1/2*C*C*C*C}return -1/2*((C-=2)*C*C*C-2)},quintIn:function(B,C){return(C/=B)*C*C*C*C},quintOut:function(B,C){return((C=C/B-1)*C*C*C*C+1)},quintInOut:function(B,C){if((C/=B/2)<1){return 1/2*C*C*C*C*C}return 1/2*((C-=2)*C*C*C*C+2)},expoIn:function(B,C){return(C==0)?0:Math.pow(2,10*(C/B-1))},expoOut:function(B,C){return(C==B)?1:(-Math.pow(2,-10*C/B)+1)},expoInOut:function(B,C){if(C==0){return 0}if(C==B){return 1}if((C/=B/2)<1){return 1/2*Math.pow(2,10*(C-1))}return 1/2*(-Math.pow(2,-10*--C)+2)},circIn:function(B,C){return -1*(Math.sqrt(1-(C/=B)*C)-1)},circOut:function(B,C){return Math.sqrt(1-(C=C/B-1)*C)},circInOut:function(B,C){if((C/=B/2)<1){return -1/2*(Math.sqrt(1-C*C)-1)}return 1/2*(Math.sqrt(1-(C-=2)*C)+1)},bounceIn:function(B,C){return 1-f.bounceOut(B,B-C)},bounceOut:function(C,D){var B=7.5625;if((D/=C)<(1/2.75)){return(B*D*D)}else{if(D<(2/2.75)){return(B*(D-=(1.5/2.75))*D+0.75)}else{if(D<(2.5/2.75)){return(B*(D-=(2.25/2.75))*D+0.9375)}else{return(B*(D-=(2.625/2.75))*D+0.984375)}}}},bounceInOut:function(B,C){if(C<B/2){return f.bounceIn(B,C*2)*0.5}else{return f.bounceOut(B,C*2-B)*0.5+1*0.5}},backIn:function(C,D){var B=1.70158;return(D/=C)*D*((B+1)*D-B)},backOut:function(C,D){var B=1.70158;return((D=D/C-1)*D*((B+1)*D+B)+1)},backInOut:function(C,D){var B=1.70158;if((D/=C/2)<1){return 1/2*(D*D*(((B*=(1.525))+1)*D-B))}return 1/2*((D-=2)*D*(((B*=(1.525))+1)*D+B)+2)},elasticIn:function(D,G,E,B,F){if(G==0){return 0}if((G/=D)==1){return 1}if(!F){F=D*0.3}if(!B||B<1){B=1;var C=F/4}else{var C=F/(2*Math.PI)*Math.asin(1/B)}return -(B*Math.pow(2,10*(G-=1))*Math.sin((G*D-C)*(2*Math.PI)/F))},elasticOut:function(D,G,E,B,F){if(G==0){return 0}if((G/=D)==1){return 1}if(!F){F=D*0.3}if(!B||B<1){B=1;var C=F/4}else{var C=F/(2*Math.PI)*Math.asin(1/B)}return(B*Math.pow(2,-10*G)*Math.sin((G*D-C)*(2*Math.PI)/F)+1)},elasticInOut:function(D,G,E,B,F){if(G==0){return 0}if((G/=D/2)==2){return 1}if(!F){F=D*(0.3*1.5)}if(!B||B<1){B=1;var C=F/4}else{var C=F/(2*Math.PI)*Math.asin(1/B)}if(G<1){return -0.5*(B*Math.pow(2,10*(G-=1))*Math.sin((G*D-C)*(2*Math.PI)/F))}return B*Math.pow(2,-10*(G-=1))*Math.sin((G*D-C)*(2*Math.PI)/F)*0.5+1}}),q=z.color||(z.color=function(H,G,C){if(typeof H!="string"||typeof G!="string"){return"#fff"}if(C<0){return H}if(C>1){return G}var D,B,F,E;D=function(I){return(I.charAt(0)!="#")?("#"+I):I};H=D(H);G=D(G);B=function(K,J,I){return parseInt(K.slice(J,I),16)||0};F=function(I){return{red:B(I,1,3),green:B(I,3,5),blue:B(I,5,7)}};H=F(H);G=F(G);E=function(M,L,J,K){var I=M[K]+Math.round(parseFloat(J*(L[K]-M[K])));return(I<16?"0":"")+I.toString(16)};return"#"+E(H,G,C,"red")+E(H,G,C,"green")+E(H,G,C,"blue")});if(!v){if(j){xui.tryF(j)}return}var s=v;v=xui.clone(v);if((g||0)>0){c=g*16}else{c=c||200}l=l||1;e=(e in f)?e:"circIn";var h,p=this.get(0),o=this,y=function(H){var I=xui.stamp()-h,C,D,F,B,E,G;if(I>=c){I=c}xui.each(v,function(K,J){E=K[0];G=K[1];D=K[2];C=f[e](c,I);if(typeof K=="function"){K.call(o,C)}else{if(xui.str.endWith(J.toLowerCase(),"color")){C=q(E,G,C)}else{if(!xui.isFinite(G)){D=G.replace(/[-\d.]*/,"");F=D||"px";if(!xui.isFinite(E)){B=E.replace(/[-\d.]*/,"")||"px";if(B!=F){if(B=="rem"&&F=="px"){E=m.$rem2px(E,p)}else{if(B=="px"&&F=="rem"){E=m.$px2rem(E,p)}}}}}E=parseFloat(E);G=parseFloat(G);C=xui.toFixedNumber(E+(G-E)*C,6)}C+=D||n||"";(o[J])?(o[J](C)):(o.css(J,C))}});if(I==c){if(A&&!d){h=xui.stamp();d=1;xui.each(v,function(K,J){J=K[0];K[0]=K[1];K[1]=J})}else{if(l==-1||l>0){h=xui.stamp();if(l>0){l-=1}if(d){d=0;xui.each(v,function(K,J){J=K[0];K[0]=K[1];K[1]=J})}}}if(!l){xui.Thread(H).abort("normal")}return false}},x=[y];var r=xui.getNodeData(p,"_inthread");if(r&&xui.Thread.isAlive(r)){xui.Thread(r).abort("force");xui.setNodeData(p,"_inthread",null)}var w=xui.getNodeData(p,"_animationreset");if(typeof w=="function"){w();xui.setNodeData(p,"_animationreset",null)}return xui.Thread(k||xui.id(),x,0,null,function(B){xui.setNodeData(p,"_inthread",B);h=xui.stamp();xui.setNodeData(p,"_animationreset",function(){xui.merge(v,s,"all");h=xui.stamp();y()});return xui.tryF(u,arguments,this)},function(C,B){if("force"!=B){xui.tryF(j,arguments,this)}if(p&&p.$xid){xui.setNodeData(p,"_inthread",null);xui.setNodeData(p,"_animationreset",null)}},true)},pop:function(j,f,e,c,g){var d=this,h=xui.stamp()+":"+d.xid();d.popToTop(j,f||"outer",e).setBlurTrigger(h,function(){if(typeof(c)=="function"){xui.tryF(c)}else{d.hide()}});return h},popToTop:function(j,f,k,g,o,v){var e,x=this,n;k=xui(k);if(k.isEmpty()){k=xui("body")}x.css({position:"absolute",left:xui.Dom.HIDE_VALUE,top:xui.Dom.HIDE_VALUE,display:"block",zIndex:xui.Dom.TOP_ZINDEX++});if(j["xui.UI"]||j["xui.UIProfile"]||j["xui.Dom"]||j.nodeType==1||typeof j=="string"){if(typeof(f)!="function"){f=(f||12)+""}var p=xui(j),r=p.offset(null,k);e={left:r.left,top:r.top,width:p.offsetWidth(),height:p.offsetHeight()}}else{if(typeof(f)!="function"){f=f?"3":"0"}n=f=="0"?0:8;e=j.region||{left:j.left-n,top:j.top-n,width:n*2,height:n*2}}j={left:0,top:0};var n=(k.get(0)===document.body||k.get(0)===document||k.get(0)===window)?xui.win:k,l={};x.cssPos(j).css({visibility:"hidden",display:"block"});k.append(x);l.left=n.scrollLeft();l.top=n.scrollTop();l.width=n.width()+l.left;l.height=n.height()+l.top;if(typeof(f)=="function"){j=f(e,l,x,n)}else{var m=x.offsetWidth(),s=x.offsetHeight(),d=f.split(/-/g);if(d.length==2){var c=d[0],u=d[1];switch(u){case"outertop":j.top=e.top-s;break;case"top":j.top=e.top;break;case"middle":j.top=e.top+e.height/2-s/2;break;case"bottom":j.top=e.top+e.height-s;break;default:j.top=e.top+e.height}switch(c){case"outerleft":j.left=e.left-m;break;case"left":j.left=e.left;break;case"center":j.left=e.left+e.width/2-m/2;break;case"right":j.left=e.left+e.width-m;break;default:j.left=e.left+e.width}}else{if(f=="outer"){f="12"}else{if(f=="inner"){f="4"}}var q=function(y){var w,h;switch(y){case"2":w=true;h=false;break;case"3":w=h=false;break;case"4":w=h=true;break;default:w=false;h=true}if(w){if(e.top+s<l.height){j.top=e.top}else{j.top=e.top+e.height-s}}else{if(e.top+e.height+s<l.height){j.top=e.top+e.height}else{j.top=e.top-s}}if(h){if(e.left+m<l.width){j.left=e.left}else{j.left=e.left+e.width-m}}else{if(e.left+e.width+m<l.width){j.left=e.left+e.width}else{j.left=e.left-m}}if(j.left+m>l.width){j.left=l.width-m}if(j.left<l.left){j.left=l.left}if(j.top+s>l.height){j.top=l.height-s}if(j.top<l.top){j.top=l.top}};if(f=="12"){q("1");if(j.top<e.top+e.height&&j.top+s>e.top){q("2")}}else{if(f=="21"){q("2");if(j.left<e.left+e.width&&j.left+m>e.left){q("1")}}else{q(f)}}}}x.cssPos(j).css({visibility:"visible"});o=v?null:o?o:xui.get(xui.UIProfile.getFromDom(x),["properties","showEffects"]);if(o){o=xui.Dom._getEffects(o,1)}if(o){xui.Dom._vAnimate(x,o,g)}else{if(g){g()}}return this},hoverPop:function(d,g,f,m,j,e,l,h){d=xui(d);if(l){l=xui.Dom._getEffects(l,1)}if(h){h=xui.Dom._getEffects(h,0)}if(!xui.isDefined(g)){g="outer"}var c=e||(this.xid()+":"+d.xid()),k=this;this.onMouseover(g===null?null:function(n,o,p){if(o.$force){return}xui.resetRun(c,null);var q=xui.getData([c,"$ui.hover.pop"])&&xui.getNodeData(d.get(0)||"empty","$ui.hover.parent")==p;if(!q){xui.setData([c,"$ui.hover.pop"],1);xui.setNodeData(d.get(0)||"empty","$ui.hover.parent",p);if(!f||false!==f(n,d,o,p)){d.popToTop(p,g,j,l);d.onMouseover(function(){k.onMouseover(true)},"hoverPop").onMouseout(function(){k.onMouseout(true)},"hoverPop")}}},c).onMouseout(g===null?null:function(n,o,p){if(o.$force){return}xui.resetRun(c,function(){xui.setData([c,"$ui.hover.pop"]);xui.setNodeData(d.get(0)||"empty","$ui.hover.parent",0);if(!m||false!==m(n,d,o,p,"host")){d.hide(null,h);d.onMouseover(null,"hoverPop").onMouseout(null,"hoverPop")}})},c);if(d){d.onMouseover(g===null?null:function(n){if(n.$force){return}xui.resetRun(c,null)},c).onMouseout(g===null?null:function(n,o,p){if(o.$force){return}xui.resetRun(c,function(){xui.setData([c,"$ui.hover.pop"]);xui.setNodeData(d.get(0)||"empty","$ui.hover.parent",0);if(!m||false!==m(n,d,o,p,"pop")){d.hide(null,h);d.onMouseover(null,"hoverPop").onMouseout(null,"hoverPop")}})},c)}d.css("display","none");return this},setBlurTrigger:function(c,f,m,n,d){var k=this,l=document,e="$blur_triggers$",j=xui.Dom._blurTrigger||(xui.Dom._blurTrigger=function(o,s){var o=xui.Event.getPos(s),r=arguments.callee.arr,B=xui.Event.getSrc(s),y=xui.copy(r),x,u,z,q,A;xui.arr.each(y,function(p){x=true;if(!(A=r[p].target)){x=false}else{A.each(function(v){if(v!==window&&v!==document&&!xui.Dom.byId(v.id)){return x=false}})}if(!x){xui.arr.removeValue(r,p);delete r[p]}});y=xui.copy(r);xui.arr.each(y,function(v){A=r[v];if(!A){return}x=true;var p=function(){var w=A.target.get();while(B&&B.nodeName&&B.nodeName!="BODY"&&B.nodeName!="HTML"){if(xui.arr.indexOf(w,B)!=-1){return true}B=B.parentNode}};if(!A.checkChild||p()){A.target.each(function(w){if(w.parentNode&&(z=w.offsetWidth)&&(q=w.offsetHeight)){u=xui([w]).offset();if(o.left>=u.left&&o.top>=u.top&&o.left<=(u.left+z)&&o.top<=(u.top+q)){return x=false}}})}p=null;if(!x&&!xui.isFun(A.trigger)){return false}if(x){xui.arr.removeValue(r,v);delete r[v];xui.tryF(A.trigger,[o,s],A.target);A=null}else{if(A.stopNext){return false}}},null,true);B=null;y.length=0}),g=j.arr||(j.arr=[]),h;if(g[c]){if(f===true){xui.tryF(g[c].trigger);f=false}xui.arr.removeValue(g,c);delete g[c]}if(f){if(m){if(m["xui.Dom"]){h=m}else{if(xui.isArr(m)){h=xui();h._nodes=m}}h.merge(k)}else{h=k}h.each(function(p){if(!p.id&&p!==window&&p!==document){p.id=xui.Dom._pickDomId()}});g[c]={trigger:f,target:h,checkChild:!!n,stopNext:!d};g.push(c);if(!l.onmousedown){l.onmousedown=xui.Event.$eventhandler}l=j=null}return this},$firfox2:function(){if(!xui.browser.gek2){return this}var c=this;c.css("overflow","hidden");xui.asyRun(function(){c.css("overflow","auto")});return c},ieRemedy:function(){if(xui.browser.ie&&xui.browser.ver<=6){var e=this.get(),c=[],g=[],d=e.length;for(var f=0;f<d;f++){if(!xui.isSet(e[f].$ieRemedy)){if(xui.isSet(e[f].style.width)){e[f].$ieRemedy=e[f].style.width;e[f].style.width=((xui.CSS.$px(e[f].$ieRemedy,e[f])||0)+1)+"px"}}}xui.asyRun(function(){for(var h=0;h<d;h++){if(xui.isSet(e[h].$ieRemedy)){e[h].style.width=e[h].$ieRemedy;e[h].removeAttribute("$ieRemedy")}}e.length=c.length=g.length=0})}return this}},Static:{HIDE_VALUE:"-10000px",TOP_ZINDEX:10000,_boxArr:xui.toArr("width,height,left,top,right,bottom"),_cursor:{},_pickDomId:function(){var c;do{c="xui_"+xui.id()}while(document.getElementById(c));return c},_map:{html:1,head:1,body:1},fixPng:function(f){if(xui.browser.ie&&xui.browser.ver<=6){if(f.nodeName=="IMG"&&f.src.toLowerCase().search(/\.png$/)!=-1){f.style.height=f.height;f.style.width=f.width;f.style.backgroundImage="none";var d=((f.style.filter?(f.style.filter+","):"")+"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, src="+f.src+"', sizingMethod='image')").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/[,\s]+/g,", ");if(xui.browser.ie8){f.style.msfilter=d}f.style.filter=d;f.src=xui.ini.img_bg}var e=f.currentStyle.backgroundImage||f.style.backgroundImage,c=(e||"").toLowerCase().match(/^url[("']+(.*\.png[^\)"']*)[\)"']+[^\)]*$/i);if(c){f.style.backgroundImage="none";var d=((f.style.filter?(f.style.filter+","):"")+"progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled=true, src="+c[1]+"', sizingMethod='crop')").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/[,\s]+/g,", ");if(xui.browser.ie8){f.style.msfilter=d}f.style.filter=d}}},_getTag:function(c){return c?c.$xid?c.$xid:c.nodeType==1?xui.$registerNode(c).$xid:0:0},_ensureValues:function(h){var f,e,g=this._map,d=[],c=h===window?["!window"]:h===document?["!document"]:xui.isArr(h)?h:(h=="[object NodeList]"||h=="[object HTMLCollection]")?xui.toArr(h):h["xui.Dom"]?h._nodes:h._toDomElems?h._toDomElems():typeof h=="function"?h():[h];for(e=0;e<c.length;e++){if(f=!(f=c[e])?0:f===window?"!window":f===document?"!document":(typeof f=="string"||(f["xui.DomProfile"]&&(f=f.domId)))?f.charAt(0)=="!"?f:this._getTag(g[f]?document.getElementsByTagName(f)[0]:document.getElementById(f)):((f=c[e])["xui.UIProfile"]||f["xui.Template"])?f.renderId?f.renderId:(f.boxing().render()&&f.renderId):this._getTag(f)){d[d.length]=f}}return d.length<=1?d:this._unique(d)},_getClass:function(c){return(typeof c.className=="string"&&c.className)||(typeof c.className.baseVal=="string"&&c.className.baseVal)||(typeof c.getAttribute!=="undefined"&&c.getAttribute("class"))||""},_setClass:function(d,c){if(typeof d.className=="string"){d.className=c}else{if(typeof d.className.baseVal=="string"){d.className.baseVal=c}else{if(typeof d.getAttribute!="undefined"){d.setAttribute(c)}}}},_scrollBarSize:0,getScrollBarSize:function(d){var c=this;if(d||!c._scrollBarSize){var e;xui("body").append(e=xui.create('<div style="width:50px;height:50px;visibility:hidden;position:absolute;margin:0;padding:0;left:-10000px;overflow:scroll;"></div>'));c._scrollBarSize=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove()}return c._scrollBarSize},getStyle:function(m,v,c){if(!m||m.nodeType!=1){return""}if(v=="rotate"){return xui(m).rotate()}var u=xui.Dom,d=xui.Dom._css3prop;var l,o;if(v=="opacity"&&(!u.css3Support("opacity"))&&xui.browser.ie){o=v="filter"}l=m.style[v];if(c||!l||l==="initial"){var s=arguments.callee,f,g=xui.browser,r=s.map||(s.map={"float":1,cssFloat:1,styleFloat:1}),k=s._c1||(s._c1={}),j=s._c2||(s._c2={}),h=s._c3||(s._c3={}),v=k[v]||(k[v]=v.replace(/\-(\w)/g,function(x,w){return w.toUpperCase()})),q=j[v]||(j[v]=v.replace(/([A-Z])/g,"-$1").toLowerCase()),p,n;var e=v;if(e.indexOf("border")===0){e=e.replace(/[-]?(left|top|right|bottom)/ig,"")}if(xui.arr.indexOf(d,e)!=-1){if(!u.css3Support(v)){return""}else{if(v!="textShadow"){p=g.cssTag2+q.charAt(0).toUpperCase()+q.substr(1);n=g.cssTag1+q}}}if(r[v]){v=xui.browser.ie?"styleFloat":"cssFloat"}l=((f=document.defaultView)&&f.getComputedStyle)?(f=f.getComputedStyle(m,null))?(f.getPropertyValue(q)||(n&&f.getPropertyValue(n))):"":m.currentStyle?(m.currentStyle[v]||m.currentStyle[q]||(p&&(m.currentStyle[p]||m.currentStyle[n]))):((m.style&&(m.style[v]||(p&&m.style[p])))||"")}if(!o&&xui.browser.ie678){if((v=="fontSize"||q=="font-size")&&/%/.test(l)&&m.parentNode){l=(m.parentNode.currentStyle[v]||m.parentNode.currentStyle[q])*parseFloat(l)}else{if(xui.CSS.$isRem(l)){l=xui.CSS.$px(l)}}}return o?l?(parseFloat(l.match(/alpha\(opacity=(.*)\)/)[1])||0)/100:1:(l||"")},$transformIE:function(f,p){var r=(f.style.filter||"").replace(/progid\:DXImageTransform\.Microsoft\.Matrix\([^)]+\)/ig,"").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){f.style.msfilter=r}f.style.filter=r;f.style.marginTop=f.style.marginLeft="";if(p){var m=function(){var x,v=Math.PI/180,u=function(C,B,E,D,A,z){var y={};y.m11=xui.isSet(C)?parseFloat(C):1;y.m12=xui.isSet(B)?parseFloat(B):0;y.m21=xui.isSet(E)?parseFloat(E):0;y.m22=xui.isSet(D)?parseFloat(D):1;y.dx=xui.isSet(A)?parseFloat(A):0;y.dy=xui.isSet(z)?parseFloat(z):0;return y},s=function(A,z){var y={};y.m11=w(A.m11*z.m11+A.m21*z.m12,10);y.m12=w(A.m12*z.m11+A.m22*z.m12,10);y.m21=w(A.m11*z.m21+A.m21*z.m22,10);y.m22=w(A.m12*z.m21+A.m22*z.m22,10);y.dx=w(z.dx+A.dx,10);y.dy=w(z.dy+A.dy,10);return y},h=function(y){return v*y},w=function(z,A){var y=Math.round(z*Math.pow(10,A))/Math.pow(10,A);return y};this.rotate=function(A){var z=xui.isSet(A)?parseFloat(h(parseFloat(A))):0;var y=u(Math.cos(z),-Math.sin(z),Math.sin(z),Math.cos(z),0,0);x=s(y,x)};this.translate=function(A,B){var z=u(1,0,0,1,parseFloat(A),parseFloat(B));x=s(z,x)};this.translateX=function(y){this.translate(y,0)};this.translateY=function(z){this.translate(0,z)};this.scale=function(A,B){var z=u(xui.isSet(A)?parseFloat(A):1,0,0,xui.isSet(B)?parseFloat(B):1,0,0);x=s(z,x)};this.scaleX=function(y){this.scale(y,1)};this.scaleY=function(z){this.scale(1,z)};this.skew=function(z,A){z=xui.isSet(z)?parseFloat(h(parseFloat(z))):0;A=xui.isSet(A)?parseFloat(h(parseFloat(A))):0;var y=u(1,Math.tan(z),Math.tan(A),1,0,0);x=s(y,x)};this.skewX=function(y){this.skew(y,0)};this.skewY=function(y){this.skew(0,y)};this.matrix=function(B,A,D,C,z,y){x=s(u(B,A,D,C,z,y),x)};this.getMatrix=function(){return x};this.getFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+x.m11+", M12="+x.m12+", M21="+x.m21+", M22="+x.m22+", Dx="+x.dx+", Dy="+x.dy+", SizingMethod='auto expand')"};this.getX=function(){return x.dx};this.getY=function(){return x.dy};this.reset=function(){x=u(1,0,0,1,0,0)};this.reset()};var d=function(w){var s=new m();var z=w.match(/[A-z]+\([^\)]+/g)||[];for(var v=0;v<z.length;v++){var h=z[v].split("("),x=h[0],y=h[1],u;switch(x){case"rotate":s.rotate(y);break;case"scale":u=y.split(",");s.scale(u[0],u[1]);break;case"scaleX":s.scaleX(y);break;case"scaleY":s.scaleY(y);break;case"skew":u=y.split(",");s.skew(u[0],u[1]);break;case"skewX":s.skewX(y);break;case"skewY":s.skewY(y);break;case"translate":u=y.split(",");s.translate(u[0],u[1]);break;case"translateX":s.translateX(y);break;case"translateY":s.translateY(y);break}}return s};var n=d(p);var e=f.offsetWidth,q=f.offsetHeight;var c=n.getFilter();var r=((f.style.filter?(f.style.filter+","):"")+c).replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){f.style.msfilter=r}f.style.filter=r;if(f.getBoundingClientRect){var j=n.getX(),g=n.getY(),l=f.getBoundingClientRect(),o=l.right-l.left,k=l.bottom-l.top;f.style.marginLeft=Math.round(parseFloat((e-o)/2+10+j))+"px";f.style.marginTop=Math.round(parseFloat((q-k)/2+10+g))+"px"}f.style.transform=p}},$textShadowIE:function(h,k,g){if(!k){var j=function(f){return(f||"").replace(/progid\:DXImageTransform\.Microsoft\.(Chroma|DropShadow|Glow)\([^)]+\)/ig,"").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "))},d=h.style.filter;if(d){if(xui.browser.ie8){h.style.msfilter=j(d)}h.style.filter=j(d)}if(!g){h.style.backgroundColor=""}}else{var j=function(f,n,l,m){return(g?"":"progid:DXImageTransform.Microsoft.Chroma(Color=#cccccc) ")+"progid:DXImageTransform.Microsoft.DropShadow(Color="+m+", OffX="+f+", OffY="+n+") "+(parseFloat(l)>0?"progid:DXImageTransform.Microsoft.Glow(Strength="+l+", Color="+m+")":"")},e=k.match(/([\d\.-]+)px\s+([\d\.-]+)px(\s+([\d\.-]+)px)?(\s+([#\w]+))?/);if(e){var c=((h.style.filter?(h.style.filter+","):"")+j(e[1],e[2],e[4],e[6]||"#000000")).replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){h.style.msfilter=c}h.style.filter=c;if(!g){h.style.backgroundColor="#C5C5C5"}}}},$setGradients:function(r,q,s){s=s||xui.browser;var y=this,e=s.ver,g="0123456789ABCDEF",p=function(A,z){A=parseInt(A*z,10)||0;A=(A>255||A<0)?0:A;return g.charAt((A-A%16)/16)+g.charAt(A%16)},f=function(z){z=z.split("");return g.indexOf(z[0].toUpperCase())*16+g.indexOf(z[1].toUpperCase())};window.btoa=window.btoa||function(F){if(/([^\u0000-\u00ff])/.test(F)){return}var D="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B=0,E,C,A,z=[];while(B<F.length){E=F.charCodeAt(B);A=(B+1)%3;switch(A){case 1:z.push(D.charAt(E>>2));break;case 2:z.push(D.charAt((C&3)<<4|(E>>4)));break;case 0:z.push(D.charAt((C&15)<<2|(E>>6)));z.push(D.charAt(E&63));break}C=E;B++}if(A==1){z.push(D.charAt((C&3)<<4));z.push("==")}else{if(A==2){z.push(D.charAt((C&15)<<2));z.push("=")}}return z.join("")};var o=function(O,E,C,z,K,W){var L="xui.s-ie8gdfix";if(!O||O.nodeType!=1||!O.style){return}var N=y.getStyle(O,"overflow"),M=y.getStyle(O,"display");if(N!="hidden"||(M!="block"&&M!="relative")){return}if(!E){var R,V=O.childNodes,P=V.length;for(R=0;R<P;R++){if(V[R].nodeType==1&&V[R].id==L){O.removeChild(V[R]);break}}O.style.backgroundColor="";var H=((O.style.filter||"").replace(/progid\:DXImageTransform\.Microsoft\.Alpha\([^)]+\)/ig,"")).replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){O.style.msfilter=H}O.style.filter=H}else{W=W||1;var Q=C[0].clr,A=C[C.length-1].clr;var U=O.offsetWidth||0,B=O.offsetHeight||0,G=U*W*2,T=B*W*2;if(z=="circle"){G=T=Math.min(G,T)}var P=-G/2,H=-T/2,F=G,S=T;if(xui.isObj(E)){P=E.left||(Math.round(parseFloat(P))+"px");H=E.top||(Math.round(parseFloat(H))+"px")}else{switch(E){case"LT":P=-G/2;H=-T/2;break;case"T":P=(U-G)/2;H=-T/2;break;case"RT":P=U-G/2;H=-T/2;break;case"L":P=-G/2;H=(B-T)/2;break;case"C":P=(U-G)/2;H=(B-T)/2;break;case"R":P=U-G/2;H=(B-T)/2;break;case"LB":P=-G/2;H=B-T/2;break;case"B":P=(U-G)/2;H=B-T/2;break;case"RB":P=U-G/2;H=B-T/2;break}P+="px";H+="px"}var J=document.createElement("div"),I=J.style;J.id=L;I.position="absolute";I.zIndex="0";I.top=H;I.left=P;I.width=Math.round(parseFloat(F))+"px";I.height=Math.round(parseFloat(S))+"px";I.backgroundColor=Q;var D=C[0].opacity?parseFloat(C[0].opacity)*100:100;var H=((I.filter?(I.filter+","):"")+"progid:DXImageTransform.Microsoft.Alpha(opacity="+D+", finishopacity=0, style=2)").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){I.msfilter=H}I.filter=H;if(O.firstChild){O.insertBefore(J,O.firstChild)}else{O.appendChild(J)}O.style.backgroundColor=A;if(C[C.length-1].opacity){var H=((O.style.filter?(O.style.filter+","):"")+"progid:DXImageTransform.Microsoft.Alpha(opacity="+(parseFloat(C[C.length-1].opacity)*100)+")").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){O.style.msfilter=H}O.style.filter=H}}},x=function(N,F,C){var K="xui.s-ie8gdfix";if(!N||N.nodeType!=1||!N.style){return}var M=y.getStyle(N,"overflow"),L=y.getStyle(N,"display");if(M!="hidden"){y.setStyle(N,"overflow","hidden")}if(L!="block"&&L!="relative"){y.setStyle(N,"display","relative")}if(!F){var S,U=N.childNodes,P=U.length;for(S=0;S<P;S++){if(U[S].nodeType==1&&U[S].id==K){N.removeChild(U[S]);break}}N.style.backgroundColor="";var G=(N.style.filter||"").replace(/progid\:DXImageTransform\.Microsoft\.Alpha\([^)]+\)/ig,"").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){N.style.msfilter=G}N.style.filter=G}else{var R=C[0].clr,A=C[C.length-1].clr;var T=N.offsetWidth||0,B=N.offsetHeight||0,J=Math.min(T,B),E=0,O=J,Q=0,z=J;switch(F){case"LT":E=0;Q=0;O=J;z=J;break;case"RT":E=J;Q=0;O=0;z=J;break;case"LB":E=0;Q=J;O=J;z=0;break;case"RB":E=J;Q=J;O=0;z=0;break}var I=document.createElement("div"),H=I.style;I.id=K;H.position="absolute";H.zIndex="0";H.top=0;H.left=0;H.width=T;H.height=B;H.backgroundColor=R;var D=C[0].opacity?parseFloat(C[0].opacity)*100:100;var G=((H.filter?(H.filter+","):"")+"progid:DXImageTransform.Microsoft.Alpha(style=1, opacity="+D+", finishopacity=0, startX="+E+",finishX="+O+",startY="+Q+",finishY="+z+")").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){H.msfilter=G}H.filter=G;if(N.firstChild){N.insertBefore(I,N.firstChild)}else{N.appendChild(I)}N.style.backgroundColor=A;if(C[C.length-1].opacity){var G=((N.style.filter?(N.style.filter+","):"")+"progid:DXImageTransform.Microsoft.Alpha(opacity="+(parseFloat(C[C.length-1].opacity)*100)+")").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){N.style.msfilter=G}N.style.filter=G}}},m=function(B,D,I){var z="xui.s-ie8gdfix";if(!B||B.nodeType!=1||!B.style){return}if(!D){var J=((B.style.filter||"").replace(/progid\:DXImageTransform\.Microsoft\.Gradient\([^)]+\)/ig,"")).replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){B.style.msfilter=J}B.style.filter=J;var E,F=B.childNodes,C=F.length;for(E=0;E<C;E++){if(F[E].nodeType==1&&F[E].id==z){B.removeChild(F[E]);break}}B.style.backgroundColor="";var J=((B.style.filter||"").replace(/progid\:DXImageTransform\.Microsoft\.Alpha\([^)]+\)/ig,"")).replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){B.style.msfilter=J}B.style.filter=J}else{var H=I[0].clr,A=I[I.length-1].clr,G=1,J;if(I[0].opacity){H=H.replace("#","#"+p(I[0].opacity,255))}if(I[I.length-1].opacity){A=A.replace("#","#"+p(I[I.length-1].opacity,255))}switch(D){case"LT":case"RT":case"LB":case"RB":x(B,D,I);return;case"L":G=1;break;case"R":G=1;J=H;H=A;A=J;break;case"T":G=0;break;case"B":G=0;J=H;H=A;A=J;break}var J=((B.style.filter?(B.style.filter+","):"")+"progid:DXImageTransform.Microsoft.Gradient(StartColorstr='"+H+"',EndColorstr='"+A+"',GradientType="+G+")").replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "));if(xui.browser.ie8){B.style.msfilter=J}B.style.filter=J}},v=function(B,F,K,J,L,I){if(!F){B.style.backgroundImage=""}else{I=I||1;var A="svg:"+xui.id(),E="0%",D="0%",z=I*100+"%";if(xui.isObj(F)){E=F.left||E;D=F.left||D}else{switch(F){case"T":E="50%";D="0%";break;case"B":E="50%";D="100%";break;case"L":E="0%";D="50%";break;case"R":E="100%";D="50%";break;case"LT":E="0%";D="0%";break;case"RT":E="100%";D="0%";break;case"RB":E="100%";D="100%";break;case"LB":E="0%";D="100%";break;case"C":E="50%";D="50%";break}}var H='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><radialGradient id="'+A+'" gradientUnits="userSpaceOnUse" cx="'+E+'" cy="'+D+'" r="'+z+'">';for(var G=0,C=K.length;G<C;G++){H+='<stop stop-color="'+K[G].clr+'" offset="'+K[G].pos+'" '+(xui.isSet(K[G].opacity)?(' stop-opacity="'+K[G].opacity+'"'):"")+" />"}H+='</radialGradient><rect x="-50" y="-50" width="101" height="101" fill="url(#'+A+')" /></svg>';B.style.backgroundImage='url("data:image/svg+xml;base64,'+window.btoa(H)+'")'}},u=function(C,E,J){if(!E){C.style.backgroundImage=""}else{var A="svg"+xui.id(),B="0%",I="0%",z="0%",H="100%";switch(E){case"T":B="50%";I="0%";z="50%";H="100%";break;case"B":B="50%";I="100%";z="50%";H="0%";break;case"L":B="0%";I="50%";z="100%";H="50%";break;case"R":B="100%";I="50%";z="0%";H="50%";break;case"LT":B="0%";I="0%";z="100%";H="100%";break;case"RT":B="100%";I="0%";z="0%";H="100%";break;case"RB":z="0%";H="0%";B="100%";I="100%";break;case"LB":B="0%";I="100%";z="100%";H="0%";break;default:}var G='<svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><linearGradient id="'+A+'" gradientUnits="userSpaceOnUse" x1="'+B+'" y1="'+I+'" x2="'+z+'" y2="'+H+'">';for(var F=0,D=J.length;F<D;F++){G+='<stop stop-color="'+J[F].clr+'" offset="'+J[F].pos+'" '+(xui.isSet(J[F].opacity)?(' stop-opacity="'+J[F].opacity+'"'):"")+"/>"}G+='</linearGradient><rect x="0" y="0" width="1" height="1" fill="url(#'+A+')" /></svg>';C.style.backgroundImage='url("data:image/svg+xml;base64,'+window.btoa(G)+'")'}},l=function(A,B,I,E,J,D){var G=[],F=[],z=A.style;xui.arr.each(I,function(L){var K=L.clr;if(xui.isSet(L.opacity)&&K.charAt(0)=="#"){K=K.slice(1);K="rgba("+f(K.substr(0,2))+","+f(K.substr(2,2))+","+f(K.substr(4,2))+","+parseFloat(L.opacity)+")"}G.push(K+" "+L.pos);if(s.isWebKit){F.push("color-stop("+L.pos+","+K+")")}});if(!B){z.backgroundImage=""}else{var C;if(xui.isObj(B)){C=B.left+" "+B.top}else{switch(B){case"LT":C="left top";break;case"T":C="center top";break;case"RT":C="right top";break;case"L":C="left center";break;case"C":C="center center";break;case"R":C="right center";break;case"LB":C="left bottom";break;case"B":C="center bottom";break;case"RB":C="right bottom";break;default:C="left top"}}if(s.isWebKit){z.backgroundImage="-webkit-gradient(radial,"+C+", 0px, "+C+", 100%,"+F.join(",")+")"}var H="radial-gradient("+C+","+E+" "+J+","+G.join(",")+")";if(s.cssTag1){z.backgroundImage=s.cssTag1+H}z.backgroundImage="radial-gradient("+J+" "+E+" at "+C+","+G.join(",")+")"}},k=function(B,D,I){var F=[],E=[],z=B.style;xui.arr.each(I,function(K){var J=K.clr;if(xui.isSet(K.opacity)&&J.charAt(0)=="#"){J=J.slice(1);J="rgba("+f(J.substr(0,2))+","+f(J.substr(2,2))+","+f(J.substr(4,2))+","+parseFloat(K.opacity)+")"}F.push(J+" "+K.pos);if(s.isWebKit){E.push("color-stop("+K.pos+","+J+")")}});if(!D){z.backgroundImage=""}else{var G="to bottom";var C="top";var A="left top, left bottom";switch(D){case"LT":G="135deg";C="-45deg";A="left top, right bottom";break;case"T":G="to bottom";C="top";A="left top, left bottom";break;case"RT":G=C="-135deg";A="right top, left bottom";break;case"L":G="to right";C="left";A="left top, right top";break;case"R":G="to left";C="right";A="right top, left top";break;case"LB":G=C="45deg";A="left bottom, right top";break;case"B":G="to top";C="bottom";A="left bottom, left top";break;case"RB":G="-45deg";C="135deg";A="right bottom, left top";break;default:G=D;C=D;A="left top, right bottom"}if(s.isWebKit){z.backgroundImage="-webkit-gradient(linear,"+A+", "+E.join(",")+")"}var H="linear-gradient({#},"+F.join(",")+")";if(s.cssTag1){z.backgroundImage=s.cssTag1+H.replace("{#}",C)}z.backgroundImage=H.replace("{#}",G)}};var d=q?(q.type||q||"linear").toLowerCase():null,w=q?(q.rate||1):null,c=q?(q.shape||"circle").toLowerCase():null,n=q?(q.size||"farthest-corner").toLowerCase():null,j=q?q.orient:null,h=q?q.stops:null;if(d!="linear"){d="radial"}if(h){if(h.length>1){xui.arr.stableSort(h,function(z,A){z=parseFloat(z.pos);A=parseFloat(A.pos);return z>A?1:z==A?0:-1})}else{return}}if(s.ie678){if(d=="linear"){m(r,j,h)}else{o(r,j,h,c,n,w)}}if(s.ie9||(s.opr&&e<11.1)){if(d=="linear"){u(r,j,h)}else{v(r,j,h,c,n,w)}}if(((s.gek&&e>=3.6)||(s.isChrome&&e>=10)||(s.isSafari&&e>=5.1)||(s.ie&&e>=10)||(s.opr&&e>=11.1))){if(d=="linear"){k(r,j,h)}else{if(s.opr&&e<12){v(r,j,h,c,n,w)}else{l(r,j,h,c,n,w)}}}},_vAnimate:function(f,e,h){if(!e||!e.params||xui.isEmpty(e.params)){if(h){xui.tryF(h)}return}var g=e.params,d={},c={};f=xui(f);xui.each(g,function(k,j){d[j]=k[0];c[j]=k[1]});return f.animate(g,function(j){f.css(d)},function(j){f.css(c);if(h){xui.tryF(h)}},e.duration,0,e.type).start()},$adjustCss:function(f,e){var d={nodeType:1,style:{}};xui.Dom.setStyle(d,f);if(e){var c=[];if(xui.browser.ie&&xui.browser.ver==8){if(d.style.filter){d.style["-ms-filter"]=d.style.filter}if(d.style["background-image"]=="none"){d.style["background-image"]="url(about:blank)"}}xui.each(d.style,function(h,g){c.push(g.replace(/([A-Z])/g,"-$1").toLowerCase()+":"+h)});return c.join(";").replace(/[;]+/g,";")}else{return d.style}},_cssfake:{rotate:1,scaleX:1,scaleY:1,translateX:1,translateY:1,skewX:1,skewY:1},setStyle:function(g,d,r){if(d=="rotate"){xui(g).rotate(r);return this}var q=xui.Dom,n=xui.Dom._css3prop,u=xui.browser,s=q._cssfake;if(g.nodeType!=1){return}if(typeof d=="string"){if(s[d]){xui(g)[d](r)}else{var p=this.getStyle,k=p._c1||(p._c1={}),e=p._r1||(p._r1=/alpha\([^\)]*\)/ig),c=p.map||(p.map={"float":1,cssFloat:1,styleFloat:1});var m,l,j;d=k[d]||(k[d]=d.replace(/\-(\w)/g,function(w,v){return v.toUpperCase()}));var o=d;if(o.indexOf("border")===0){o=o.replace(/[-]?(left|top|right|bottom)/ig,"")}if(d=="$gradient"){return q.$setGradients(g,r)}else{if(d=="opacity"){r=xui.isFinite(r)?parseFloat(r)>1?1:parseFloat(r)<=0?0:parseFloat(r):1;r=r>0.9999?"":r;if((!q.css3Support("opacity"))&&u.ie){if(r===""){r=1}g.style.opacity=r;g.style.zoom=1;r="alpha(opacity="+100*r+")";var f=(g.style.filter||"").replace(e,"");r=(f?(f+","):"")+r;d="filter";if(u.ver==8){m="msfilter"}}}else{if(xui.arr.indexOf(n,o)!=-1){if(!q.css3Support(d)){if(u.ie&&u.ver<9){switch(d){case"transform":xui.Dom.$transformIE(g,r);break;case"boxShadow":xui.Dom.$textShadowIE(g,r,true);break}}if(d=="textShadow"&&u.ie&&u.ver<10){xui.Dom.$textShadowIE(g,r)}return this}else{if(u.cssTag2){if(d!="textShadow"){m=u.cssTag2+d.charAt(0).toUpperCase()+d.substr(1)}}}}else{if(c[d]){d=u.ie?"styleFloat":"cssFloat"}}}}if(d=="filter"){r=r.replace(/(^[\s,]*)|([\s,]*$)/g,"").replace(/,[\s]+/g,","+(xui.browser.ver==8?"":" "))}g.style[d]=r;if(m){g.style[m]=r}if(l){g.style[l]=r}if(j){g.style[j]=r}}}else{for(var h in d){arguments.callee.call(this,g,h,d[h])}}},_css3prop:"opacity,textShadow,animationName,columnCount,flexWrap,boxDirection,backgroundSize,perspective,boxShadow,borderImage,borderRadius,boxReflect,transform,transition".split(","),css3Support:function(B){var q=arguments.callee,g=q._c||(q._c={});B=B.replace("$","").replace(/\-(\w)/g,function(k,f){return f.toUpperCase()});if(B in g){return g[B]}var w=document.createElement("div"),o=w.style,j=false,y=xui.browser,z=function(f){f=f.replace(/\-(\w)/g,function(n,k){return k.toUpperCase()});if(o[f]!==undefined){return true}if(xui.browser.cssTag2){f=xui.browser.cssTag2+f.charAt(0).toUpperCase()+f.substr(1);if(o[f]!==undefined){return true}}return false};w.id="xui_css3_"+xui.stamp();if(B.indexOf("border")===0){B=B.replace(/[-]?(left|top|right|bottom)/ig,"")}switch(B){case"opacity":case"textShadow":j=o[B]==="";break;case"generatedContent":var u="tmp_css3_test"+xui.id(),l="#"+w.id+"{line-height:auto;margin:0;padding:0;border:0;font:0/0 a}#"+w.id+":after{content:'a';visibility:hidden;line-height:auto;margin:0;padding:0;border:0;font:3px/1 a}";xui.CSS.addStyleSheet(l,u);xui("body").append(w);var m=w.offsetHeight;xui.CSS.remove("id",u);xui(w.id).remove(w);j=m>=3;break;case"fontFace":if(y.ie&&y.ver>=6){j=true}else{var u="tmp_css3_test"+xui.id(),l='@font-face{font-family:"font";src:url("https://")}',o=xui.CSS.addStyleSheet(l,u),A=o.sheet||o.styleSheet,h=A?((A.cssRules&&A.cssRules[0])?A.cssRules[0].cssText:A.cssText||""):"";j=/src/i.test(h)&&h.indexOf("@font-face")===0;xui.CSS.remove("id",u)}break;case"rgba":o.cssText="background-color:rgba(0,0,0,0.1)";j=o.backgroundColor.indexOf("rgba")!=-1;break;case"hsla":o.cssText="background-color:hsla(120,40%,100%,.5)";j=o.backgroundColor.indexOf("hsla")!=-1||o.backgroundColor.indexOf("rgba")!=-1;break;case"multiplebgs":o.cssText="background:url(//:),url(//:),red url(//:)";j=/(url\s*\(.*?){3}/.test(o.background);break;case"gradient":var x="background-image:",e="-webkit-gradient(linear,left top,right bottom,from(#000),to(#fff));",d="linear-gradient(left top,#000,#fff);",c=[x,d];if(xui.browser.cssTag1){c.push(x);c.push(xui.browser.cssTag1+d)}if(xui.browser.isWebKit){c.push(x);c.push(e)}o.cssText=c.join("");j=!!o.backgroundImage;break;case"transform3d":var p=z("perspective");if(p&&"webkitPerspective" in document.documentElement.style){var u="tmp_css3_test"+xui.id(),l="@media (transform-3d),(-webkit-transform-3d){#"+w.id+"{font:0/0;line-height:0;margin:0;padding:0;border:0;left:9px;position:absolute;height:3px;}}";xui.CSS.addStyleSheet(l,u);xui("body").append(w);var e=w.offsetLeft,d=w.offsetHeight;xui.CSS.remove("id",u);xui(w.id).remove(w);j=e===9&&d===3}j=p;break;default:j=z(B)}return g[B]=j},$preDefinedAnims:{blinkAlert:{params:{opacity:[1,0]},duration:200,returned:true,times:3},zoomAlert:{params:{scaleX:[1,1.1],scaleY:[1,1.1]},duration:100,returned:true,times:3},translateXAlert:{params:{translateX:[0,5]},duration:100,returned:true,times:3},translateYAlert:{params:{translateY:[0,5]},duration:100,returned:true,times:3},rotateAlert:{params:{rotate:[0,360]},duration:400,returned:false}},$preDefinedEffects:{Classic:[{type:"circOut",duration:200,params:{opacity:[0,1],scaleX:[0.75,1],scaleY:[0.75,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],scaleX:[1,0.75],scaleY:[1,0.75]}}],Blur:[{type:"circOut",duration:200,params:{opacity:[0,1]}},{type:"circIn",duration:200,params:{opacity:[1,0]}}],Drop:[{type:"circOut",duration:200,params:{opacity:[0,1],translateY:["-25%","0%"],scaleY:[0.5,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],translateY:["0%","-25%"],scaleY:[1,0.5]}}],"From Below":[{type:"circOut",duration:200,params:{opacity:[0,1],scaleX:[0,1],scaleY:[0,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],scaleX:[1,0],scaleY:[1,0]}}],"From Above":[{type:"circOut",duration:200,params:{opacity:[0,1],scaleX:[2,1],scaleY:[2,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],scaleX:[1,2],scaleY:[1,2]}}],"Slide In LR":[{type:"circOut",duration:200,params:{opacity:[0,1],translateX:["-150%","0%"],scaleX:[0.2,1],scaleY:[0.2,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],translateX:["0%","150%"],scaleX:[1,0.2],scaleY:[1,0.2]}}],"Slide In TB":[{type:"circOut",duration:200,params:{opacity:[0,1],translateY:["-150%","0%"],scaleX:[0.2,1],scaleY:[0.2,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],translateY:["0%","150%"],scaleX:[1,0.2],scaleY:[1,0.2]}}],"Flip V":[{type:"circOut",duration:200,params:{opacity:[0,1],scaleY:[0,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],scaleY:[1,0]}}],"Flip H":[{type:"circOut",duration:200,params:{opacity:[0,1],scaleX:[0,1]}},{type:"circIn",duration:200,params:{opacity:[1,0],scaleX:[1,0]}}]},_getEffects:function(c,d){if(c&&typeof(c)=="string"){c=this.$preDefinedEffects[c];c=c?d?c[0]:c[1]:null}if(c&&xui.browser.ie&&xui.browser.ver<=8){xui.filter(c,function(f,e){return !!xui.Dom._cssfake[e]})}return c},_setUnitStyle:function(e,c,f){if(e.nodeType!=1){return false}var d=e.style;if(f||f===0){f=xui.CSS.$addu(f);if(f&&(c=="width"||c=="height")&&f.charAt(0)=="-"){f="0"}if(d[c]!=f){d[c]=f;return true}}return false},_emptyDivId:"xui.empty::",getEmptyDiv:function(g){var h=1,d,f,c,e,m,k=0,l=document,j=l.body,n=function(p){p.id=d;xui([p]).attr("style","position:absolute;visibility:hidden;overflow:visible;left:"+xui.Dom.HIDE_VALUE+";top:"+xui.Dom.HIDE_VALUE+";")};g=g||1;while(1){d=this._emptyDivId+h;if(e=xui.Dom.byId(d)){if((!e.firstChild||(e.firstChild.nodeType==3&&!e.firstChild.nodeValue))&&++k==g){return xui([e])}}else{e=l.createElement("div");n(e,d);if(j.firstChild){j.insertBefore(e,j.firstChild)}else{j.appendChild(e)}f=xui([e]);j=e=null;return f}h++}j=e=null},setCover:function(f,k,j,m){var h=arguments.callee,c="xui.temp:cover:",l="xui.temp:message:",g=(typeof(f)=="string"||typeof(f)=="function")?f:"",e,d;if((e=xui(c)).isEmpty()){xui("body").prepend(e=xui.create('<button id="'+c+'" class="xui-node xui-node-div xui-cover xui-custom" style="position:absolute;display:none;text-align:center;left:0;top:0;border:0;padding:0;margin:0;padding-top:2em;"><div id="'+l+'" class="xui-node xui-node-div xui-coverlabel xui-custom"></div></button>'));e.setSelectable(false);xui.setNodeData(e.get(0),"zIndexIgnore",1)}if(xui.Dom.byId(l)){d=xui(l)}if(!f){if(typeof h._label=="string"&&h._label!==k){return}if(h._showed){if(d){d.empty(false)}e.css({zIndex:0,cursor:"",display:"none",cursor:""});h._showed=false}delete h._label}else{if(typeof k=="string"){h._label=k}var n=xui.win;if(!h._showed){e.css({zIndex:xui.Dom.TOP_ZINDEX*10,display:"",width:n.scrollWidth()+"px",height:n.scrollHeight()+"px",cursor:m||"progress"});if(j){e.addClass("xuicon xui-icon-loading")}else{e.removeClass("xuicon xui-icon-loading")}h._showed=true}if(g){if(typeof(g)=="function"){g(e,d)}else{if(d){d.html(g+"",false)}}}}},byId:function(c){return document.getElementById(c||"")},$hasEventHandler:function(d,c){return xui.getNodeData(d,["eHandlers",c])},submit:function(h,g,k,j,f){g=xui.isHash(g)?g:{};g=xui.clone(g,function(l){return l!==undefined});h=h||"";j=j||(h.substring(0,6).toLowerCase()=="mailto"?"_self":"_blank");var e=[];if(!xui.isEmpty(g)){var c,d=[];xui.each(g,function(m,l){if(m&&m["xui.UIProfile"]&&m.$xuiFileCtrl){if(c=m.boxing().getUploadObj()){d.push({id:m.$xid,file:c});c.id=c.name=l;g[l]=c}}});k=k||(c?"post":"get");if(k.toLowerCase()=="get"){window.open(h+"?"+xui.urlEncode(g),j)}else{xui.each(g,function(m,l){if(xui.isDefined(m)&&!xui.isElem(m)){e.push('<textarea name="'+l+'">'+(typeof m=="object"?xui.serialize(m):m)+"</textarea>")}});e.push('<input type="hidden" name="rnd" value="'+xui.rand()+'">');e=xui.str.toDom('<form target="'+j+'" action="'+h+'" method="'+k+(f?'" enctype="'+f:"")+'">'+e.join("")+"</form>");xui.Dom.getEmptyDiv().append(e);if(d.length){xui.arr.each(d,function(m,l){e.append(m.file)})}e.get(0).submit();e.remove();e=null}if(d.length){xui.arr.each(d,function(m,l){if(l=xui.getObject(m.id)){if(l["xui.UIProfile"]&&l.boxing()&&l.boxing().setUploadObj){l.boxing().setUploadObj(m.file)}}})}}else{window.open(h,j)}},selectFile:function(f,d){var e=document.createElement("input");e.type="file";if(d){e.accept=d}e.onchange=function(){xui.tryF(f,[this,this.files[0]],this)};if(!!window.ActiveXObject||"ActiveXObject" in window){var c=document.createElement("div");e.appendChild(c);c.click();e.removeChild(c)}else{e.click()}e=null},busy:function(f,c,d,e){xui.Dom.setCover(c||true,f,d,e)},free:function(c){xui.Dom.setCover(false,c)},animate:function(l,j,o,c,k,e,m,g,n,h,d){var f=document.createElement("div");xui.merge(l,{position:"absolute",left:this.HIDE_VALUE,zIndex:this.TOP_ZINDEX++});xui.Dom.setStyle(f,l);document.body.appendChild(f);return xui([f]).animate(j,o,function(){xui.tryF(c);if(f.parentNode){f.parentNode.removeChild(f)}f=null},k,e,m,g,n,h,d)},$enableEvents:function(d){if(!xui.isArr(d)){d=[d]}var c=this,e;xui.arr.each(d,function(f){e=function(h,k,g){if(typeof h=="function"){return this.$addEvent(f,h,k,g)}else{if(h===null){return this.$removeEvent(f,k,g)}}var j=arguments[1]||{};j.$xuiall=(arguments[0]===true);return this.$fireEvent(f,j)};e.$event$=1;c.plugIn(f,e)})}},After:function(D){var v=this;xui.each({parent:["y",false],prev:["x",false],next:["x",true],first:["y",true],last:["y",1]},function(d,c){v.plugIn(c,function(h){return this.$iterator(d[0],d[1],true,h||1)})});xui.arr.each(xui.toArr("offsetLeft,offsetTop,scrollWidth,scrollHeight"),function(c){v.plugIn(c,function(){var o=this.get(0),m=window,p=document;if(o==m||o==p){if("scrollWidth"==c||"scrollHeight"==c){var l=p.documentElement,h=p.body;return Math.max(l[c],h[c])}else{o=xui.browser.contentBox?p.documentElement:p.body}}return o[c]})});var x="padding",z="margin",F="border",E="inner",y="offset",s="outer",n="width",C="height",e="Width",k="Height",f="Top",j="Left",q="top",A="left",g="Right",u="Bottom";xui.arr.each([["_"+x+"H",x+f,x+u],["_"+x+"W",x+j,x+g],["_"+F+"H",F+f+e,F+u+e],["_"+F+"W",F+j+e,F+g+e],["_"+z+"W",z+j,z+g],["_"+z+"H",z+f,z+u]],function(h){var d,c=xui.Dom.getStyle;v.plugIn(h[0],function(l){l=l||"both";d=this.get(0);return((l=="both"||l=="left"||l=="top")?xui.CSS.$px(c(d,h[1])):0)+((l=="both"||l=="right"||l=="bottom")?xui.CSS.$px(c(d,h[2])):0)||0})});xui.arr.each([["_W",n,"_"+x+"W","_"+F+"W","_"+z+"W",E+e,y+e],["_H",C,"_"+x+"H","_"+F+"H","_"+z+"H",E+k,y+k]],function(c){v.plugIn(c[0],function(L,o,K,T){var J,H,B,N=L.style,S=arguments.callee,G=xui.browser.contentBox,M=S.r1||(S.r1=/%$/),m=xui.Dom.getStyle,O=xui.Dom._setUnitStyle,l=typeof K,w;if(l=="undefined"||l=="boolean"){if(K===true){J=(m(L,"display")=="none")||L.offsetHeight===0;if(J){var Q=xui.Dom.getEmptyDiv().html("*",false);xui([L]).swap(Q);var R,I,P;R=N.visibility,I=N.position,P=N.display;I=I||"";R=R||"";P=P||"";N.visibility="hidden";N.position="absolute";N.display="block"}}B=xui([L]);switch(o){case 1:H=m(L,c[1]);if((isNaN(parseFloat(H))||M.test(H))&&!T){H=S(L,2,undefined,true)-(G?B[c[2]]():0)}H=xui.CSS.$px(H)||0;break;case 2:H=L[c[6]];if(!H){if(!T){H=S(L,1,undefined,true)+(G?B[c[2]]():0)}}else{H-=B[c[3]]()}break;case 3:H=L[c[6]];if(!H){H=S(L,1,K)+(G?B[c[2]]():0)+B[c[3]]()}break;case 4:H=S(L,3,K);H+=B[c[4]]();break}if(J){N.display=P;N.position=I;N.visibility=R;B.swap(Q);Q.empty(false)}return parseFloat(H)||0}else{switch(o){case 1:if(O(L,c[1],K)){if(xui.Dom.$hasEventHandler(L,"onsize")){var h={};h[c[1]]=1;xui([L]).onSize(true,h)}}break;case 2:S(L,1,K-(G?xui([L])[c[2]]():0));break;case 3:S(L,1,K-(B=xui([L]))[c[3]]()-(G?B[c[2]]():0));break;case 4:S(L,1,K-(B=xui([L]))[c[4]]()-B[c[3]]()-(G?B[c[2]]():0));break}}})});xui.arr.each([[E+e,"_W",2],[y+e,"_W",3],[s+e,"_W",4],[E+k,"_H",2],[y+k,"_H",3],[s+k,"_H",4]],function(c){v.plugIn(c[0],function(h){var d=typeof h;if(d=="undefined"||d=="boolean"){return this[c[1]](this.get(0),c[2],h)}else{return this.each(function(l){this[c[1]](l,c[2],h)})}})});xui.arr.each([[A+"By",A],[q+"By",q],[n+"By",n],[C+"By",C]],function(c){v.plugIn(c[0],function(p,o){if(p===0){return this}var d,l,h=c[1];return this.each(function(m){d=xui.use(m.$xid)[h]();d=(parseFloat(d)||0)+p;if(h=="width"||h=="height"){d=d>0?d:0}m.style[h]=xui.CSS.$forceu(d,null,m);if(o){l={};l[h]=1;var r=xui.Dom.$hasEventHandler;if((h=="left"||h=="top")&&r(m,"onmove")){xui([m]).onMove(true,l)}if((h=="width"||h=="height")&&r(m,"onsize")){xui([m]).onSize(true,l)}}},this)})});xui.arr.each(["scrollLeft","scrollTop"],function(c){v.plugIn(c,function(m){var h=document.documentElement,d=document.body;if(m!==undefined){return this.each(function(o){if(o===window||o===document){h[c]=d[c]=m}else{o[c]=m}})}else{var l=this.get(0);if(l===window||l===document){if("scrollTop"==c){return window.pageYOffset||(h[c]||d[c]||0)}if("scrollLeft"==c){return window.pageXOffset||(h[c]||d[c]||0)}}return l[c]}})});xui.arr.each("width,height,left,top".split(","),function(c){v.plugIn(c,function(w){var G=this,h=G.get(0),o=xui.browser,m=typeof w,r=document,B;if(!h||h.nodeType==3){return}if(m=="undefined"||m=="boolean"){if((c=="width"&&(B="Width"))||(c=="height"&&(B="Height"))){if(r===h){return Math.max(r.body["scroll"+B],r.body["offset"+B],r.documentElement["scroll"+B],r.documentElement["offset"+B])}if(window===h){return o.opr?Math.max(r.body["client"+B],window["inner"+B]):o.kde?window["inner"+B]:(xui.browser.contentBox&&r.documentElement["client"+B])||r.body["client"+B]}}if(c=="width"){w=(xui.CSS.$isPx(h.style.width)&&parseFloat(h.style.width))||G._W(h,1,w)}else{if(c=="height"){w=(xui.CSS.$isPx(h.style.height)&&parseFloat(h.style.height))||G._H(h,1,w)}else{w=xui.Dom.getStyle(h,c,true)}}return(w=="auto"||w==="")?w:(w||0)}else{var l=xui.Dom._setUnitStyle,B,p,d=xui.CSS.$addu(w);return G.each(function(H){if(H.nodeType!=1){return}if(H.style[c]!==d){if(c=="width"){G._W(H,1,w)}else{if(c=="height"){G._H(H,1,w)}else{if(l(H,c,w)){if((c=="top"||c=="left")&&xui.Dom.$hasEventHandler(h,"onmove")){p={};p[c]=1;xui([H]).onMove(true,p)}}}}}})}})});xui.arr.each(xui.Event._events,function(c){xui.arr.each(xui.Event._getEventName(c),function(d){v.$enableEvents(d)})})},Initialize:function(){var e=window,f=document;xui.set(xui.$cache.domPurgeData,"!window",{$xid:"!window",element:e});xui.set(xui.$cache.domPurgeData,"!document",{$xid:"!document",element:f});xui.win=xui(["!window"],false);xui.doc=xui(["!document"],false);xui.busy=xui.Dom.busy;xui.free=xui.Dom.free;xui.$inlineBlock=xui.browser.gek?xui.browser.ver<3?["-moz-inline-block","-moz-inline-box","inline-block"]:["inline-block"]:(xui.browser.ie&&xui.browser.ver<=6)?["inline-block","inline"]:["inline-block"];var c=function(h,k,d){var g=xui.Event,o,j,n,l,m=g.getKey(k);if(m){if(m[0].length==1){m[0]=m[0].toLowerCase()}if(arr=d[m.join(":")]){xui.arr.each(arr,function(q,p){o=arr[q];if(o){if(o[3]&&(typeof o[3]=="function"?false===(o[3])():(!xui(o[3]).size()))){delete arr[q];arr.pop()}l=xui.tryF(o[0],o[1],o[2]);if(l===false){n=1;return false}else{if(l===true){delete arr[q];arr.pop()}}}},null,true);if(n){g.stopBubble(k);return false}}}return true};xui.doc.onKeydown(function(g,d){xui.Event.$keyboard=xui.Event.getKey(d);c(g,d,xui.$cache.hookKey)},"document").onKeyup(function(g,d){delete xui.Event.$keyboard;c(g,d,xui.$cache.hookKeyUp)},"document");xui.doc.onClick(function(l,k,n){var m=xui.Event.getSrc(k),h=0,d,g;do{if(m.nodeName=="A"){d=true;break}if(++h>8){break}}while(m=m.parentNode);if(d){g=xui.str.trim(m.href||"").toLowerCase();if(xui.History){var j=location.href.split("#")[0];if(!xui.Event.getKey(k).shiftKey&&xui.Event.getBtn(k)=="left"&&(g.indexOf(j+"#")==0||g.indexOf("#")==0)){xui.History.setFI(m.href.replace(j,""))}}if(xui.browser.ie&&(g.indexOf("javascript:")==0||g.indexOf("#")!==-1)){return false}}},"hookA",0);if(xui.browser.ie&&xui.browser.ver<10&&f.body){f.body.onselectstart=function(g,d){g=event.srcElement;while(g&&g.nodeName&&g.nodeName!="BODY"&&g.nodeName!="HTML"){if(d=xui.getNodeData(g,"_onxuisel")){return d!="false"}if(g.nodeName=="INPUT"||g.nodeName=="TEXTAREA"){break}g=g.parentNode}return true}}xui.win.afterUnload(function(){e.onresize=null;if(e.removeEventListener){e.removeEventListener("DOMMouseScroll",xui.Event.$eventhandler3,false)}f.onmousewheel=e.onmousewheel=null;if(xui.browser.isTouch){if(f.removeEventListener){f.removeEventListener((xui.browser.ie&&e.PointerEvent)?"pointerdown":(xui.browser.ie&&e.MSPointerEvent)?"MSPointerDown":"touchstart",xui.Event._simulateMousedown,false);f.removeEventListener((xui.browser.ie&&xui.browser.ver>=11)?"pointerup":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerUp":"touchend",xui.Event._simulateMouseup,false)}else{if(f.detachEvent){f.detachEvent((xui.browser.ie&&xui.browser.ver>=11)?"pointerdown":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerDown":"touchstart",xui.Event._simulateMousedown);f.detachEvent((xui.browser.ie&&xui.browser.ver>=11)?"pointerup":(xui.browser.ie&&xui.browser.ver>=10)?"MSPointerUp":"touchend",xui.Event._simulateMouseup)}}}if(xui.browser.ie&&f.body){f.body.onselectstart=null}if("onhashchange" in e){e.onhashchange=null}xui("body").empty();xui([e,f]).$clearEvent();xui.SC.__gc();xui.Thread.__gc();Class.__gc();xui.breakO(xui.$cache,2);xui.breakO([xui,Class],3);e.Class=e.xui=e.xui_ini=e._=undefined},"window",-1)}});Class("xui.Template","xui.absProfile",{Constructor:function(h,f,e,j){var g=arguments.callee.upper,d=xui.toArr(arguments);g.apply(this,d);g=null;var c=this;c.$domId=c.KEY+":"+(c.serialId=c._pickSerialId())+":";c.domId=typeof j=="string"?j:c.$domId;c._links={};c.template={root:[["<div></div>"],[]]};c.properties={};c.events={};c.$template={};c.link(c.constructor._cache,"self").link(xui._pool,"xui");c.Class=c.constructor;c.box=c.constructor;c.boxing=function(){return this};if(h){c.setTemplate(typeof h=="string"?{root:h}:h)}if(e){c.setEvents(e)}if(f){c.setProperties(f)}return c},Instance:{renderId:null,__gc:function(){var c=this,d=xui.$cache.reclaimId;if(!c.$noReclaim){(d[c.KEY]||(d[c.KEY]=[])).push(c.serialId)}else{delete c.$noReclaim}delete xui.$cache.profileMap[c.domId];delete xui.$cache.profileMap[c.$domId];c.unLinkAll();xui.breakO([c.properties,c.event,c],2)},_reg0:/^\w[\w_-]*$/,show:function(c){if(!c){c=xui("body")}c=xui(c);c.append(this);return this},getRootNode:function(){return xui.getNodeData(this.renderId,"element")},getRoot:function(){return xui([this.renderId],false)},setDomId:function(g){var d=this,f=xui.$cache.profileMap,e=d._reg0;if(typeof g=="string"&&e.test(g)&&!document.getElementById(g)){if(d.domId!=d.$domId){delete f[d.domId]}d.domId=g;if(d.renderId){d.getRootNode().id=g}if(f[d.$domId]){f[g]=d}}return d},destroy:function(){if(this.renderId){var c=this.getRootNode();xui.$purgeChildren(c);if(c.parentNode){c.parentNode.removeChild(c)}c=null}else{this.__gc()}},setEvents:function(d,e){var c=this;if(typeof d=="object"){c.events=d}else{c.events[d]=e}return c},setTemplate:function(f,j){var c=this,e=c.template,k=c.$template,g;if(typeof f=="object"){c.template=f;g={};for(var d in f){g[d||"root"]=c._buildTemplate(f[d])}c.$template=g}else{if(typeof j=="string"){k[f]=c._buildTemplate(e[f]=j)}else{k.root=c._buildTemplate(e.root=f)}}return c},setProperties:function(d,e){var c=this;if(typeof d=="object"){c.properties=d}else{c.properties[d]=e}return c},getItem:function(h){var g=xui.getNodeData(h);if(!g){return}var j=g.tpl_evid,d=g.tpl_evkey;if(!j||!d){return}var c=arguments.callee,e=c.f||(c.f=function(n,m,q){var l,p,k,f;for(k in n){p=n[k];if(xui.isArr(p)&&(m==k||m.indexOf((n.tpl_evkey||k)+".")===0)){for(l=0;f=p[l];l++){if(f.tpl_evkey==m&&f.id==q){return f}else{if(f=e(f,m,q)){return f}}}}}});return e(this.properties,d,j)},_pickSerialId:function(){var c=xui.$cache.reclaimId[this.KEY];if(c&&c[0]){return c.shift()}return this.constructor._ctrlId.next()},render:function(){var z=this;if(!z.renderId){var d=xui.$getGhostDiv();xui.$cache.profileMap[z.domId]=xui.$cache.profileMap[z.$domId]=this;d.innerHTML=z.toHtml();var c=z.events,q=xui.Event._eventHandler,h=d.getElementsByTagName("*"),n=z.$domId,u=function(){return xui.Event(arguments[0],this,0,n)},s,m,r,p,g,x,e,y,w;if(m=h.length){for(s=0;s<m;s++){if((g=h[s]).nodeType!=1){continue}x=g.getAttribute("tpl_evkey");e=g.getAttribute("tpl_evid");if(x!==null&&e!==null){w=xui.$registerNode(g);w.tpl_evkey=x;w.tpl_evid=e;if(y=c[x]){w=w.eHandlers||(w.eHandlers={});for(r in y){w[r]=u;if(p=q[r]){w[p]=g[p]=u}}}g.removeAttribute("tpl_evkey");g.removeAttribute("tpl_evid")}}if(!d.firstChild.$xid){xui.$registerNode(d.firstChild)}z.renderId=d.firstChild.$xid}g=d=null}return z},refresh:function(){var e=this;if(e.renderId){var d=document.createElement("span"),f=e.getRootNode(),c=xui.$cache.profileMap;delete c[e.domId];delete c[e.$domId];if(f.parentNode){f.parentNode.replaceChild(d,f)}e.destroy();delete e.renderId;e.render();if(d.parentNode){d.parentNode.replaceChild(e.getRootNode(),d)}d=f=null}return e},renderOnto:function(g){var c=this,h,f,e="style",d;if(typeof g=="string"){g=document.getElementById(g)}h=g.id||c.domId;if(!c.renderId){c.render()}f=c.getRootNode();g.parentNode.replaceChild(f,g);if(f.tabIndex!=g.tabIndex){f.tabIndex!=g.tabIndex}if(g.className){f.className+=g.className}if(xui.browser.ie&&(d=g.style.cssText)){f.style.cssText+=d+""}else{if(d=g.getAttribute(e)){f.setAttribute(e,(f.getAttribute(e)||"")+d)}}this.setDomId(h)},toHtml:function(c){var d=xui.copy(c||this.properties||{});d.tpl_evkey="root";return this._doTemplate(d)},_reg1:/([^{}]*)\{([\w]+)\}([^{}]*)/g,_reg2:/\[event\]/g,_buildTemplate:function(f){if(typeof f=="string"){var e=[[],[]],d=e[0],c=e[1];f=f.replace(this._reg2,' tpl_evid="{id}" tpl_evkey="{tpl_evkey}" ');f.replace(this._reg1,function(h,g,k,j){if(g){d[d.length]=g}c[d.length]=d[d.length]=k;if(j){d[d.length]=j}return""});return e}else{return f}},_getEV:function(j,d,c,f){var g=xui.getNodeData(f);if(!g){return}var l=this.events,e=g.tpl_evkey,h=(e&&l&&l[e])||l,k=h&&h[c];if(k){j.push(k)}},_reg3:/(^\s*<\w+)(\s|>)(.*)/,_doTemplate:function(j,w,x){if(!j){return""}var q=this,k=arguments.callee,v,p,f,u=xui.isArr(j),m=q.$template,o=m[w||"root"],c=!x;x=x||[];if(u){if(typeof o!="function"){o=k}for(var h=0;p=j[h++];){p.tpl_evkey=w;o.call(q,p,w,x)}}else{if(typeof o=="function"){o.call(q,j,w,x)}else{w=w?w+".":"";var e=o[0],d=o[1];for(var h=0,g=e.length;h<g;h++){if(f=d[h]){if(f in j){p=typeof j[f]=="function"?j[f].call(q,f,j):j[f];if(m[v=w+f]){k.call(q,p,v,x)}else{x[x.length]=p}}}else{x[x.length]=e[h]}}}}if(c){return x.join("").replace(q._reg3,'$1 id="'+q.$domId+'" $2$3')}},serialize:function(){var c=this,f=xui.serialize,e=xui.absObj.$specialChars,d=xui.isEmpty(c.properties)?null:xui.clone(c.properties,function(h,g){return !e[(g+"").charAt(0)]});return"new xui.Template("+f(c.template||null)+","+f(d)+","+f(xui.isEmpty(c.events)?null:c.events)+","+f(c.$domId!=c.domId?c.domId:null)+")"}},Static:{getFromDom:function(c){if((c=typeof c=="string"?c:(c&&c.id))&&(c=xui.$cache.profileMap[c])&&c["xui.Template"]){return c.boxing()}},_cache:[],_ctrlId:new xui.id()}});Class("xui.DragDrop",null,{Static:{_eh:"_dd",_id:"xui.dd:proxy:",_idi:"xui.dd:td:",_type:{blank:1,move:1,shape:1,deep_copy:1,copy:1,icon:1,none:1},_Icons:{none:"0 0",move:"0 -16px",link:"0 -32px",add:"0 -48px"},_profile:{},_left:function(value){with(this._profile){if(magneticDistance>0&&xMagneticLines.length){var l=xMagneticLines.length;while(l--){if(Math.abs(value-xMagneticLines[l])<=magneticDistance){return xMagneticLines[l]}}}if(widthIncrement>1){return Math.floor(value/widthIncrement)*widthIncrement}return value}},_top:function(value){with(this._profile){if(magneticDistance>0&&yMagneticLines.length){var l=yMagneticLines.length;while(l--){if(Math.abs(value-yMagneticLines[l])<=magneticDistance){return yMagneticLines[l]}}}if(heightIncrement>1){return Math.floor(value/heightIncrement)*heightIncrement}return value}},_ini:function(g){var f=this,e=f._profile,c=xui.win;f._box={width:c.width()+c.scrollLeft(),height:c.height()+c.scrollTop()};e.ox=e.x;e.oy=e.y;if(f._proxy=g){f._proxystyle=g.get(0).style;f._profile.curPos=f._cssPos=f._proxy.cssPos();f._cssPos_x=e.x-f._cssPos.left;f._cssPos_y=e.y-f._cssPos.top;e.restrictedLeft=e.x-(e.maxLeftOffset||0);e.restrictedRight=e.x+(e.maxRightOffset||0);e.restrictedTop=e.y-(e.maxTopOffset||0);e.restrictedBottom=e.y+(e.maxBottomOffset||0);f._proxyLeft=f._pre.left=f._cssPos.left;f._proxyTop=f._pre.top=f._cssPos.top;if("move"!==e.dragType){f._proxy.css("zIndex",xui.Dom.TOP_ZINDEX*10);xui.setNodeData(f._proxy.get(0),"zIndexIgnore",1)}}},_reset:function(){var f=this,e=null,c=false;xui.tryF(f.$reset);f.setDropFace();f._resetProxy();f.$proxySize=50;f.$mousemove=f.$mouseup=f.$onselectstart=f.$ondragstart="*";f._cursor="";f._pre={};f._proxyLeft=f._proxyTop=f._cssPos_x=f._cssPos_y=0;f._stop=c;if(f._onDrag&&f._onDrag.tasks){f._onDrag.tasks.length=0;delete f._onDrag.tasks}if(f._onDragover&&f._onDragover.tasks){f._onDragover.tasks.length=0;delete f._onDragover.tasks}if(f._c_droppable){f._c_droppable.length=0}f._c_droppable=f._c_dropactive=f._cssPos=f._box=f._dropElement=f._source=f._proxy=f._proxystyle=f._onDrag=f._onDragover=e;f._profile={$id:xui.rand(),dragType:"shape",dragCursor:"move",targetReposition:true,dragIcon:xui.ini.img_dd,magneticDistance:0,xMagneticLines:[],yMagneticLines:[],widthIncrement:0,heightIncrement:0,dragDefer:0,horizontalOnly:c,verticalOnly:c,maxBottomOffset:e,maxLeftOffset:e,maxRightOffset:e,maxTopOffset:e,targetNode:e,targetCSS:e,dragKey:e,dragData:e,targetLeft:e,targetTop:e,targetWidth:e,targetHeight:e,targetOffsetParent:e,targetCallback:e,tagVar:e,shadowFrom:e,proxyNode:e,x:0,y:0,ox:0,oy:0,curPos:{},offset:{},isWorking:c,restrictedLeft:e,restrictedRight:e,restrictedTop:e,restrictedBottom:e,dropElement:e};f.__touchingfordd=0;return f},abort:function(){this._stop=true},_end:function(){var h=this,f=window,l=document,e=l.body,j="onmousedown",c="onmousemove",m="onmouseup",g,k;if(xui.browser.isTouch){g=(xui.browser.ie&&f.PointerEvent)?"onpointermove":(xui.browser.ie&&f.MSPointerEvent)?"onmspointermove":"ontouchmove";k=(xui.browser.ie&&f.PointerEvent)?"onpointerup":(xui.browser.ie&&f.MSPointerEvent)?"onmspointerup":"ontouchend"}if(h._proxy){h._unpack()}if(h.$onselectstart!="*"){e.onselectstart=h.$onselectstart}if(h.$ondragstart!="*"){l.ondragstart=h.$ondragstart}if(h.$mousemove!="*"){l[c]=h.$mousemove}if(h.$mouseup!="*"){l[m]=h.$mouseup}if(xui.browser.isTouch){if(h.$touchmove!="*"){l[g]=h.$touchmove}if(h.$touchend!="*"){l[k]=h.$touchend}}return h},startDrag:function(u,h,f,o,g){var v=this,j=window,n;if(v._profile.isWorking){return false}v._end()._reset();v._profile.isWorking=true;v.__touchingfordd=u.type=="xuitouchdown";f=xui.isHash(f)?f:{};u=u||j.event;if(xui.Event.getBtn(u)!=="left"){return true}v._source=f.targetNode=xui(h);v._cursor=v._source.css("cursor");if((n=f.targetNode.get(0))&&!n.id){n.id=xui.Dom._pickDomId();n=null}v._defer=f.dragDefer=xui.isNumb(f.dragDefer)?f.dragDefer:0;if(true===f.dragCursor){f.dragCursor=v._cursor}if(typeof f.dragIcon=="string"){f.dragType="icon"}var x=document,m=x.body,l=xui.Event.getPos(u),w="onmousedown",s="onmousemove",p="onmouseup",k,c;if(xui.browser.isTouch){k=(xui.browser.ie&&j.PointerEvent)?"onpointermove":(xui.browser.ie&&j.MSPointerEvent)?"onmspointermove":"ontouchmove";c=(xui.browser.ie&&j.PointerEvent)?"onpointerup":(xui.browser.ie&&j.MSPointerEvent)?"onmspointerup":"ontouchend"}f.x=l.left;f.y=l.top;f.dragKey=o||f.dragKey||null;f.dragData=g||f.dragData||null;var r=xui.Event.getSrc(u);v._start=function(A){var z=v._profile;xui.merge(z,f,"with");v._source.beforeDragbegin();if(v._stop){v._end()._reset();return false}if(xui.Event&&(n=v._source.get(0))){xui.Event._preDroppable=n.id;n=null}if(z.dragType=="icon"){z.targetReposition=false}v._ini(z.dragType=="none"?null:v._pack(l,z.targetNode));if(f.x>=v._box.width||f.y>=v._box.height){v._end()._reset();return true}v._source.onDragbegin();if(z.dragDefer<1){v.$mousemove=x[s];v.$mouseup=x[p];if(xui.browser.isTouch){v.$touchmove=x[k];v.$touchend=x[c]}}if(xui.browser.ie){xui.setTimeout(function(){if(r.releaseCapture){r.releaseCapture()}})}x[s]=v.$onDrag;x[p]=v.$onDrop;if(xui.browser.isTouch){x[k]=v.$onDrag;x[c]=v.$onDrop}v._source.afterDragbegin();if(z.dragDefer>0){v.$onDrag.call(v,A)}if(xui.browser.isTouch&&v.__touchingfordd){v._c_droppable=[];var y=xui.$cache.droppable[z.dragKey],d=[];xui.arr.each(y,function(D){if(!xui.use(D).get(0)){d.push(D);return}var C=xui.use(D),E=C.offsetHeight(),e=C.offsetWidth(),B=C.css("visibility"),F;if(e&&E&&B!="hidden"){F=C.offset();F.width=e;F.height=E;F.id=D;v._c_droppable.unshift(F)}});if(d.length){xui.arr.each(d,function(e){xui.arr.removeValue(y,e)})}}};if(xui.browser.ie){v.$ondragstart=x.ondragstart;v.$onselectstart=m.onselectstart;x.ondragstart=m.onselectstart=null;if(x.selection&&x.selection.empty){try{x.selection.empty()}catch(u){}}}xui.Event.stopBubble(u);if(f.targetNode.get(0)!==x){xui(x).onMousedown(true,xui.Event.getEventPara(u,l))}if(f.dragDefer<1){xui.tryF(v._start,[u],v);return false}else{v.$mouseup=x[p];x[p]=function(d){xui.DragDrop._end()._reset();return xui.tryF(document.onmouseup,[d],null,true)};if(xui.browser.isTouch){v.$touchend=x[c];x[c]=x[p]}var q={};v.$mousemove=x[s];x[s]=function(y){var d=xui.Event.getPos(y);if(d.left===q.left&&d.top===q.top){return}q=d;if(--v._defer<=0){xui.DragDrop._start(y)}return false};if(xui.browser.isTouch){v.$touchmove=x[k];x[k]=x[s]}}},$onDrag:function(m){var q=xui.DragDrop,c=q._profile;if(q.$SimulateMousemoveInMobileDevice){return false}m=m||window.event;if(!c.isWorking||q._stop){q.$onDrop(m);return true}var s=xui.Event.getPos(m);c.x=s.left;c.y=s.top;if(!c.isWorking){return false}if(q._proxy){if(!c.verticalOnly){q._proxyLeft=Math.floor(q._left(((c.maxLeftOffset!==null&&c.x<=c.restrictedLeft)?c.restrictedLeft:(c.maxRightOffset!==null&&c.x>=c.restrictedRight)?c.restrictedRight:c.x)-q._cssPos_x));if(q._proxyLeft-q._pre.left){q._proxystyle.left=Math.round(parseFloat(q._proxyLeft))+"px"}q._pre.left=q._proxyLeft;c.curPos.left=q._proxyLeft+q.$proxySize}if(!c.horizontalOnly){q._proxyTop=Math.floor(q._top(((c.maxTopOffset!==null&&c.y<=c.restrictedTop)?c.restrictedTop:(c.maxBottomOffset!==null&&c.y>=c.restrictedBottom)?c.restrictedBottom:c.y)-q._cssPos_y));if(q._proxyTop-q._pre.top){q._proxystyle.top=Math.round(parseFloat(q._proxyTop))+"px"}q._pre.top=q._proxyTop;c.curPos.top=q._proxyTop+q.$proxySize}}else{c.curPos.left=c.x;c.curPos.top=c.y}if(q._onDrag!=1){if(q._onDrag){q._onDrag(m,q._source._get(0))}else{q._onDrag=1;q._source.onDrag(true,xui.Event.getEventPara(m,s))}}if(xui.browser.isTouch&&q.__touchingfordd){if(q._c_droppable){for(var h=0,g=q._c_droppable.length;h<g;h++){var f=q._c_droppable[h],n=xui.use(f.id).get(0),k=q._c_dropactive,r=xui.use(k).get(0);if(c.x>=f.left&&c.y>=f.top&&c.x<=(f.left+f.width)&&c.y<=(f.top+f.height)){if(k==f.id){var j=m.changedTouches[0];q.$SimulateMousemoveInMobileDevice=1;xui.Event.simulateEvent(n,"mousemove",{screenX:j.screenX,screenY:j.screenY,clientX:j.clientX,clientY:j.clientY});delete q.$SimulateMousemoveInMobileDevice}else{xui.Event.simulateEvent(n,"mouseover",{screenX:c.left,screenY:c.top,clientX:c.left,clientY:c.top});q._c_dropactive=f.id;if(k&&r){xui.Event.simulateEvent(r,"mouseout",{screenX:c.left,screenY:c.top,clientX:c.left,clientY:c.top})}}break}else{if(k==f.id){if(r){xui.Event.simulateEvent(r,"mouseout",{screenX:c.left,screenY:c.top,clientX:c.left,clientY:c.top})}q._c_dropactive=null;break}}}}}return false},$onDrop:function(h){var j=xui.DragDrop,g=j._profile,c=xui.Event;h=h||window.event;j._end();if(g.isWorking){j.setDropFace();var f=j._source.onDragstop(true,c.getEventPara(h));if(j._dropElement){xui.use(j._dropElement).onDrop(true,c.getEventPara(h))}}j._reset();c.stopBubble(h);xui.tryF(document.onmouseup,[h]);return !!f},setDropElement:function(c){this._profile.dropElement=this._dropElement=c;return this},getProfile:function(){var e=this,c=e._profile;c.offset=e._proxy?{x:e._proxyLeft-c.ox+e._cssPos_x,y:e._proxyTop-c.oy+e._cssPos_y}:{x:c.x-c.ox,y:c.y-c.oy};return c},setDropFace:function(k,h){var l=this,g='<div style="position:absolute;z-index:'+xui.Dom.TOP_ZINDEX+";font-size:0;line-height:0;border-",e=":dashed 1px #ff6600;",j=l._Region,c=l._rh,f="backgroundColor";if(j&&j.parent()){j.remove(false)}if(l._R){l._R.css(f,l._RB);delete l._R;delete l._RB}if(k){if(!j||!j.get(0)){j=l._Region=xui.create(g+"top"+e+'left:0;top:0;width:100%;height:0;"></div>'+g+"right"+e+'right:0;top:0;height:100%;width:0;"></div>'+g+"bottom"+e+'bottom:0;left:0;width:100%;height:0;"></div>'+g+'left:solid 2px #ff6600;width:0;left:0;top:0;height:100%;"></div>');c=l._rh=xui([j.get(1),j.get(3)])}k=xui(k);if(xui.browser.ie6){c.height("100%")}if(k.css("display")=="block"){xui.setNodeData(j.get(0),"zIndexIgnore",1);k.append(j);j.top(k.scrollTop()).left(k.scrollLeft());if(xui.browser.ie6&&!c.get(0).offsetHeight){c.height(k.get(0).offsetHeight)}}else{l._RB=k.get(0).style[f];l._R=k;k.css(f,"#FA8072")}l.setDragIcon(h||"move")}else{l.setDragIcon("none")}return l},setDragIcon:function(f){xui.resetRun("setDropFace",null);var h=this,g=h._profile,e=g.proxyNode,c=h._Icons;if(e&&g.dragType=="icon"){e.first(4).css(typeof f=="object"?f:{backgroundPosition:(c[f]||f)})}return h},_setProxy:function(k,j){var e,c,h=this,f=h._profile,g=xui.Dom;if(!g.byId(h._id)){xui("body").prepend(xui.create('<div id="'+h._id+'" style="left:0;top:0;border:0;font-size:0;line-height:0;padding:'+h.$proxySize+"px;position:absolute;background:url("+xui.ini.img_bg+') repeat;"><div style="font-size:0;line-height:0;" id="'+h._idi+'">'+(xui.browser.ie6?"&nbsp;":"")+"</div></div>"))}e=xui(h._id);if(f.dragKey){h.$proxySize=0;e.css("padding",0)}else{j.left-=h.$proxySize;j.top-=h.$proxySize;if(!f.targetOffsetParent){g.setCover(true,null,false,f.dragCursor)}}if(c=f.targetOffsetParent){xui(c).append(e)}if(k){xui(h._idi).empty(false).append(k);f.proxyNode=k}else{f.proxyNode=xui(h._idi)}e.css({display:"",zIndex:g.TOP_ZINDEX*10,cursor:f.dragCursor}).offset(j,c);xui.setNodeData(e.get(0),"zIndexIgnore",1);return e},_resetProxy:function(){var m=this,h=m._profile,l=xui.Dom,g=m._id,f=m._idi;if(l.byId(g)){var e,c,j=xui(f),e=xui(g);if(xui.browser.ie6){j.html("&nbsp;")}else{j.empty()}j.attr("style","font-size:0;line-height:0;");xui("body").prepend(e.css({zIndex:0,cursor:"",display:"none",padding:Math.round(parseFloat(m.$proxySize))+"px"}));h.proxyNode=m._proxystyle=null;l.setCover(false)}},_pack:function(k,f){var g,j={},m={},h=this,c=h._profile,l;if(c.targetLeft===null||null===c.targetTop){l=f.offset(null,c.targetOffsetParent)}j.left=null!==c.targetLeft?c.targetLeft:l.left;j.top=null!==c.targetTop?c.targetTop:l.top;switch(c.dragType){case"deep_copy":case"copy":var l;m.width=xui.isNumb(c.targetWidth)?c.targetWidth:(f.cssSize().width||0);m.height=xui.isNumb(c.targetHeight)?c.targetHeight:(f.cssSize().height||0);var e=f.clone(c.dragType=="deep_copy").css({position:"relative",margin:"0",left:"0",top:"0",right:"",bottom:"",cursor:c.dragCursor,cssFloat:"none"}).cssSize(m).id("",true).css("opacity",0.8);if(c.targetCallback){c.targetCallback(e)}e.query("*").id("",true);if(c.targetCSS){e.css(c.targetCSS)}g=h._setProxy(e,j);break;case"shape":m.width=null!==c.targetWidth?c.targetWidth:f.offsetWidth();m.height=null!==c.targetHeight?c.targetHeight:f.offsetHeight();m.width-=2;m.height-=2;g=h._setProxy(xui.create("div").css({border:"dashed 1px",fontSize:"0",lineHeight:"0"}).cssSize(m),j);break;case"blank":g=h._setProxy(null,j);break;case"icon":j.left=xui.isNumb(c.targetLeft)?c.targetLeft:(k.left+16);j.top=xui.isNumb(c.targetTop)?c.targetTop:(k.top+16);l='<table border="0" class="xui-node xui-node-table"><tr><td valign="top"><span class="xui-node xui-node-span" style="background:url('+c.dragIcon+") no-repeat left top;width:"+(xui.isNumb(c.targetWidth)?c.targetWidth:16)+"px;height:"+(xui.isNumb(c.targetHeight)?c.targetHeight:16)+'px;" ></span></td><td id="xui:dd:shadow" '+(c.shadowFrom?'style="border:solid 1px #e5e5e5;background:#fff;font-size:12px;line-height:14px;"':"")+">"+(c.shadowFrom?xui(c.shadowFrom).clone(true).css({left:"auto",top:"auto",position:"relative"}).outerHTML().replace(/\s*id\=[^\s\>]*/g,""):"")+"</td></tr></table>";g=h._setProxy(xui.create(l).css("opacity",0.8),j);break;case"move":h.$proxySize=0;g=f;if(g.css("position")!="absolute"){g.css("position","absolute").offset(j)}g.css("cursor",c.dragCursor)}return g},_unpack:function(){var h=this,g=h._profile,c,e;if(g.targetReposition&&("move"!=g.dragType)){if((c=xui(h._source))){if(!c.isEmpty()){if(c.css("position")!="absolute"){c.css("position","absolute").cssPos(c.offset(null,c.get(0).offsetParent))}if(xui.browser.ie){c.cssRegion({right:"",bottom:""})}c.offset(g.curPos,g.targetOffsetParent||document.body)}}}if("move"==g.dragType){h._source.css("cursor",h._cursor)}},_unRegister:function(f,e){var h=this._eh;xui([f]).$removeEvent("beforeMouseover",h).$removeEvent("beforeMouseout",h).$removeEvent("beforeMousemove",h);var g=xui.getNodeData(f.$xid,["_dropKeys"]),j=xui.$cache.droppable;if(g){for(var d in g){if(j[d]){xui.arr.removeValue(j[d],f.$xid)}}}xui.setNodeData(f.$xid,["_dropKeys"])},_register:function(e,p){var g=this._eh;xui(e).beforeMouseover(function(o,l,h){var c=xui.DragDrop,o=c._profile;if(o.dragKey&&xui.getNodeData(h,["_dropKeys",o.dragKey])){c.setDropElement(h);c._onDragover=null;xui.use(h).onDragenter(true);if(c._dropElement){xui.resetRun("setDropFace",c.setDropFace,0,[h],c)}}},g).beforeMouseout(function(o,l,h){var c=xui.DragDrop,o=c._profile;if(o.dragKey&&xui.getNodeData(h,["_dropKeys",o.dragKey])){xui.use(h).onDragleave(true);if(c._dropElement==h){c.setDropElement(c._onDragover=null);xui.resetRun("setDropFace",c.setDropFace,0,[null],c)}}},g).beforeMousemove(function(c,s,o){var l=xui.DragDrop,q=l._onDragover,r=l._profile;if(q==1){return}if(l._dropElement==o&&r.dragKey&&xui.getNodeData(o,["_dropKeys",r.dragKey])){if(q){q(s,o)}else{l._onDragover=1;xui.use(o).onDragover(true,xui.Event.getEventPara(s))}}},g);var d=xui.getNodeData(e.$xid,["_dropKeys"]),m=xui.$cache.droppable;if(d){for(var j in d){if(m[j]){xui.arr.removeValue(m[j],e.$xid)}}}var k={},n=p.split(/[^\w-]+/);for(var j=0,f=n.length;j<f;j++){k[n[j]]=1;m[n[j]]=m[n[j]]||[];m[n[j]].push(e.$xid)}xui.setNodeData(e.$xid,["_dropKeys"],k)}},After:function(){this._reset();xui.each({startDrag:function(g,d,c,f){xui.DragDrop.startDrag(g,this.get(0),d,c||"",f||null);return this},draggable:function(d,h,g,l,k){var e=this,k=k?typeof(k)=="function"?xui.tryF(getTarget,[],this):xui(k):null,c=xui.DragDrop;if(!k||!k.get(0)){k=e}e.addClass("xui-ui-unselectable");if(d===undefined){d=true}else{if(typeof d=="object"){h=d;d=true}}var j=function(m,f,n){if(xui.getId(xui.Event.getSrc(f))!=n){return true}k.startDrag(f,h,g,l)};if(!!d){e.$addEvent("beforeMousedown",j,c._eh,-1)}else{e.$removeEvent("beforeMousedown",c._eh)}return e},droppable:function(c,e){if(c===undefined){c=true}e=e||"default";var f=xui.DragDrop;return this.each(function(d){if(!!c){f._register(d,e)}else{f._unRegister(d,e)}})}},function(d,c){xui.Dom.plugIn(c,d)})}});Class("xui.Cookies",null,{Static:{set:function(c,g,j,h,f,e){if(xui.isHash(c)){for(var d in c){this.set(d,c[d],j,h,f,e)}}else{if(typeof g!="string"){g=xui.serialize(g)}document.cookie=escape(c+"")+"="+escape(g)+(j?"; expires="+(new Date((new Date()).getTime()+(24*60*60*1000*j))).toGMTString():"")+(h?"; path="+h:"")+(f?"; domain="+f:"")+(e?"; secure":"")}return this},get:function(f){var g,e,h,d=document.cookie.split("; "),j={},c=function(k){return/^\s*\{[\s\S]*\}$/.test(k)?xui.unserialize(k):/^\s*\[[\s\S]*\]$/.test(k)?xui.unserialize(k):k};for(g=0;g<d.length;g++){e=d[g].split("=");h=e[1]?unescape(e[1]):"";j[e[0]]=c(h)||h;if(f&&e[0]==escape(f)){return j[e[0]]}}return f?null:j},remove:function(c){return this.set(c,"",-1).set(c,"/",-1)},clear:function(){xui.arr.each(document.cookie.split(";"),function(c){xui.Cookies.remove(xui.str.trim(c.split("=")[0]))})}}});Class("xui.History",null,{Static:{_fid:"xui:history",_type:(xui.browser.ie&&(xui.browser.ver<8))?"iframe":("onhashchange" in window)?"event":"timer",setCallback:function(f){var c=this,e=location.hash;if(e){e="#!"+encodeURIComponent((""+decodeURIComponent(e)).replace(/^#!/,""))}else{e="#!"}c._callback=f;if(f){c._lastFI=decodeURIComponent(e);switch(c._type){case"event":window.onhashchange=c._checker;break;case"iframe":document.body.appendChild(document.createElement('<iframe id="'+c._fid+'" src="about:blank" style="display: none;"></iframe>'));var d=document.getElementById(c._fid).contentWindow.document;d.open("javascript:'<html></html>'");d.write('<html><head><script type="text/javascript">parent.xui.History._checker(\''+e+"');<\/script></head><body></body></html>");d.close();case"timer":if(c._itimer){clearInterval(c._itimer)}c._itimer=setInterval(c._checker,100);break}c._callback(decodeURIComponent(c._lastFI.replace(/^#!/,"")),true)}else{if(c._itimer){clearInterval(c._itimer)}}return c},_checker:function(d){var c=xui.History;if(typeof c._callback!="function"){if(c._itimer){clearInterval(c._itimer)}return}switch(c._type){case"iframe":if(xui.isSet(d)){location.hash=d}case"event":case"timer":if(decodeURIComponent(location.hash)!=decodeURIComponent(c._lastFI)){c._lastFI=decodeURIComponent(location.hash);c._callback(decodeURIComponent(location.hash.replace(/^#(!)?/,"")))}break}},getFI:function(){return this._lastFI},setFI:function(f,e){var c=this;if(!c._callback){return}if(f){f="#!"+encodeURIComponent((""+decodeURIComponent(f)).replace(/^#!/,""))}else{f="#!"}if(c._lastFI==decodeURIComponent(f)){return false}switch(c._type){case"iframe":var d=document.getElementById(c._fid).contentWindow.document;d.open("javascript:'<html></html>'");d.write('<html><head><script type="text/javascript">parent.xui.History._checker(\''+f+"');<\/script></head><body></body></html>");d.close();break;case"event":case"timer":location.hash=c._lastFI=decodeURIComponent(f);if(e!==false){xui.tryF(c._callback,[decodeURIComponent(f.replace(/^#!/,""))])}break}}}});Class("xui.Tips",null,{Constructor:function(){return null},Initialize:function(){var d=xui.DragDrop,c=this;if(d){d.$reset=function(){c._pos={left:d._profile.x,top:d._profile.y}}}xui.CSS.addStyleSheet(".xui-tips{font-size:0;line-height:0;position:absolute;overflow:visible;visibility:hidden;left:-10000px;border-radius:1px;} .xui-tips-i{overflow:hidden;position:relative;}.xui-tips-i span{display:inline;}.xui-tips-c{padding:.125em .25em .25em .25em;}.xui-tips-c *{line-height:1.22em;}.xui-tips .xui-tips-c{border-radius:1px;}",this.KEY);xui.doc.afterMousedown(function(){c._cancel()},"$Tips",-1).afterMousemove(function(j,h){if(d.isWorking){return}var f=xui.Event,g,k;if((g=xui.resetRun.$cache)&&g["$Tips"]){c._pos=f.getPos(h)}if(c._from){c._pos=f.getPos(h);c._showF();xui.resetRun("$Tips3")}else{if(c._showed&&c.MOVABLE){g=f.getPos(h);k=c._Node.style;k.left=Math.round((parseFloat(k.left)||0)+(g.left-c._pos.left))+"px";k.top=Math.round((parseFloat(k.top)||0)+(g.top-c._pos.top))+"px";c._pos=g}}},"$Tips",-1).afterMouseover(function(o,r){var f=xui.Event,k=f.$FALSE,h=f.getSrc(r),g,q,v,n,p=0,w,s=function(e){if(c._markId){c._cancel()}return e};if(!h){return s(k)}try{while((!h.id||h.id==xui.$localeDomId)&&h.parentNode!==document&&p++<10){h=h.parentNode}if(!(g=(typeof h.id=="string"?h.id:null))){h=null;return s(k)}}catch(r){}if((q=f._getProfile(g))&&q.box&&q.KEY=="xui.UIProfile"){if(q.properties.disableTips||q.behavior.disableTips){h=null;return s(false)}var u=q.behavior.NoTips;if(u){for(var m=0,j=u.length;m<j;m++){if(g.indexOf(q.keys[u[m]])===0){return s(false)}}}u=q.behavior.PanelKeys;if(u){for(var m=0,j=u.length;m<j;m++){if(g.indexOf(q.keys[u[m]])===0){return s(false)}}}u=q.behavior.HoverEffected;v=q.onShowTips?g:g.replace(c._reg,function(l,e){return u&&(e in u)?l:":"});if(c._markId&&v==c._markId){return k}c._markId=v;c._pos=f.getPos(r);if(c._showed){c._from=q;c._enode=g;c._showF()}else{xui.resetRun("$Tips",function(){c._from=q;c._enode=g;xui.resetRun("$Tips3",function(){if(c._from){c._showF()}})},c.DELAYTIME)}}else{c._cancel()}h=null;return k},"$Tips",-1).afterMouseout(function(l,k){if(c._markId){var j=xui.Event,m,f,g=0,h=k.toElement||k.relatedTarget;if(!h){f=1}else{try{while((!h.id||h.id==xui.$localeDomId)&&h.parentNode!==document&&g++<10){h=h.parentNode}if(!(m=(typeof h.id=="string"?h.id:null))){h=null;f=1}}catch(k){f=1}}if(f){c._cancel()}return j.$FALSE}},"$Tips",-1).afterMouseup(function(g,f){c._cancel()},"$Tips",-1);this._Types={"default":new function(){this.show=function(q,m,p){if(!m){return}var r=this,g,f,u,o,k;if(!(g=r.node)||!g.get(0)){g=r.node=xui.create('<div class="xui-node xui-node-div xui-tips  xui-ui-shadow xui-custom"><div class="xui-node xui-wrapper xui-node-div xui-tips-i xui-custom"></div></div>');f=r._ruler=xui.create('<div class="xui-node xui-wrapper xui-node-div xui-tips  xui-ui-shadow xui-custom"><div class="xui-node xui-node-div xui-tips-i xui-custom"></div></div>');r.n=g.first();r._n=f.first();xui("body").append(f)}f=r._ruler;if(document.body.lastChild!=g.get(0)){xui("body").append(g,false,true)}u=typeof q=="object"?q[p||xui.Tips.TIPSKEY]:q;if(typeof u=="function"){u=u()}if(u+=""){var j=/^\s*\</.test(u);u=xui.adjustRes(u);xui.Tips._curTips=u;if(!q.transTips||!j){u='<div class="xui-ui-ctrl xui-node xui-node-div  xui-uiborder-flat xui-uicell-alt xui-node-tips xui-tips-c xui-custom">'+u+"</div>"}r._n.get(0).innerHTML=u;o=f.get(0).offsetWidth+2;if(!j){o=Math.min(c.MAXWIDTH,o)}var e=g.get(0).style,l=r.n.get(0),n=l.style;e.visibility="hidden";l.innerHTML=u;if(xui.browser.ie){e.width=n.width=Math.round(o+(o%2))+"px";k=l.offsetHeight;e.height=Math.round(k-(k%2))+"px"}else{n.width=Math.round(o)+"px"}if(m===true){e.visibility="visible"}else{g.popToTop((m["xui.UI"]||m["xui.UIProfile"]||m["xui.Dom"]||m.nodeType==1||typeof m=="string")?m:{left:m.left,top:m.top,region:{left:m.left,top:m.top-12,width:24,height:32}},1)}e=n=l=null}else{g.css("zIndex",0).hide()}};this.hide=function(){this.node.css("zIndex",0).hide()}}}},Static:{_reg:/-([\w]+):/,TIPSKEY:"tips",MAXWIDTH:600,MOVABLE:true,DELAYTIME:400,AUTOHIDETIME:5000,_showF:function(){var d=this,g=d._from,f=xui.Dom.byId(d._enode),k=d._pos,j,h,e,c=true;d._from=d._enode=null;if(!f||!g||!k||!(h=g.box)){return}c=false!==((e=g.CF)&&(e=e.showTips)&&e(g,f,k));if(c!==false){c=false!==(h._showTips&&h._showTips(g,f,k))}if(c!==false){if(((e=g)&&e.tips)||(e&&(e=e.properties)&&e.tips)){d.show(k,e);c=false}else{if((e=g)&&(e=e.properties)&&e.autoTips&&("caption" in e)&&e.tips===""){if(e.caption||e.labelCaption){d.show(k,{tips:e.caption||e.labelCaption});c=false}}}}if(c!==false){d.hide()}else{if(!d.MOVABLE){xui.resetRun("$Tips2",d.hide,d.AUTOHIDETIME,null,d)}}f=k=g=null},getTips:function(){return this._curTips},setTips:function(c){if(this._curTips&&this._tpl&&this._Node){this._tpl.show(c,true)}},setPos:function(d,c){var e=this;if((e=e._Node)&&(e=e.style)){if(d||d===0){e.left=Math.round(parseFloat(d))+"px"}if(c||c===0){e.top=Math.round(parseFloat(c))+"px"}}},show:function(g,f,e){var c=this,d;c._pos=g;if(c._item===f){return}if(typeof f=="string"||(f&&(f[e||xui.Tips.TIPSKEY]))){d=c._tpl=c._Types[f.tipsTemplate]||c._Types["default"];d.show(f,g,e);c._Node=d.node.get(0);c._item=f;c._showed=true}else{c._cancel()}},hide:function(){var c=this;if(c._showed){if(c._tpl){c._tpl.hide()}c._clear()}},_cancel:function(){var c=this;if(c._markId){if(c._showed){c.hide()}else{xui.resetRun("$Tips");xui.resetRun("$Tips3");c._clear()}}},_clear:function(){var c=this;c._Node=c._curTips=c._markId=c._from=c._tpl=c._item=c._showed=null}}});